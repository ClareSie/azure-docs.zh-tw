---
title: 雙類決策林：模組參考
titleSuffix: Azure Machine Learning
description: 瞭解如何在 Azure 機器學習中使用雙類決策林模組，基於決策林演算法創建機器學習模型。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/22/2020
ms.openlocfilehash: c9388da449e75dee00fd43af9a4e0407c46f597a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2020
ms.locfileid: "77916705"
---
# <a name="two-class-decision-forest-module"></a>雙類決策林模組

本文介紹 Azure 機器學習設計器（預覽）中的模組。

使用此模組可以創建基於決策林演算法的機器學習模型。  

決策林是快速、有監督的合奏模型。 如果要預測最多兩個結果的目標，此模組是一個不錯的選擇。 

## <a name="understanding-decision-forests"></a>瞭解決策林

此決策林演算法是一種用於分類任務的合奏學習方法。 組合方法基於一般原則，即通過創建多個相關模型並以某種方式組合它們，可以獲得更好的結果和更通用的模型，而不是依賴單個模型。 一般而言，集團模型比單一決策樹的涵蓋範圍更廣、精確度更高。 

有許多方法可以創建單個模型並將其組合在一個集合中。 決策林的這種特定實現的工作原理是建立多個決策樹，然後對最受歡迎的輸出類**進行投票**。 投票是在集合模型中生成結果的更廣為人知的方法之一。 

+ 使用整個資料集創建許多單獨的分類樹，但起點不同（通常是隨機）。 這與隨機林方法不同，在隨機林方法中，各個決策樹可能只使用資料或要素的某些隨機部分。
+ 決策林樹中的每個樹都輸出標籤的非正常化頻率長條圖。 
+ 聚合過程匯總這些長條圖並正常化結果，以獲得每個標籤的"概率"。 
+ 具有高預測信心的樹木將在合唱團的最終決定中發揮更大的作用。

決策樹通常具有分類任務的許多優點：
  
- 它們可以捕獲非線性決策邊界。
- 您可以對大量資料進行訓練和預測，因為它們在計算和記憶體使用方面效率很高。
- 功能選擇集成在培訓和分類過程中。  
- 樹可以容納嘈雜的資料和許多功能。  
- 它們是非參數模型，這意味著它們可以處理具有不同分佈的資料。 

但是，簡單的決策樹可能過度學習資料，並且比樹組更不通用。

有關詳細資訊，請參閱[決策林](https://go.microsoft.com/fwlink/?LinkId=403677)。  

## <a name="how-to-configure"></a>如何設定
  
1.  在 Azure 機器學習中將**雙類決策林**模組添加到管道中，然後打開該模組**的屬性**窗格。 

    您可以在**機器學習**下找到模組。 展開**初始化**，然後**分類**。  
  
2.  對於**重採樣方法**，請選擇用於創建單個樹的方法。  您可以從**裝袋**或**複製**中進行選擇。  
  
    -   **裝袋**： 裝袋也稱為*引導*聚合。 在此方法中，每個樹都生長在新樣本上，通過隨機採樣原始資料集進行替換創建，直到資料集具有原始資料集的大小。  
  
         模型的輸出通過*投票*（一種聚合形式）進行組合。 分類決策林中的每個樹都會輸出標籤的不正常化頻率長條圖。 聚合是求和這些長條圖並正常化，以獲得每個標籤的"概率"。 這樣，具有高預測信心的樹木在合唱團的最終決定中將具有更大的權重。  
  
         有關詳細資訊，請參閱 Bootstrap 聚合的維琪百科條目。  
  
    -   **複製**：在複製中，每個樹都接受完全相同的輸入資料的培訓。 為每個樹節點使用拆分謂詞的確定保持隨機狀態，並且樹將多種多樣。   
  
3.  通過設置 **"創建培訓師模式"** 選項，指定如何訓練模型。  
  
    -   **單一參數**：如果您知道如何配置模型，則可以提供一組特定的值作為參數。

    -   **參數範圍**：如果您不確定最佳參數，則可以使用[Tune 模型 Hyper 參數](tune-model-hyperparameters.md)模組找到最佳參數。 提供一些值範圍，培訓師會對多個設置組合進行遍舍，以確定生成最佳結果的值的組合。
  
4.  對於**決策樹數**，鍵入可在集合中創建的決策樹的最大數量。 通過創建更多決策樹，您可以獲得更好的覆蓋率，但培訓時間會增加。  
  
    > [!NOTE]
    >  此值還控制視覺化訓練的模型時顯示的樹數。 如果要查看或列印單個樹，可以將該值設置為 1。 但是，只能生成一個樹（具有初始參數集的樹），並且不執行進一步的反覆運算。
  
5.  對於**決策樹的最大深度**，鍵入一個數位以限制任何決策樹的最大深度。 增加樹狀結構的深度可增加有效位數，但可能會有過度配適及定型時間增加的風險。
  
6.  對於**每個節點的隨機拆分數**，鍵入生成樹的每個節點時要使用的拆分數。 *拆分*表示樹（節點）的每個級別中的要素被隨機分割。
  
7.  對於**每個葉節點的最小樣本數**，指示在樹中創建任何終端節點（葉）所需的最小案例數。
  
     藉由增加此值，您會增加建立新規則的臨界值。 例如，若預設值是 1，即使單一案例可能會造成新規則的建立。 如果您將此值增加為 5，則定型資料必須至少包含五個符合相同條件的案例。  
  
8.  選擇 **"允許未知值用於分類要素**"選項，以便在定型或驗證集中為未知值創建組。 模型對於已知值可能不太精確，但它可以為新（未知）值提供更好的預測。 

     如果取消選擇此選項，模型只能接受訓練資料中包含的值。
  
9. 附加標記的資料集，以及其中一個[培訓模組](module-reference.md)：  
  
    -   如果將 **"創建訓練器模式"** 設置為 **"單一參數**"，請使用[訓練器模型](./train-model.md)模組。  
    
## <a name="results"></a>結果

培訓完成後：

+ 要保存已訓練的模型的快照，請在 **"訓練"模型**模組的右側面板中選擇 **"輸出**"選項卡。 選擇 **"註冊"資料集**圖示以將模型保存為可重用模組。

+ 要使用模型進行評分，請使用 **"分數模型"** 模組添加到管道中。

## <a name="next-steps"></a>後續步驟

請參閱 Azure 機器學習[可用的模組集](module-reference.md)。 