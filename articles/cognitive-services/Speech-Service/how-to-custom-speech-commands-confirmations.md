---
title: 在自訂命令預覽應用程式中新增確認-語音服務
titleSuffix: Azure Cognitive Services
description: 瞭解如何在自訂命令預覽應用程式中新增確認至命令。
services: cognitive-services
author: encorona-ms
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 12/05/2019
ms.author: encorona
ms.openlocfilehash: 1cb0624012b22b6cae2c98bfa6ddc9495e09615d
ms.sourcegitcommit: 69156ae3c1e22cc570dda7f7234145c8226cc162
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/03/2020
ms.locfileid: "84310463"
---
# <a name="add-confirmations-to-a-command-in-a-custom-commands-preview-application"></a>在自訂命令預覽應用程式中將確認新增至命令

在本文中，您將瞭解如何在自訂命令預覽應用程式中建立命令的確認。

## <a name="prerequisites"></a>Prerequisites

完成下列文章中的步驟：
> [!div class="checklist"]
> * [快速入門：建立自訂命令預覽應用程式](./quickstart-custom-speech-commands-create-new.md)
> * [快速入門：使用參數來建立自訂命令預覽應用程式](./quickstart-custom-speech-commands-create-parameters.md)

## <a name="create-a-setalarm-command"></a>建立 SetAlarm 命令

若要示範確認，請建立新的命令來設定警示。

1. 在[語音 Studio](https://speech.microsoft.com/)中，開啟您所建立的自訂命令預覽應用程式。
1. 建立新的**SetAlarm**命令。
1. 新增具有下列設定的**日期時間**參數：

   | 設定                           | 建議的值                     |  描述                 |
   | --------------------------------- | -----------------------------------------------------| ------------|
   | **名稱**                              | **DateTime**                                | 參數的描述性名稱                                |
   | **必要**                          | 已檢查                                 | 核取方塊，指出在完成命令之前是否需要此參數的值 |
   | **必要參數的回應**   | **簡單編輯器-> 什麼時間？**                              | 當不知道此參數的值時，所要求的提示 |
   | **類型**                              | **DateTime**                                | 參數的類型，例如 Number、String、DateTime 或 Geography   |
   | **日期預設值**                     | 如果日期遺失，請使用今天的日期            | 使用者未提供時要使用之變數的預設值  |  
   | **時間預設值**                     | 如果遺失時間，請使用一天的開頭     |  當使用者未提供時，所要使用之變數的預設值|

1. 新增一些範例句子。
   
    ```
    set an alarm for {DateTime}
    set alarm {DateTime}
    alarm for {DateTime}
   ```

1. 新增完成規則以確認結果。 請使用下列組態︰

   | 設定    | 建議的值                               |描述                                     |
   | ---------- | ------------------------------------------------------- |-----|
   | **規則名稱**  | **設定鬧鐘**                                               |    描述規則用途的名稱 |
   | **動作**    | **傳送語音回應-> [確定]，針對 {DateTime} 設定鬧鐘**    |規則條件為 true 時要採取的動作

## <a name="try-it-out"></a>試試看

1. 選取右窗格頂端的 [**定型**]。

1. 定型完成之後，請選取 [**測試**]，然後嘗試下列互動：
    - 輸入：為明天的中午設定鬧鐘
    - 輸出：正常，已為 2020-05-02 12:00:00 設定鬧鐘
    - 輸入：設定鬧鐘
    - 輸出：何謂時間？
    - 輸入：下午5
    - 輸出：正常，已為 2020-05-01 17:00:00 設定鬧鐘

## <a name="add-interaction-rules-for-the-confirmation"></a>新增確認的互動規則

藉由新增互動規則來建立確認。

1. 在您的**SetAlarm**命令中，選取中間窗格中的 [**新增**]，然後選取 [**互動規則**] [  >  **確認命令**]。

    此規則會要求使用者確認警示的日期和時間。 使用下列設定：

   | 設定               | 建議的值                                                                  | 描述                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | **規則名稱**             | **確認日期時間**                                                                | 描述規則用途的名稱          |
   | **條件**            | **必要參數-> DateTime**                                                    | 判斷規則何時可執行檔條件    |   
   | **動作**               | **傳送語音回應-> 您確定要設定 {DateTime} 的鬧鐘嗎？**     | 規則條件為 true 時要採取的動作 |
   | **期望**          | **需要使用者的確認**                                                 | 下一回合的預期                      |
   | **執行後狀態**  | **等待使用者的輸入**                                                            | 回合後的使用者狀態                  |
  
      > [!div class="mx-imgBorder"]
      > ![建立必要的參數回應](media/custom-speech-commands/add-validation-set-temperature.png)

1. 為接受的確認新增互動規則（使用者說「是」）。 請使用下列組態︰

   | 設定               | 建議的值                                                                  | 描述                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | **規則名稱**             | **已接受確認**                                                            | 描述規則用途的名稱          |
   | **條件**            | **確認成功 & 必要參數-> DateTime**                      | 判斷規則何時可執行檔條件    |   
   | **執行後狀態** | **執行完成規則**                                                          | 回合後的使用者狀態                   |

1. 為拒絕的確認新增互動規則（使用者說「否」）。 請使用下列組態︰

   | 設定               | 建議的值                                                                  | 描述                                        |
   | --------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------- |
   | **規則名稱**             | **拒絕的確認**                                                                   | 描述規則用途的名稱          |
   | **條件**            | **已拒絕確認 & 必要參數-> DateTime**                               | 判斷規則何時可執行檔條件    |   
   | **動作**               | **清除參數值-> 日期時間 & 傳送語音回應-> 沒有問題，那該怎麼辦？**  | 規則條件為 true 時要採取的動作 |
   | **執行後的狀態** | **等待輸入**                                                                   | 回合後的使用者狀態                   |
   | **期望**          | **需要從使用者 > 的日期時間輸入參數**                           | 下一回合的預期                      |

## <a name="try-out-the-changes"></a>試用變更

1. 選取 [訓練]。

1. 定型完成之後，請選取 [**測試**]，然後嘗試下列互動：

    - 輸入：為明天的中午設定鬧鐘
    - 輸出：您確定要設定 2020-05-02 12:00:00 的鬧鐘嗎？
    - 輸入：否
    - 輸出：沒有問題，接下來的時間為何？
    - 輸入：下午5
    - 輸出：「您確定要設定 2020-05-01 17:00:00 的鬧鐘嗎？」
    - 輸入：是
    - 輸出：正常，已為 2020-05-01 17:00:00 設定鬧鐘

## <a name="next-steps"></a>後續步驟

> [!div class="nextstepaction"]
> [在自訂命令預覽應用程式的命令中新增單步驟更正](./how-to-custom-speech-commands-one-step-correction.md)
