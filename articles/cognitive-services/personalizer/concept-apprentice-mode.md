---
title: 新手模式-個人化工具
description: ''
ms.topic: conceptual
ms.date: 05/01/2020
ms.openlocfilehash: 2697ab4b32edbd4841f2b11725fda46e90e7ae7e
ms.sourcegitcommit: bb0afd0df5563cc53f76a642fd8fc709e366568b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/19/2020
ms.locfileid: "83599575"
---
# <a name="use-apprentice-mode-to-train-personalizer-without-affecting-your-existing-application"></a>使用新手模式來定型個人化工具，而不影響現有的應用程式

由於**實際**的增強式學習本質，個人化工具模型只能在生產環境中進行定型。 當部署新的使用案例時，個人化工具模型不會有效率地執行，因為需要時間讓模型充分定型。  **新手模式**是可簡化這種情況的學習行為，可讓您在模型中獲得信心，而不需要開發人員變更任何程式碼。

[!INCLUDE [Important Blue Box - Apprentice mode pricing tier](./includes/important-apprentice-mode.md)]

## <a name="what-is-apprentice-mode"></a>什麼是新手模式？

與新手從主伺服器學習的方式類似，而且體驗可能更好;新手模式是一_種行為_，可讓個人化工具透過觀察從現有應用程式邏輯取得的結果來學習。

個人化工具會透過模擬與應用程式相同的輸出來進行訓練。 隨著事件流程的增加，個人化工具可以_趕上_現有的應用程式，而不會影響現有的邏輯和結果。 Azure 入口網站和 API 提供的計量可協助您瞭解模型學習時的效能。

一旦個人化工具學到並獲得某種程度的瞭解，開發人員就可以將行為從新手模式變更為線上模式。 在這段時間，個人化工具會開始影響排名 API 中的動作。

## <a name="purpose-of-apprentice-mode"></a>新手模式的用途

新手模式可讓您信任個人化工具服務及其機器學習功能，並提供頂頭上司讓服務能夠從學習的資訊傳送給您，而不會有風險的線上流量。

使用新手模式的兩個主要原因如下：

* 緩和**冷啟動**：新手模式可協助管理及評估「新」模型學習時間的成本-不會傳回最佳的動作，也無法達成大約75-85% 的令人滿意的效能等級。
* **驗證動作和內容功能**：在動作和內容中傳送的功能可能不足或不正確、太多、錯誤或太特定而無法訓練個人化工具來達到理想的有效性率。 使用[功能評估](concept-feature-evaluation.md)來尋找及修正功能的問題。

## <a name="when-should-you-use-apprentice-mode"></a>何時應該使用新手模式？

使用新手模式來定型個人化工具，以改善其在下列案例中的效率，同時讓您的使用者體驗不受個人化工具影響：

* 您會在新的使用案例中執行個人化工具。
* 您已大幅變更您在內容或動作中傳送的功能。
* 您已大幅變更計算報酬的時間和方式。

新手模式不是測量個人化工具對報酬分數之影響的有效方式。 若要測量個人化工具在選擇每個排名呼叫最佳可能動作時的有效程度，請使用[離線評估](concepts-offline-evaluation.md)。

## <a name="who-should-use-apprentice-mode"></a>誰應該使用新手模式？

新手模式適用于開發人員、資料科學家和商務決策者：

* **開發人員**可以使用新手模式來確保在應用程式中正確使用排名和報酬 api，而且從應用程式傳送至個人化工具的功能不包含任何錯誤或不相關的功能，例如時間戳記或 UserID 元素。

* **資料科學家**可以使用新手模式來驗證功能是否有效，以定型個人化工具模型，報酬等待時間不會太長或短。

* **商務決策者**可以使用新手模式來評估相較于現有商務邏輯，個人化工具改善結果（亦即報酬）的可能性。 這可讓他們做出明智的決策影響使用者體驗，其中真正的收益和使用者滿意度會面臨重大的問題。

## <a name="comparing-behaviors---apprentice-mode-and-online-mode"></a>比較行為-新手模式和線上模式

在新手模式中學習時，會以下列方式與線上模式不同。

|區域|新手模式|線上 模式|
|--|--|--|
|對使用者經驗的影響|您可以使用現有的使用者行為來定型個人化工具，方法是讓它觀察（不會影響）您的**預設動作**，以及它所取得的報酬。 這表示您的使用者體驗和其商務結果不會受到影響。|顯示次序呼叫傳回的最高動作，以影響使用者行為。|
|學習速度|在新手模式中，個人化工具的學習速度會比以線上模式學習時更慢。 新手模式只能透過觀察由您的**預設動作**取得的報酬來學習，這會限制學習的速度，因為無法執行探索。|學習速度更快，因為它可以利用目前的模型，並探索新的趨勢。|
|學習成效「上限」|個人化工具可以近似、非常少地比對，而且永遠不會超過基礎商務邏輯的效能（每個排名呼叫的**預設動作**所達到的報酬總計）。|個人化工具應該會超過應用程式的基準，而在一段時間後，您應該執行離線評估和功能評估，以繼續取得模型的改善。 |
|RewardActionId 的排名 API 值|使用者的體驗不會受到影響，因為_rewardActionId_一律是您在排名要求中傳送的第一個動作。 換句話說，排名 API 在新手模式期間不會對您的應用程式顯示任何內容。 您應用程式中的獎勵 Api 不應變更其在一種模式之間使用獎勵 API 的方式。|個人化工具為您的應用程式選擇的_rewardActionId_會變更使用者的體驗。 |
|評估|個人化工具會比較您的預設商務邏輯所取得的報酬總額，而在該時間點的線上模式中，將會取得報酬總額個人化工具。 該資源的 Azure 入口網站中提供比較|藉由執行[離線評估](concepts-offline-evaluation.md)來評估個人化工具的效率，這可讓您比較已達到應用程式基準潛在報酬的總報酬個人化工具。|

新手模式效果的相關注意事項：

* 個人化工具在新手模式下的效率幾乎不會達到應用程式基準的 100%;而且絕對不會超過它。
* 最佳做法不會嘗試達到100% 的完成;但是，範圍為75–85% 應根據使用案例進行鎖定。

## <a name="using-apprentice-mode-to-train-with-historical-data"></a>使用新手模式來定型歷程記錄資料

如果您有大量的歷程記錄資料，您想要使用來定型個人化工具，您可以使用新手模式透過個人化工具重新執行資料。

在新手模式中設定個人化工具，並建立腳本，以使用歷程記錄資料中的動作和內容功能來呼叫 Rank。 根據您在此資料中的記錄計算來呼叫獎勵 API。 您將需要大約50000的歷程記錄事件以查看一些結果，但建議使用500000以在結果中獲得更高的信賴度。

從歷程記錄資料進行定型時，建議您在中傳送的資料（內容和動作的功能、用於排名要求的 JSON 中的配置，以及此訓練資料集中的報酬計算），符合現有應用程式中可用的資料（特徵和報酬計算）。

離線和實際的資料通常會比較不完整且嘈雜，而且格式會不同。 雖然可能會從歷程記錄資料進行定型，但這樣做可能會產生結論，而不是良好的個人化工具學習程度的預測，特別是在過去的資料和現有的應用程式之間有不同的功能。

通常對於個人化工具而言，相較于使用歷程記錄資料的定型，將行為變更為新手模式，並從現有的應用程式學習，是具有有效模型的更有效率路徑，其中包含較少的人力、資料工程和清除工作。

## <a name="using-apprentice-mode-versus-ab-tests"></a>使用新手模式與 A/B 測試

只有在驗證並以線上模式學習時，才會對個人化工具處理進行 A/B 測試，這是很有用的作法。 在新手模式中，只會使用**預設動作**，這表示所有使用者都可以有效地看到控制項體驗。

即使個人化工具只是_處理_方式，在驗證資料是否適合定型個人化工具時，也會出現相同的挑戰。 新手模式可以改用100% 的流量，並讓所有使用者都能取得控制（不受影響的）體驗。

一旦您有使用個人化工具和線上學習的使用案例，A/B 實驗就可讓您對結果進行控制的世代和科學比較，可能比用於報酬的信號更為複雜。 A/B 測試可以回答的範例問題是：`In a retail website, Personalizer optimizes a layout and gets more users to _check out_ earlier, but does this reduce total revenue per transaction?`

## <a name="next-steps"></a>後續步驟

* 瞭解作用中[和非作用中的事件](concept-active-inactive-events.md)