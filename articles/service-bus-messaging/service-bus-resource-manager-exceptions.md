---
title: Azure 服務匯流排 Resource Manager 例外狀況 |Microsoft Docs
description: 由 Azure Resource Manager 和建議動作所呈現的服務匯流排例外狀況清單。
ms.topic: article
ms.date: 06/23/2020
ms.openlocfilehash: a0b0338da0f002c7b667748ffd2bf5a40c91c580
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/09/2020
ms.locfileid: "85336978"
---
# <a name="service-bus-resource-manager-exceptions"></a>服務匯流排 Resource Manager 例外狀況

本文列出使用 Azure Resource Manager-via 範本或直接呼叫來與 Azure 服務匯流排互動時所產生的例外狀況。

> [!IMPORTANT]
> 這份檔經常更新。 請回來查看是否有更新。

以下是透過 Azure Resource Manager 呈現的各種例外狀況/錯誤。

## <a name="error-bad-request"></a>錯誤：不正確的要求

「不正確的要求」表示 Resource Manager 所收到的要求驗證失敗。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 不正確的要求 | 40000 | 子代碼 = 40000。 建立佇列時無法設定屬性 *' property name '* ，因為命名空間「 *命名空間名稱* 」使用「基本」層。 只有「標準」或「高階」層才支援這項作業。 | 在 Azure 服務匯流排基本層上，無法設定或更新下列屬性- <ul> <li> RequiresDuplicateDetection </li> <li> AutoDeleteOnIdle </li> <li>RequiresSession</li> <li>DefaultMessageTimeToLive </li> <li> DuplicateDetectionHistoryTimeWindow </li> <li> >enableexpress </li> <li> ForwardTo </li> <li> 主題 </li> </ul> | 請考慮從基本升級至標準層或進階層，以使用此功能。 |
| 不正確的要求 | 40000 | 子代碼 = 40000。 無法變更現有佇列 (或主題) 的 ' requiresDuplicateDetection ' 屬性值。 | 建立實體時，必須啟用/停用重複偵測。 無法在建立後變更重複偵測設定參數。 | 若要在先前建立的佇列/主題上啟用重複偵測，您可以建立具有重複偵測的新佇列/主題，然後從原始佇列轉送至新的佇列/主題。 |
| 不正確的要求 | 40000 | 子代碼 = 40000。 指定的值16384無效。 屬性 ' MaxSizeInMegabytes ' 必須是下列其中一個值：1024、2048、3072、4096、5120。 | MaxSizeInMegabytes 值無效。 | 確定 MaxSizeInMegabytes 是下列其中一項-1024、2048、3072、4096、5120。 |
| 不正確的要求 | 40000 | 子代碼 = 40000。 無法變更佇列/主題的資料分割。 | 無法變更實體的資料分割。 | 建立新的實體 (佇列或主題) 並啟用資料分割。 | 
| 不正確的要求 | 無 | 命名空間「 *命名空間名稱* 」不存在。 | 命名空間不存在於您的 Azure 訂用帳戶中。 | 若要解決此錯誤，請嘗試下列 <ul> <li> 請確定 Azure 訂用帳戶正確無誤。 </li> <li> 確定命名空間存在。 </li> <li> 確認命名空間名稱正確 (沒有任何拼寫錯誤或 null 字串) 。 </li> </ul> | 
| 不正確的要求 | 40400 | 子代碼 = 40400。 自動轉送目的地實體不存在。 | 自動轉寄目的地實體的目的地不存在。 | 目的地實體 (佇列或主題) ，必須存在於來源建立之前。 建立目的地實體之後重試。 |
| 不正確的要求 | 40000 | 子代碼 = 40000。 提供的鎖定時間超過允許的最大值 ' 5 ' 分鐘。 | 訊息可以鎖定的時間必須介於1分鐘 (最低) 和5分鐘 (最大) 。 | 請確定提供的鎖定時間介於1分鐘到5分鐘之間。 |
| 不正確的要求 | 40000 | 子代碼 = 40000。 DelayedPersistence 和 RequiresDuplicateDetection 屬性都無法同時啟用。 | 啟用重複偵測的實體必須是持續性，因此無法延遲持續性。 | 深入瞭解 [重複偵測](duplicate-detection.md) |
| 不正確的要求 | 40000 | 子代碼 = 40000。 無法變更現有佇列的 RequiresSession 屬性值。 | 在建立實體時，應該啟用會話的支援。 一旦建立之後，您就無法在現有的實體 (佇列或訂用帳戶上啟用/停用會話)  | 刪除並重新建立新佇列 (或已啟用 "RequiresSession" 屬性的訂用帳戶) 。 |
| 不正確的要求 | 40000 | 子代碼 = 40000。 ' URI_PATH ' 包含服務匯流排不允許的字元 (s) 。 實體區段只能包含字母、數位、句點 (. ) 、連字號 ( ) 和底線 (_) 。 | 實體區段只能包含字母、數位、句點 (. ) 、連字號 ( ) 和底線 (_) 。 任何其他字元都會導致要求失敗。 | 請確認 URI 路徑中沒有不正確字元。 |


## <a name="error-code-429"></a>錯誤碼：429

就像在 HTTP 中一樣，「錯誤碼429」表示「要求太多」。 這表示 (命名空間) 的特定資源正在進行節流，因為有太多要求 (或因為該資源的作業) 發生衝突。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 429 | 50004 | 子代碼 = 50004。 因為 *命名空間* 正在進行節流，所以已終止要求。 | 當連入要求數目超過資源的限制時，就會叫用這個錯誤狀況。 | 請稍候幾秒鐘，然後再試一次。 <br/> <br/> 深入瞭解 [配額](service-bus-quotas.md) 和 [Azure Resource Manager 要求限制](../azure-resource-manager/management/request-limits-and-throttling.md)|
| 429 | 40901 | 子代碼 = 40901。 另一個衝突的作業正在進行中。 | 相同資源/實體上的另一個衝突作業正在進行中 | 等候目前進行中的作業完成，然後再試一次。 |
| 429 | 40900 | 子代碼 = 40900。 衝突。 您要求的作業在資源的目前狀態下不允許。 | 當有多個要求同時在相同的實體 (佇列、主題、訂用帳戶或規則) 上執行作業時，可能會遇到這種情況。 | 請稍候幾秒，然後再試一次 |
| 429 | 40901 | 實體 *' entity name '* 的要求與另一個要求衝突 | 相同資源/實體上的另一個衝突作業正在進行中 | 等候先前的作業完成，然後再試一次 |
| 429 | 40901 | 實體「 *機構名稱*」的另一個更新要求正在進行中。 | 相同資源/實體上的另一個衝突作業正在進行中 | 等候先前的作業完成，然後再試一次 |
| 429 | 無 | 發生資源衝突。 另一個衝突作業可能正在進行中。 如果這是重試失敗的作業，背景清除仍在擱置中。 請稍後再試。 | 當對相同實體有暫止的作業時，可能會叫用這種狀況。 | 請等候先前的作業完成，然後再試一次。 |


## <a name="error-code-not-found"></a>錯誤碼：找不到

此錯誤類別表示找不到資源。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 找不到 | 無 | 找不到實體「 *機構名稱* 」。 | 找不到此作業的實體。 | 請檢查實體是否存在，然後再次嘗試操作。 |
| 找不到 | 無 | 找不到。 作業不存在。 | 您嘗試執行的操作不存在。 | 請檢查作業，然後再試一次。 |
| 找不到 | 無 | 傳入的要求未被辨識為命名空間原則 put 要求。 | 傳入的要求主體為 null，因此無法以 put 要求的形式執行。 | 請檢查要求本文，以確定它不是 null。 | 
| 找不到 | 無 | 找不到訊息實體「 *機構名稱* 」。 | 找不到您嘗試對其執行作業的實體。 | 請檢查實體是否存在，然後再次嘗試操作。 |

## <a name="error-code-internal-server-error"></a>錯誤碼：內部伺服器錯誤

此錯誤類別指出發生內部伺服器錯誤

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 內部伺服器錯誤 | 50000 | 子代碼 = 50000。 內部伺服器錯誤| 可能會因各種原因而發生。 部分徵兆如下： <ul> <li> 用戶端要求/主體已損毀，並導致錯誤。 </li> <li> 用戶端要求因為服務的處理問題而超時。 </li> </ul> | 若要解決此問題 <ul> <li> 請確定要求參數不是 null 或格式不正確。 </li> <li> 重試要求。 </li> </ul> |

## <a name="error-code-unauthorized"></a>錯誤碼：未經授權

此錯誤類別表示沒有執行命令的授權。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 未經授權 | 無 | 次要命名空間的作業無效。 次要命名空間是唯讀的。 | 作業是針對次要命名空間執行，這會設定為 readonly 命名空間。 | 請針對主要命名空間重試命令。 深入瞭解 [次要命名空間](service-bus-geo-dr.md) |
| 未經授權 | 無 | MissingToken：找不到授權標頭。 | 當授權的值為 null 或不正確時，就會發生此錯誤。 | 請確定授權標頭中提及的權杖值是正確的，而不是 null。 |