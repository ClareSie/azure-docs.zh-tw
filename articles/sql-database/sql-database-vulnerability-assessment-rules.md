---
title: SQL 弱點評定規則參考指南
description: SQL Server、Azure SQL Database、Azure SQL 受控執行個體和 Azure Synapse 分析的規則標題和描述清單
services: sql-database
ms.service: sql-database
ms.subservice: security
ms.topic: reference
author: barmichal
ms.author: mibar
ms.reviewer: vanto
ms.date: 05/08/2020
ms.openlocfilehash: d754e27a889785c029b7bb6c7b537d00f63c066b
ms.sourcegitcommit: 999ccaf74347605e32505cbcfd6121163560a4ae
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/08/2020
ms.locfileid: "82984742"
---
# <a name="sql-vulnerability-assessment-rules-reference-guide"></a>SQL 弱點評定規則參考指南

本文列出一組內建規則，可用來將安全性弱點加上旗標，並反白顯示與最佳作法的偏差，例如錯誤設定、過多的許可權，以及未受保護的敏感性資料。 規則是以 Microsoft 的最佳作法為基礎，並著重於顯示資料庫和其珍貴資料的最大安全性問題風險。 它們涵蓋了資料庫層級的問題以及伺服器層級的安全性問題，例如伺服器防火牆設定和伺服器層級權限。 這些規則也代表各種不同管理機構要符合其合規性標準的要求。

資料庫掃描中顯示的規則取決於已掃描的 SQL 版本和平臺。 

若要瞭解如何在 Azure 中執行弱點評估，請參閱[實施弱點評估](https://docs.microsoft.com/azure/sql-database/sql-vulnerability-assessment#implement-vulnerability-assessment)。

## <a name="rules"></a>規則

|規則識別碼  |規則標題  |規則類別  |規則嚴重性  |規則描述  |平台  |
|---------|---------|---------|---------|---------|---------|
| VA1017     |應撤銷所有使用者（dbo 除外）之 xp_cmdshell 的執行許可權         |驗證和授權         |高         |Xp_cmdshell 擴充預存程式會產生 Windows 命令 shell         |<nobr>SQL Server 2012 +<sup>1</sup><nobr/>         |
| VA1018     |應安裝最新的更新         |安裝更新和修補程式         |高         |Microsoft 會定期發行每個 SQL Server 版本的累積更新（Cu）。 此規則會藉由傳入字串進行執行，檢查是否已為使用的特定版本 SQL Server 安裝最新的 CU。 此規則會檢查所有使用者（dbo 除外）是否沒有執行 xp_cmdshell 擴充預存程式的許可權。 |<nobr>SQL Server 2005<nobr/><br/><br/><nobr>SQL Server 2008<nobr/><br/><br/><nobr>SQL Server 2008<nobr/><br/><br/><nobr>SQL Server 2012<nobr/><br/><br/><nobr>SQL Server 2014<nobr/><br/><br/><nobr>SQL Server 2016<nobr/><br/><br/>SQL Server 2017<br/>|
|VA1020     |資料庫使用者來賓不應為任何角色的成員         |驗證和授權         |高         |來賓使用者允許存取未對應至特定資料庫使用者的任何登入資料庫。 此規則會檢查是否沒有任何資料庫角色指派給來賓使用者。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1021     |應該移除全域暫存預存程序         |資料保護         |高         |全域暫存預存程序會顯示在所有的會話中，並在建立該程式的使用者會話關閉時卸載。 此規則會檢查沒有全域預存程式。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1022     |應停用特定分散式查詢         |介面區縮減         |中         |臨機操作分散式查詢會`OPENROWSET`使用`OPENDATASOURCE`和函數來連接到使用 OLE DB 的遠端資料源。 此規則會檢查是否已停用特定分散式查詢。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1023     |CLR 應該停用         |介面區縮減         |高         |CLR 可讓 managed 程式碼由主控，並在 Microsoft SQL Server 環境中執行。 此規則會檢查 CLR 是否已停用。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1026     |CLR 應該停用         |介面區縮減         |中         |CLR 可讓 managed 程式碼由主控，並在 Microsoft SQL Server 環境中執行。 CLR 嚴格安全性會將安全和 EXTERNAL_ACCESS 的元件視為不安全，並要求所有元件都必須以憑證或非對稱金鑰簽署，而該登入已被授與 master 資料庫中的 UNSAFE ASSEMBLY 許可權。 此規則會檢查 CLR 是否已停用。         |<nobr>SQL Server 2017 +<sup>2</sup><nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1027     |應該移除未追蹤的信任元件         |介面區縮減         |高         |標記為 UNSAFE 的元件必須以憑證或非對稱金鑰簽署，且該登入在 master 資料庫中被授與 UNSAFE ASSEMBLY 許可權。 受信任的元件可能會略過這項需求。          |<nobr>SQL Server 2017 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1042     |除了`master`、和以外， `msdb`所有資料庫都應該停用資料庫擁有權連結`tempdb`         |驗證和授權         |高         |跨資料庫擁有權鏈是擁有權連結的延伸，但它會跨越資料庫界限。 此規則會檢查除了`master`、和`msdb` `tempdb`以外，所有資料庫都已停用此選項。 針對`master`、 `msdb`和`tempdb`，預設會啟用跨資料庫擁有權連結。        |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1043     |主體來賓不應具有任何使用者資料庫的存取權         |驗證和授權         |中         |來賓使用者允許存取未對應至特定資料庫使用者的任何登入資料庫。 此規則會檢查來賓使用者是否無法連接到任何資料庫。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1044     |應停用遠端系統管理連線         |介面區縮減         |中         |SQL Server 提供專用管理員連接（DAC）。 DAC 可讓系統管理員存取執行中的伺服器，以執行診斷功能或 Transact-sql 語句，或針對伺服器上的問題進行疑難排解。 此規則會檢查是否已停用遠端專用管理員連接。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1045     |應啟用預設追蹤         |審核和記錄         |中         |預設追蹤可為資料庫管理員提供疑難排解協助，確定他們有必要的記錄檔資料，能在問題發生的第一時間進行診斷。 此規則會檢查是否已啟用預設追蹤。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1046     |所有 SQL 登入都應該啟用 CHECK_POLICY         |驗證和授權         |低         |CHECK_POLICY 選項可讓您根據網域原則來驗證 SQL 登入。 此規則會檢查所有 SQL 登入的 CHECK_POLICY 選項是否已啟用。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1047     |所有 SQL 登入都應該啟用密碼到期檢查         |驗證和授權         |低         |密碼過期原則用於管理密碼的壽命。 當 SQL Server 強制執行密碼到期原則時，系統會提醒使用者變更舊密碼，並停用具有過期密碼的帳戶。 此規則會檢查所有 SQL 登入的密碼到期原則是否已啟用。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1048     |資料庫主體不應對應至`sa`帳戶         |驗證和授權         |高         |攻擊者可以利用對應至`sa`帳戶的資料庫主體，將許可權提升至`sysadmin`         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1051     |應該在所有資料庫上停用 AUTO_CLOSE         |介面區縮減         |中         |AUTO_CLOSE 選項會指定資料庫是否在最後一個使用者結束之後完全關閉並釋出資源。 此規則會檢查是否已在所有資料庫上停用此選項。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1052     |將 BUILTIN\Administrators 移除為伺服器登入         |驗證和授權         |低         |BUILTIN\Administrators 群組包含 Windows 本機系統管理員群組。 在較舊版本中 Microsoft SQL Server 此群組預設具有系統管理員許可權。 此規則會檢查此群組是否已從 SQL Server 中移除。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1053     |應重新命名或`sa`停用具有預設名稱的帳戶         |驗證和授權         |低         |`sa`是名為的知名帳戶，其主體識別碼為1。 此規則會驗證`sa`帳戶是否已重新命名或已停用         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1054     |不應將過多的許可權授與物件或資料行上的 PUBLIC 角色         |驗證和授權         |低         |每個 SQL Server 登入都屬於 public 伺服器角色。 當伺服器主體未被授與或拒絕安全物件的特定許可權時，使用者會繼承授與給該物件之 public 的許可權。 此規則會顯示所有使用者透過 PUBLIC 角色可存取的所有安全物件或資料行清單。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1058     |`sa`應停用登入         |驗證和授權         |高         |`sa`是名為的知名帳戶，其主體識別碼為1。 此規則會確認`sa`帳戶已停用。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1059     |應停用 xp_cmdshell         |驗證和授權         |高         |xp_cmdshell 會產生 Windows 命令 shell，並將字串傳遞給它來執行。 此規則會檢查是否已停用 xp_cmdshell。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1066     |應該移除未使用的 service broker 端點         |介面區縮減         |低         |Service Broker 為 SQL Server 提供佇列和可靠的訊息處理。 Service Broker 用於使用單一 SQL Server 實例的應用程式，以及跨多個實例散發工作的應用程式。 Service Broker 端點提供了傳輸安全性和訊息轉送的選項， 此規則會列舉所有 service broker 端點。 請移除未使用的那些。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1067     |應停用 Database Mail XPs         |驗證和授權         |中         |Database Mail 是從 SQL Server 傳送電子郵件訊息的企業解決方案。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1068     |伺服器許可權不應直接授與主體         |驗證和授權         |低         |伺服器層級許可權會與伺服器層級物件相關聯，以控制哪些使用者可以取得物件的存取權。 此規則會檢查是否沒有直接授與登入的伺服器層級許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1069     |從系統資料表和 views 選取的許可權應從非 sysadmin 撤銷         |驗證和授權         |低         |從系統資料表和 views 選取的非系統管理員（sysadmin）許可權已現成存在，通常是由 SSMS 這類工具所使用。 此規則會列舉哪些系統資料表和視圖可由非 sysadmin 存取。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1070     |資料庫使用者不應該與伺服器登入共用相同的名稱         |驗證和授權         |低         |資料庫使用者可以與伺服器登入共用相同的名稱。 此規則會驗證沒有這類使用者。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1071     |應該停用 [掃描啟動預存程式] 選項         |介面區縮減         |中         |啟用 [掃描啟動程式] 時 SQL Server 會掃描並執行伺服器上定義的所有自動執行預存程式。 如果啟用此選項，SQL Server 會掃描並執行伺服器上定義的所有自動執行預存程式。 此規則會檢查是否已停用此選項。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1072     |驗證模式應為 Windows 驗證         |驗證和授權         |中         |有兩種可能的驗證模式： Windows 驗證模式和混合模式。 混合模式表示 SQL Server 會同時啟用 Windows 驗證和 SQL Server 驗證。 此規則會檢查驗證模式是否設定為 [Windows 驗證]。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1091     |當「登入審核」設定為追蹤登入時，應該啟用成功和失敗的登入嘗試（預設追蹤）的審核         |審核和記錄         |低         |SQL Server 登入審核設定] 可讓系統管理員追蹤登入 SQL Server 實例的使用者。 如果使用者選擇在 [登入審核] 上計算，以追蹤登入 SQL Server 實例的使用者，則必須同時啟用成功和失敗的登入嘗試。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1092     |SQL Server 實例不應由 SQL Server Browser 服務公告         |介面區縮減         |低         |SQL Server 會使用 SQL Server Browser 服務來列舉電腦上所安裝之資料庫引擎的實例。 這可讓用戶端應用程式流覽伺服器，並協助用戶端區分同一部電腦上的多個資料庫引擎實例。 此規則會檢查 SQL 實例是否已隱藏。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1093     |錯誤記錄檔的最大數目應為12個以上         |審核和記錄         |低         |每個 SQL Server 錯誤記錄檔都會包含自上次重新開機 SQL Server 之後，或自上次您回收錯誤記錄檔之後，所發生失敗/錯誤的所有相關資訊。 此規則會檢查錯誤記錄檔的最大數目是12或更多。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1094     |資料庫許可權不應直接授與主體         |驗證和授權         |低         |許可權是與安全物件相關聯的規則，可控制哪些使用者可以取得物件的存取權。 此規則會檢查沒有直接授與使用者的 DB 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1095     |不應將過多的許可權授與給 PUBLIC 角色         |驗證和授權         |中         |每個 SQL Server 登入都屬於 public 伺服器角色。 當伺服器主體未被授與或拒絕安全物件的特定許可權時，使用者會繼承授與給該物件之 public 的許可權。 這會顯示授與給 PUBLIC 角色的擁有權限清單。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1096     |主體來賓不應被授與資料庫中的許可權         |驗證和授權         |低         |每個資料庫都包含名為「來賓」的使用者。 具有資料庫存取權但在資料庫中沒有使用者帳戶的使用者，會繼承授與來賓的許可權。 此規則會檢查來賓使用者是否已撤銷擁有權限。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1097     |主體來賓不應被授與物件或資料行的許可權         |驗證和授權         |低         |每個資料庫都包含名為「來賓」的使用者。 具有資料庫存取權但在資料庫中沒有使用者帳戶的使用者，會繼承授與來賓的許可權。 此規則會檢查來賓使用者是否已撤銷擁有權限。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1098     |任何現有的 SSB 或鏡像端點都應該需要 AES 連線         |資料保護         |高         |Service Broker 和鏡像端點支援不同的加密演算法，包括無加密。 此規則會檢查是否有任何現有的端點需要 AES 加密。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1099     |不應將資料庫安全性實體的許可權授與來賓使用者         |驗證和授權         |低         |每個資料庫都包含名為「來賓」的使用者。 具有資料庫存取權但在資料庫中沒有使用者帳戶的使用者，會繼承授與來賓的許可權。 此規則會檢查來賓使用者是否已撤銷擁有權限。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1102     |所有資料庫（MSDB 除外）都應該停用值得信任的位         |介面區縮減         |高         |[可信任的資料庫] 屬性是用來指出 SQL Server 的實例是否信任資料庫及其中的內容。 如果啟用此選項，則使用模擬內容的資料庫模組（例如使用者定義函數或預存程式）可以存取資料庫外部的資源。 此規則會確認所有資料庫（MSDB 除外）上的可信任位已停用。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1143     |' dbo ' 使用者不應用於一般服務作業         |介面區縮減         |中         |' Dbo ' 或資料庫擁有者是具有隱含許可權，可以在資料庫中執行所有活動的使用者帳戶。 系統管理員（sysadmin）固定伺服器角色的成員會自動對應至 dbo。 此規則會檢查 dbo 是否不是唯一允許存取此資料庫的帳戶。 請注意，在新建立的全新資料庫上，此規則將會失敗，直到建立其他角色為止。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1144     |模型資料庫只能由 ' dbo ' 存取         |介面區縮減         |中         |Model 資料庫會當做 SQL Server 實例上建立之所有資料庫的範本使用。 對 model 資料庫進行的修改（例如資料庫大小復原模式和其他資料庫選項）會套用到之後建立的任何資料庫。 此規則會檢查 dbo 是否為唯一允許存取 model 資料庫的帳戶。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1219     |應該啟用透明資料加密         |資料保護         |中         |透明資料加密（TDE）可在不需變更應用程式的情況下，對資料庫相關聯的備份和交易記錄檔執行即時加密和解密，協助防止惡意活動的威脅。 此規則會檢查是否已在資料庫上啟用 TDE。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1220     |使用 TDS 的資料庫通訊應該透過 TLS 來保護         |資料保護         |高         |Microsoft SQL Server 可以使用安全通訊端層（SSL）或傳輸層安全性（TLS）來加密在 SQL Server 實例與用戶端應用程式之間透過網路傳輸的資料。 此規則會檢查所有與 SQL Server 的連線都是透過 TLS 加密。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1221     |資料庫加密對稱金鑰應使用 AES 演算法         |資料保護         |高         |SQL Server 使用加密金鑰來協助保護儲存在伺服器資料庫中的資料認證和連接資訊。 SQL Server 有兩種類型的金鑰：對稱和非對稱。 此規則會檢查資料庫加密對稱金鑰是否使用 AES 演算法。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1222     |資料格層級加密金鑰應使用 AES 演算法         |資料保護         |高         |資料格層級加密（CLE）可讓您使用對稱和非對稱金鑰來加密您的資料。 此規則會檢查資料格層級加密對稱金鑰是否使用 AES 演算法。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1223     |憑證金鑰至少應使用2048位         |資料保護         |高         |憑證金鑰用於 RSA 和其他加密演算法，以保護資料。 這些索引鍵必須有足夠的長度，才能保護使用者的資料。 此規則會檢查所有憑證的金鑰長度至少為2048位。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1224     |非對稱金鑰長度至少應為2048位         |資料保護         |高         |資料庫非對稱金鑰用於許多加密演算法，這些金鑰必須有足夠的長度來保護加密的資料。此規則會檢查儲存在資料庫中的所有非對稱金鑰是否長度至少為2048位         |<nobr>SQL Server 2012<nobr/><br/><br/><nobr>SQL Server 2014<nobr/><br/><br/>SQL Database         |
|VA1229     |登錄和中的 Filestream 設定應符合 SQL Server         |介面區縮減         |高         |有兩個設定可管理 Filestream 選項，一個在登錄（OS 層級）中，另一個在 SQL Server 設定中。 此規則會檢查這兩個設定是否相符。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1230     |Filestream 應停用         |介面區縮減         |高         |FILESTREAM 會將 Varbinary （max）二進位大型物件（BLOB）資料當做檔案儲存在檔案系統上，以整合 SQL Server 資料庫引擎與 NTFS 檔案系統。 Transact-sql 語句可以插入更新查詢搜尋和備份 FILESTREAM 資料。 此規則會檢查 Filestream 是否已停用。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1231     |Filestream 應停用（SQL）         |介面區縮減         |高         |FILESTREAM 會將 Varbinary （max）二進位大型物件（BLOB）資料當做檔案儲存在檔案系統上，以整合 SQL Server 資料庫引擎與 NTFS 檔案系統。 Transact-sql 語句可以插入更新查詢搜尋和備份 FILESTREAM 資料。 此規則會檢查是否已停用 Filestream SQL 特定選項         |<nobr>SQL Server 2012 +<nobr/>          |
|VA1234     |應該啟用通用條件設定         |審核和記錄         |低         |[啟用通用條件] 設定可啟用數個通用條件合規性所需的元素和行為。 此規則會檢查是否已啟用此選項。 請注意，standard edition 中無法使用此選項。 如需完整詳細資料，請造訪：[通用條件合規性已啟用伺服器](/sql/database-engine/configure-windows/common-criteria-compliance-enabled-server-configuration-option)設定和[SQL Server 資源](https://www.microsoft.com/cloud-platform/sql-server-Resources)。        |<nobr>SQL Server 2012 +<nobr/>          |
|VA1235     |複寫 XPs 應停用         |介面區縮減         |中         |停用複寫 XPs 攻擊介面區         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1244     |應從 SQL server 資料庫移除孤立的使用者         |介面區縮減         |中         |存在於資料庫上，但在 master 資料庫中沒有對應的登入，或做為外部資源的資料庫使用者（例如，Windows 使用者）稱為孤立的使用者，而且應該移除或重新對應到有效的登入。 此規則會檢查沒有任何孤立的使用者。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1245     |在目標 DB 和 master 之間，dbo 資訊應一致         |介面區縮減         |高         |任何資料庫的 dbo 身分識別都有多餘的資訊：儲存在資料庫本身中的中繼資料，以及儲存在 master DB 中的中繼資料。 此規則會檢查此資訊在目標 DB 和 master 之間是否一致。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1246     |應用程式角色不應使用         |驗證和授權         |低         |應用程式角色是資料庫主體，可讓應用程式以自己的類似使用者許可權執行。 應用程式角色可讓只有透過特定應用程式連線的使用者才能存取特定資料。 應用程式角色是以密碼為基礎（應用程式通常會硬式編碼），而不是許可權，而是以密碼猜測向應用程式角色模擬公開資料庫。 此規則會檢查資料庫中是否未定義任何應用程式角色。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database         |
|VA1247     |不應該有任何 SPs 標示為自動啟動         |介面區縮減         |高         |當 SQL Server 已設定為 [掃描啟動程式] 時，伺服器將會針對標示為自動啟動的預存程式掃描 master DB。 此規則會檢查是否沒有任何 SPs 標示為自動啟動。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1248     |使用者定義的資料庫角色不應為固定角色的成員         |驗證和授權         |中         |為了輕鬆管理資料庫中的許可權 SQL Server 提供了數個角色，也就是將其他主體組成群組的安全性主體。 它們就像是 Microsoft Windows 作業系統中的群組。 資料庫帳戶和其他 SQL Server 角色可以加入資料庫層級角色中。 固定資料庫角色的每個成員可以在相同的角色中加入其他使用者。 此規則會檢查使用者定義的角色是否為固定角色的成員。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1252     |透過伺服器 audit 規格進行審核和集中管理的事件清單。         |審核和記錄         |低         |稽核 SQL Server 資料庫引擎或個別資料庫的執行個體，會牽涉到追蹤和記錄資料庫引擎中所發生之事件。 此規則會顯示正在進行審核的事件清單。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1253     |透過伺服器審核規格進行審核及集中管理的 DB 範圍事件清單         |審核和記錄         |低         |稽核 SQL Server 資料庫引擎或個別資料庫的執行個體，會牽涉到追蹤和記錄資料庫引擎中所發生之事件。 此規則會顯示目前正在進行審核的所有事件的完整清單（也就是連結到已啟用的 audit）。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1256     |使用者 CLR 元件不應在資料庫中定義         |介面區縮減         |高         |CLR 元件可以用來在 SQL Server 進程上執行任意程式碼。 此規則會檢查資料庫中是否沒有使用者定義的 CLR 元件。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1258     |資料庫擁有者如預期般         |審核和記錄         |高         |資料庫擁有者可以在資料庫上執行所有的設定和維護活動，也可以在 SQL Server 中放置資料庫。 追蹤資料庫擁有者非常重要，以避免對某些主體具有過多的許可權。 建立基準，為資料庫定義預期的資料庫擁有者。 此規則會檢查資料庫擁有者是否如基準中所定義。         |<nobr>SQL Server 2016 +<sup>3</sup><nobr/><br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1263     |列出系統中所有作用中的審核         |審核和記錄         |低         |稽核 SQL Server 資料庫引擎或個別資料庫的執行個體，會牽涉到追蹤和記錄資料庫引擎中所發生之事件。 此規則會顯示目前正在進行審核的所有事件的完整清單（例如，連結至已啟用的 audit）。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1264     |應啟用成功和失敗登入嘗試的審核         |審核和記錄         |低         |SQL Server 審核設定可讓系統管理員追蹤使用者登入他們負責的 SQL Server 實例。 此規則會檢查是否已針對成功和失敗的登入嘗試啟用審核。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1265     |應啟用針對自主 DB 驗證成功和失敗的登入嘗試的審核         |審核和記錄         |中         |SQL Server 的審核設定可讓系統管理員追蹤使用者記錄，以找出他們負責的 SQL Server 實例。 此規則會檢查是否已針對內含 DB 驗證成功和失敗的登入嘗試啟用審核。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1266     |應該在所有 SQL 登入上設定 ' MUST_CHANGE ' 選項         |驗證和授權         |低         |如果在登入上設定 MUST_CHANGE 選項 SQL Server 將會在第一次使用登入進行驗證時，需要建立新的密碼。 此規則會檢查是否已在所有登入上設定此選項。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1267     |包含的使用者應使用 Windows 驗證         |驗證和授權         |中         |包含的使用者是存在於資料庫中，且不需要登入對應的使用者。 此規則會檢查包含的使用者是否使用 Windows 驗證。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1276     |應停用代理程式 XPs 功能         |審核和記錄         |中         |SQL Server Agent 是一項 Microsoft Windows 服務，可在 SQL Server 中執行排程的系統管理工作。 代理程式 XPs 是 SQL Server Agent 所使用的擴充預存程式，可提供在 SQL Server Agent 服務帳戶的安全性內容下，于 DBMS 外部執行的特殊許可權動作。 此規則會檢查代理程式 XPs 功能是否已停用。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1277     |應該啟用 Polybase 網路加密         |介面區縮減         |高         |PolyBase 是一種技術，可從 SQL Server 記憶體取和結合非關聯式和關聯式資料。 Polybase 網路加密選項會設定 SQL Server，以在使用 Polybase 時加密控制和資料通道。 此規則會驗證是否已啟用此選項。         |<nobr>SQL Server 2016 +<nobr/>         |
|VA1278     |建立外部金鑰管理提供者的基準         |介面區縮減         |中         |SQL Server 的可延伸金鑰管理（EKM）可以讓協力廠商 EKM/硬體安全模組（HSM）廠商在 SQL Server 中註冊其模組。 註冊 SQL Server 使用者可以使用儲存在 EKM 模組上的加密金鑰。 此規則會顯示系統中所使用的 EKM 提供者清單。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1279     |應針對 TDS 啟用強制加密         |資料保護         |高         |當資料庫引擎的 [強制加密] 選項啟用時，用戶端與伺服器之間的所有通訊都會加密，不論是否已核取 [加密連線] 選項（例如從 SSMS）。 此規則會檢查是否已啟用 [強制加密] 選項。         |<nobr>SQL Server 2012 +<nobr/>         |
|VA1280     |授與 public 的伺服器許可權應該最小化         |驗證和授權         |中         |每個 SQL Server 登入都屬於 public 伺服器角色。 當伺服器主體未被授與或拒絕安全物件的特定許可權時，使用者會繼承授與給該物件之 public 的許可權。 此規則會檢查授與公用的伺服器許可權是否最小化。          |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1281     |使用者定義角色的所有成員資格都應該是預期的         |審核和記錄         |中         |使用者定義角色是由使用者定義的安全性主體，可將主體分組以輕鬆管理許可權。 若要避免具有過多的許可權，監視這些角色是很重要的。 建立基準，為每個使用者定義的角色定義預期的成員資格。 此規則會檢查使用者定義角色的所有成員資格是否如基準中所定義。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1282     |應該移除孤立角色         |驗證和授權         |低         |孤立角色是沒有成員的使用者定義角色。 排除孤立的角色，因為系統不需要它們。 此規則會檢查是否有任何孤立的角色。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA1283     |系統中應該至少有1個作用中的 audit         |審核和記錄         |低         |稽核 SQL Server 資料庫引擎或個別資料庫的執行個體，會牽涉到追蹤和記錄資料庫引擎中所發生之事件。 SQL Server Audit 物件會收集要監視之伺服器或資料庫層級動作和動作群組的單一執行個體。 此規則會檢查系統中是否至少有一個作用中的審核。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1286     |資料庫許可權不應直接授與主體（物件或資料行）         |驗證和授權         |低         |許可權是與安全物件相關聯的規則，可控制哪些使用者可以取得物件的存取權。 此規則會檢查沒有直接授與使用者的 DB 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA1288     |敏感性資料行應分類         |資料保護         |中         |此規則會探索資料庫中可能的敏感性資料並加以區分。 結果是敏感資料庫資料行的集合，應該使用 SQL Data Discovery & 分類來加以檢查和分類。 這可讓資料庫資料行根據其敏感度持續加上標籤，這可讓追蹤（審核）使用已分類的資料和建立報表。 如果您的敏感資料庫資料行未受保護，您也應該考慮套用其中一個 SQL Database 的內建安全性功能，以限制存取和保護您的機密資料。         |<nobr/>SQL Database         |
|VA2000     |最基本的主體集合應被授與高影響資料庫範圍的許可權         |驗證和授權         |高         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與高影響資料庫範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2001     |最小的主體集合應被授與物件或資料行上的高影響力資料庫範圍許可權         |驗證和授權         |高         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查在物件或資料行上，只有一組最小的主體會被授與高影響資料庫範圍的許可權。        |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2002     |最基本的主體集合應被授與各種安全性實體上的高影響力資料庫範圍許可權         |驗證和授權         |高         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與對各種安全性實體的高影響資料庫範圍許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2010     |應該授與最小的主體集合，而中等影響資料庫範圍的許可權         |驗證和授權         |中         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與中等影響資料庫範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2020     |最小的主體集合應該被授與 ALTER 或 ALTER ANY USER database 範圍的許可權         |驗證和授權         |高         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與 ALTER 或 ALTER ANY USER database 範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2021     |最基本的主體集合應該被授與資料庫範圍的 ALTER 許可權給物件或資料行         |驗證和授權         |高         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與物件或資料行的 ALTER database 範圍許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2022     |最基本的主體集合應該被授與各種安全性實體上資料庫範圍的 ALTER 許可權。         |驗證和授權         |高         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會在各種安全性實體上授與資料庫範圍的 ALTER 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2030     |最基本的主體集合應該被授與資料庫範圍的 SELECT 或 EXECUTE 許可權         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與資料庫範圍的 SELECT 或 EXECUTE 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2031     |最基本的主體集合應被授與資料庫範圍的 SELECT          |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與物件或資料行的資料庫範圍 SELECT 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2032     |最基本的主體集合應該被授與架構的資料庫範圍 SELECT 或 EXECUTE 許可權         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與架構的資料庫範圍 SELECT 或 EXECUTE 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2033     |最基本的主體集合應該被授與物件或資料行的資料庫範圍執行許可權         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與物件或資料行的資料庫範圍執行許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2034     |最基本的主體集合應該被授與資料庫範圍的執行許可權，以進行 XML 架構集合         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會在 XML 架構集合上被授與資料庫範圍的 EXECUTE 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database         |
|VA2040     |最小的主體集合應被授與低影響資料庫範圍的許可權         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與低影響資料庫範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2041     |最小的主體集合應該被授與物件或資料行的低影響資料庫範圍許可權         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查在物件或資料行上，只有一組最小的主體會被授與低影響資料庫範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse          |
|VA2042     |最小的主體集合應授與對架構的低影響資料庫範圍許可權         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與架構的低影響資料庫範圍許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse          |
|VA2050     |最基本的主體集合應該被授與資料庫範圍的 VIEW DEFINITION 許可權         |驗證和授權         |中         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與資料庫範圍的 VIEW DEFINITION 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse          |
|VA2051     |最小的主體集合應授與物件或資料行的資料庫範圍 VIEW DEFINITION 許可權         |驗證和授權         |中         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與物件或資料行的資料庫範圍 VIEW DEFINITION 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse          |
|VA2052     |最基本的主體集合應授與各種安全性實體的資料庫範圍 VIEW DEFINITION 許可權         |驗證和授權         |中         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會在各種安全性實體上授與資料庫範圍的 VIEW DEFINITION 許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse          |
|VA2060     |應該在伺服器層級啟用 SQL 威脅偵測         |資料保護         |中         |SQL 威脅偵測會提供一層安全性，以偵測資料庫中的潛在弱點和異常活動，例如 SQL 插入式攻擊和異常行為模式。 當偵測到潛在威脅時，威脅偵測會透過電子郵件和 Azure 資訊安全中心傳送可採取動作的即時警示，其中包含特定威脅的清楚調查和補救步驟。 如需詳細資訊，請參閱[設定威脅偵測](https://docs.microsoft.com/azure/sql-database/sql-database-threat-detection)。 這種檢查會確認是否已啟用 SQL 威脅偵測         |<nobr/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2061     |應該在伺服器層級啟用審核         |審核和記錄         |高         |Azure SQL Database 審核會追蹤資料庫事件，並將它們寫入您 Azure 儲存體帳戶中的 audit 記錄。 「審核」可協助您瞭解資料庫活動，以及深入瞭解可能指出業務疑慮或可疑安全性違規的不一致和異常，並協助您符合法規合規性。 如需詳細資訊，請參閱[AZURE SQL 審核](https://docs.microsoft.com/azure/sql-database/sql-database-auditing)。 此規則會檢查是否已啟用 [審核]。         |<nobr/>SQL Database<br/><br/>Azure Synapse          |
|VA2062     |資料庫層級防火牆規則不應授與過多的存取權         |介面區縮減         |高         |Azure SQL Database 層級防火牆會防止對您的資料庫進行所有存取，以協助保護您的資料，直到您指定哪些 IP 位址具有許可權。 資料庫層級防火牆規則會根據每個要求的原始 IP 位址，授與特定資料庫的存取權。  Master 和使用者資料庫的資料庫層級防火牆規則只能透過 Transact-sql 建立及管理（不同于伺服器層級的防火牆規則，也可以使用 Azure 入口網站或 PowerShell 來建立和管理）。 如需詳細資訊，請參閱[Azure SQL Database 和 Azure Synapse ANALYTICS IP 防火牆規則](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure)。 這種檢查會確認資料庫層級防火牆規則並未授與過多的存取權。         |<nobr/>SQL Database<br/><br/>Azure Synapse         |
|VA2063     |伺服器層級防火牆規則不應授與過多的存取權         |介面區縮減         |高         |Azure SQL 伺服器層級防火牆會防止對您的資料庫進行所有存取，以協助保護您的伺服器，直到您指定哪些 IP 位址具有許可權為止。 伺服器層級防火牆規則會根據每個要求的原始 IP 位址，授與屬於伺服器的所有資料庫的存取權。  伺服器層級防火牆規則只能透過 Transact-sql 來建立和管理，以及透過 Azure 入口網站或 PowerShell。 如需詳細資訊，請參閱[Azure SQL Database 和 Azure Synapse ANALYTICS IP 防火牆規則](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure)。 這種檢查會確認伺服器層級防火牆規則並未授與過多的存取權。         |<nobr/>SQL Database<br/><br/>Azure Synapse         |
|VA2064     |應嚴格追蹤及維護資料庫層級的防火牆規則         |介面區縮減         |高         |Azure SQL Database 層級防火牆會防止對您的資料庫進行所有存取，以協助保護您的資料，直到您指定哪些 IP 位址具有許可權。 資料庫層級防火牆規則會根據每個要求的原始 IP 位址，授與特定資料庫的存取權。 Master 和使用者資料庫的資料庫層級防火牆規則只能透過 Transact-sql 建立及管理（不同于伺服器層級的防火牆規則，也可以使用 Azure 入口網站或 PowerShell 來建立和管理）。 如需詳細資訊，請參閱[Azure SQL Database 和 Azure Synapse ANALYTICS IP 防火牆規則](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure)。 這種檢查會列舉所有的資料庫層級防火牆規則，以便識別並處理對它們所做的任何變更。         |<nobr/>SQL Database<br/><br/>Azure Synapse         |
|VA2065     |應嚴格追蹤及維護伺服器層級的防火牆規則         |介面區縮減         |高         |Azure SQL 伺服器層級防火牆會防止對您的資料庫進行所有存取，以協助保護您的資料，直到您指定哪些 IP 位址具有許可權為止。 伺服器層級防火牆規則會根據每個要求的原始 IP 位址，授與屬於伺服器的所有資料庫的存取權。  伺服器層級防火牆規則可以透過 Transact-sql 來建立和管理，以及透過 Azure 入口網站或 PowerShell。 如需詳細資訊，請參閱[Azure SQL Database 和 Azure Synapse ANALYTICS IP 防火牆規則](https://docs.microsoft.com/azure/sql-database/sql-database-firewall-configure)。  這種檢查會列舉所有伺服器層級的防火牆規則，以便識別並處理對它們所做的任何變更。         |<nobr/>SQL Database<br/><br/>Azure Synapse         |
|VA2100     |最基本的主體集合應被授與高影響力伺服器範圍的許可權         |驗證和授權         |高         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與高影響伺服器範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2101     |應該授與最小的主體集合，而中等影響伺服器範圍的許可權         |驗證和授權         |中         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與中等影響伺服器範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2102     |最基本的主體集合應被授與低影響伺服器範圍的許可權         |驗證和授權         |低         |每個 SQL Server 安全性實體都有相關聯的許可權，可授與主體。 許可權可以限定在伺服器層級（指派給登入和伺服器角色）或資料庫層級（指派給資料庫使用者和資料庫角色）。 這些規則會檢查是否只有一組最小的主體會被授與低影響伺服器範圍的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2103     |應撤銷擴充預存程式的不必要執行許可權         |驗證和授權         |中         |擴充預存程式是 SQL Server 實例可以動態載入和執行的 Dll。 SQL Server 封裝了許多擴充預存程式，可讓您與系統 Dll 進行互動。 此規則會檢查是否已撤銷擴充預存程式的不必要執行許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2104     |擴充預存程式的執行許可權應從 PUBLIC 撤銷         |驗證和授權         |中         |擴充預存程式是 SQL Server 實例可以動態載入和執行的 Dll。 SQL Server 封裝了許多擴充預存程式，可讓您與系統 Dll 進行互動。 此規則會檢查是否未將不必要的執行許可權授與 PUBLIC 角色。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2105     |不應該輕易猜到登入密碼         |驗證和授權         |高         |此規則會檢查登入密碼是否不容易被猜到。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2107     |最小的主體集合應為固定 Azure SQL DB master 資料庫角色的成員         |驗證和授權         |高         |SQL Database 在 master 資料庫中提供兩個受限制的系統管理角色，可以在其中新增使用者帳戶，以授與建立資料庫或管理登入的許可權。 此規則會檢查最小的主體集合是否為這些系統管理角色的成員。         |<nobr/>SQL Database<br/><br/>Azure Synapse         |
|VA2108     |最小的主體集合應為固定的高影響資料庫角色的成員         |驗證和授權         |高         |SQL Server 提供可協助管理許可權的角色。 角色是分組其他主體的安全性主體。 資料庫層級角色在其許可權範圍內是以資料庫為範圍。 此規則會檢查最小的主體集合是否為固定資料庫角色的成員。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2109     |最小的主體集合應為固定低影響資料庫角色的成員         |驗證和授權         |低         |SQL Server 提供可協助管理許可權的角色。 角色是分組其他主體的安全性主體。 資料庫層級角色在其許可權範圍內是以資料庫為範圍。 此規則會檢查最小的主體集合是否為固定資料庫角色的成員。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2110     |應撤銷存取登錄的執行許可權         |驗證和授權         |高         |登錄擴充預存程式可讓 Microsoft SQL Server 讀取登錄中的寫入和列舉值和索引鍵。 Enterprise Manager 會使用它們來設定伺服器。 此規則會檢查是否已從所有使用者（dbo 以外）撤銷執行登錄擴充預存程式的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2111     |應移除範例資料庫         |介面區縮減         |低         |Microsoft SQL Server 隨附于數個範例資料庫中。 此規則會檢查範例資料庫是否已移除。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2112     |資料轉換服務（DTS）的公用許可權應被撤銷         |驗證和授權         |中         |「資料轉換服務」（DTS）是一組物件和公用程式，可讓您在資料庫之間自動進行解壓縮轉換和載入（ETL）作業。 這些物件是 DTS 封裝及其元件，而公用程式稱為 DTS 工具。 此規則會檢查是否已撤銷 PUBLIC 角色的許可權以使用 DTS 系統預存程式。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2113     |資料轉換服務（DTS）許可權只能授與 SSIS 角色         |驗證和授權         |中         |「資料轉換服務」（DTS）是一組物件和公用程式，可讓您自動化將轉換和載入作業解壓縮到資料庫。 這些物件是 DTS 封裝及其元件，而公用程式稱為 DTS 工具。 此規則會檢查只有 SSIS 角色會被授與使用 DTS 系統預存程式的許可權。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2114     |最小的主體集合應為高影響固定伺服器角色的成員         |驗證和授權         |高         |SQL Server 提供可協助管理許可權的角色。 角色是分組其他主體的安全性主體。 伺服器層級角色在其許可權範圍內是以伺服器為範圍。 此規則會檢查最小的主體集合是否為固定伺服器角色的成員。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2115     |最小的主體集合應為中等影響固定伺服器角色的成員         |驗證和授權         |中         |SQL Server 提供可協助管理許可權的角色。 角色是分組其他主體的安全性主體。 伺服器層級角色在其許可權範圍內是以伺服器為範圍。 此規則會檢查最小的主體集合是否為固定伺服器角色的成員。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2120     |應該停用可能會影響安全性的功能         |介面區縮減         |高         |SQL Server 能夠提供各種功能和服務。 預設提供的部分功能和服務可能不是必要的，而且啟用它們可能會對系統的安全性造成負面影響。 此規則會檢查是否已停用這些功能。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2121     | 應停用 [OLE Automation 程式] 功能        |介面區縮減         |高         |SQL Server 能夠提供各種功能和服務。 預設提供的部分功能和服務可能不是必要的，而且啟用它們可能會對系統的安全性造成不良的影響。 [OLE Automation 程式] 選項控制 OLE Automation 物件是否可在 Transact-sql 批次內具現化。 這些是擴充的預存程式，可讓 SQL Server 的使用者在 SQL Server 外部執行函數。 無論其優點為何，它也可以用於入侵，也稱為在目的電腦上用來植入檔案的熱門機制。 建議使用 PowerShell 來取代此工具。 此規則會檢查是否已停用 [OLE Automation 程式] 功能。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2122     |應停用 [使用者選項] 功能         |介面區縮減         |中         |SQL Server 能夠提供各種功能和服務。 預設提供的部分功能和服務可能不是必要的，而且啟用它們可能會對系統的安全性造成負面影響。 使用者選項會指定所有使用者的全域預設值。 會為使用者工作階段的持續時間建立預設查詢處理選項的清單。 [使用者] 選項可讓您變更 SET 選項的預設值（如果伺服器的預設設定不適用）。 此規則會檢查是否已停用 [使用者選項] 功能。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2123     |應停用 [遠端存取] 功能         |介面區縮減         |中         |SQL Server 能夠提供各種功能和服務。 預設提供的部分功能和服務可能不是必要的，而且啟用它們可能會對系統的安全性造成負面影響。 [遠端存取] 選項會控制遠端伺服器上的本機預存程式執行，或本機伺服器上的遠端預存程式。 此規則會檢查是否已停用 [遠端存取] 功能。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體         |
|VA2126     |應該停用可能會影響安全性的功能         |介面區縮減         |中         |SQL Server 能夠提供各種功能和服務。 預設提供的部分功能和服務可能不是必要的，而且啟用它們可能會對系統的安全性造成負面影響。 此規則會檢查是否已停用這些功能。         |<nobr>SQL Server 2016 +<nobr/>         |
|VA2127     |應停用 [外部腳本] 功能         |介面區縮減         |高         |SQL Server 能夠提供各種功能和服務。 預設提供的部分功能和服務可能不是必要的，而且啟用它們可能會對系統的安全性造成負面影響。 [啟用外部腳本] 選項可讓您執行具有特定遠端語言擴充功能的腳本。 此規則會檢查是否已停用 [外部腳本已啟用] 功能。         |<nobr>SQL Server 2016 +<nobr/>         |
|VA2128     |低於 SQL Server 2012 的 SQL Server 版本不支援弱點評估         |安裝更新和修補程式         |高         |若要在您的 SQL Server 上執行弱點評定掃描，必須將伺服器升級為 SQL Server 2012 或更高版本，但 Microsoft 已不再支援 SQL Server 2008 R2 和以下版本。 如需詳細資訊，請參閱＜<https://www.microsoft.com/cloud-platform/windows-sql-server-2008>＞         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL 管理 <br/>執行個體<br/><br/>SQL Database<br/><br/>Azure Synapse         |
|VA2129     |已簽署模組的變更應該獲得授權         |驗證和授權         |高         |您可以使用憑證或非對稱金鑰來簽署預存程式、函數或觸發程式。 這是針對無法透過擁有權鏈結繼承權限或擁有權鏈結中斷 (例如動態 SQL) 的案例所設計。 此規則會檢查對已簽署模組所做的變更，這可能是惡意使用的指示。         |<nobr>SQL Server 2012 +<nobr/><br/><br/>SQL Database         |
|VA2130     |追蹤所有具有資料庫存取權的使用者         |驗證和授權         |低         |使用者應根據最低許可權的原則授與許可權-每個使用者都應授與其角色所需的最小許可權集。 這種檢查會追蹤具有資料庫存取權的所有使用者。 檢查這些使用者是否已根據組織中目前的角色進行授權。 這項檢查中的許可權資訊可支援資料庫的使用者存取權審查程式。         |<nobr>SQL Database<nobr/><br/><br/>Azure Synapse         |

<sup>1</sup> **SQL Server 2012 +** 指的是 SQL Server 2012 和更新版本的所有版本。

<sup>2</sup> **SQL Server 2017 +** 指的是 SQL Server 2017 和更新版本的所有版本。

<sup>3</sup> **SQL Server 2016 +** 指的是 SQL Server 2016 和更新版本的所有版本。

## <a name="next-steps"></a>後續步驟

- [弱點評估](sql-vulnerability-assessment.md)
