---
title: 準備 ML Studio （傳統）的資料-小組資料科學流程
description: 前置處理和清除資料，準備好讓資料可有效用於機器學習。
services: machine-learning
author: marktab
manager: marktab
editor: marktab
ms.service: machine-learning
ms.subservice: team-data-science-process
ms.topic: article
ms.date: 01/10/2020
ms.author: tdsp
ms.custom: seodec18, previous-author=deguhath, previous-ms.author=deguhath
ms.openlocfilehash: caedcf313ab809e9607907545f26ca1b62bbeca7
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.contentlocale: zh-TW
ms.lasthandoff: 07/02/2020
ms.locfileid: "76720039"
---
# <a name="tasks-to-prepare-data-for-enhanced-machine-learning"></a>準備增強機器學習服務的資料的工作
前置處理和清除資料是很重要的工作，必須先進行這些作業，資料集才能用於模型定型。 未經處理的資料通常會有雜訊且不可靠，還可能會有遺漏值。 使用這類資料進行模型化可能會產生誤導的結果。 這些工作屬於 Team Data Science Process (TDSP)，通常會遵循用來探索及計劃所需預先處理的資料集初始探索。 如需更多關於 TDSP 程序的詳細指示，請參閱 [Team Data Science Process](overview.md)中概述的步驟。

預先處理和清除工作（例如資料探索工作）可在各種不同的環境中執行，如 SQL 或 Hive 或 Azure Machine Learning Studio （傳統），以及使用各種工具和語言（例如 R 或 Python），視您的資料儲存位置和其格式化方式而定。 由於 TDSP 本質上是反覆的，所以這些工作可以在程序工作流程中的各個步驟進行。

本文介紹各種資料處理概念和工作，可以在將資料內嵌到 Azure Machine Learning Studio （傳統）之前或之後採取。

如需在 Azure Machine Learning Studio （傳統）內進行資料探索和前置處理的範例，請參閱[前置處理資料](https://azure.microsoft.com/documentation/videos/preprocessing-data-in-azure-ml-studio/)影片。

## <a name="why-pre-process-and-clean-data"></a>為何要前置處理和清除資料？
真實世界的資料是從各種不同的來源和程序蒐集而來，其中可能包含危及資料集品質的違規或損毀資料。 一般會發生的資料品質問題如下：

* **不完整**：資料缺少屬性或包含遺漏值。
* **雜訊**：資料包含錯誤的記錄或極端值。
* **不一致**：資料包含衝突的記錄或不一致之處。

資料品質是品質預測模型的必要條件。 若要避免「垃圾進、垃圾出」並改善資料品質，進而提升模型效能，請務必管理資料健康狀態畫面，以便及早發現資料問題，並決定對應資料的處理和清除步驟。

## <a name="what-are-some-typical-data-health-screens-that-are-employed"></a>哪些是要採用的典型資料健康狀態畫面？
我們可以藉由檢查下列項目，來檢查一般的資料品質：

* **記錄**的數目。
* **屬性**的數目（或**功能**）。
* 屬性**資料類型**（名義、序數或連續）。
* **遺漏值**的數目。
* 格式正確**的**資料。
  * 如果資料是 TSV 或 CSV 格式，檢查資料行分隔符號和行分隔符號是否一律會正確分隔資料行與行。
  * 如果資料是 HTML 或 XML 格式，請根據各自的標準來檢查資料格式是否正確。
  * 可能也需要進行剖析，以從半結構化或非結構化的資料擷取結構化資訊。
* **不一致的資料記錄**。 檢查是否允許值範圍。 例如，如果資料包含 student GPA （年級），請檢查 GPA 是否在指定的範圍內，例如 0 ~ 4。

當您發現資料的問題時，需要**處理步驟**，這通常牽涉到清除遺漏值、資料正規化、離散化、移除和（或）取代可能影響資料對齊之內嵌字元的文字處理、通用欄位中的混合資料類型，以及其他專案。

**Azure Machine Learning 會使用格式正確的表格式資料**。  如果資料已經是表格式格式，則可以使用 Machine Learning 中的 Azure Machine Learning Studio （傳統）直接執行資料前置處理。  如果資料的格式不是表格式，假設是 XML，就可能需要進行剖析，才能將資料的格式轉換成表格式。  

## <a name="what-are-some-of-the-major-tasks-in-data-pre-processing"></a>資料前置處理中有哪些主要工作？
* **資料清除**：填入遺漏值，偵測並移除雜訊資料和極端值。
* **資料轉換**：將資料標準化，以減少維度和雜訊。
* **資料縮減**：取樣資料記錄或屬性，以更輕鬆地處理資料。
* **資料離散**化：將連續屬性轉換為類別屬性，以方便搭配特定的機器學習服務方法來使用。
* **文字清除**：移除可能造成資料對齊的內嵌字元，例如，以 tab 鍵分隔的資料檔案中的內嵌索引標籤、可能會中斷記錄的內嵌新行，例如。

下列各節將詳細說明一些資料處理步驟。

## <a name="how-to-deal-with-missing-values"></a>如何處理遺漏值？
若要處理遺漏值，最好先識別遺漏值的原因，以便對問題進行更好的控制。 典型的遺漏值處理方法如下：

* **刪除**：移除具有遺漏值的記錄。
* **虛擬替代**：使用虛擬值來取代遺漏值，例如，對類別值使用 *unknown* ，或對數值使用 0。
* **平均值替代**：如果遺漏值是數值，可使用平均值來取代遺漏值。
* **頻率替代**：如果遺漏值是類別，可使用最常用的項目來取代遺漏值。
* **迴歸替代**：利用迴歸方法，使用迴歸值來取代遺漏值。  

## <a name="how-to-normalize-data"></a>如何將資料標準化？
資料正規化會將數值重新調整至指定的範圍。 常用的資料正規化方法包括：

* **最小值與最大值標準化**：以線性方式將資料轉換為範圍，例如介於 0 和 1 之間時，其中最小值會調整為 0，最大值則調整為 1。
* **Z 分數標準化**：根據平均值和標準差來調整資料範圍：將資料和平均值之間的差距除以標準差。
* **小數點調整**：藉由移動屬性值的小數點來調整資料範圍。  

## <a name="how-to-discretize-data"></a>如何將資料離散化？
您可以藉由將連續值轉換成名義屬性或間隔來將資料離散化。 以下提供一些執行此動作的方法：

* **等寬分類收納**：將屬性的所有可能值範圍分成 N 個同樣大小的群組，並使用分類收納號碼來指派落於某一個分類收納中的值。
* **等高分類收納**：將屬性的所有可能值範圍分成 N 個包含相同執行個體數目的群組，然後使用分類收納號碼來指派落於某一個分類收納中的值。  

## <a name="how-to-reduce-data"></a>如何縮減資料？
有各種方法可用來縮減資料大小，以便更容易處理資料。 根據資料大小和網域而定，您可以套用下列方法：

* **記錄取樣**：取樣資料記錄，並且只從資料中選擇代表性子集。
* **屬性取樣**：只從資料選取一組最重要的屬性子集。  
* **彙總**：將資料分組，並儲存每個群組的數目。 例如，可以將某一家連鎖餐廳在過去 20 年的每日營收數字彙總為每月營收，以縮減資料大小。  

## <a name="how-to-clean-text-data"></a>如何清除文字資料？
**表格式資料中的文字欄位**可能包含影響資料行對齊和（或）記錄界限的字元。 例如，以 tab 鍵分隔的檔案中的內嵌索引標籤會使資料行對齊，而內嵌的新行字元則會中斷記錄行。 寫入或讀取文字時，不適當的文字編碼處理會導致資訊遺失、意外引進無法讀取的字元（例如 null），而且可能也會影響文字剖析。 您可以需要仔細地進行剖析和編輯，以清除文字欄位來取得正確的對齊方式，及 (或) 從非結構化或半結構化的文字資料中擷取結構化資料。

**資料探索** 可讓您檢視早期資料。 在此步驟中可以發現一些資料問題，然後套用對應的方法以解決這些問題。  請務必提出問題，例如，問題的來源是什麼，以及問題可能是如何引發的。 此程式也可協助您決定需要採取的資料處理步驟來解決這些問題。 識別最終使用案例和角色也可以用來設定資料處理工作的優先順序。

## <a name="references"></a>參考資料
> *Data Mining: Concepts and Techniques*(資料採礦：觀念與技術)，第三版，Morgan Kaufmann，2011，Jiawei Han、Micheline Kamber 及 Jian Pei
> 
> 

