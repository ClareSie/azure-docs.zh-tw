---
title: 自訂命令概念和定義-語音服務
titleSuffix: Azure Cognitive Services
description: 在本文中，您將瞭解自訂命令應用程式的概念和定義。
services: cognitive-services
author: singhsaumya
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 06/18/2020
ms.author: sausin
ms.openlocfilehash: 98510132b2341736664dfafa52e9567df95652be
ms.sourcegitcommit: 04fb3a2b272d4bbc43de5b4dbceda9d4c9701310
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 11/12/2020
ms.locfileid: "94561092"
---
# <a name="custom-commands-concepts-and-definitions"></a>自訂命令概念和定義

本文可作為自訂命令應用程式的概念和定義的參考。

## <a name="commands-configuration"></a>命令設定
命令是自訂命令應用程式的基本組建區塊。 命令是完成使用者所定義之特定工作所需的一組設定。

### <a name="example-sentences"></a>句子範例
範例語句是使用者可以說用來觸發特定命令的設定範例。 您只需要提供語句的範例，而不是詳盡的清單。 

### <a name="parameters"></a>參數
參數是命令完成工作所需的資訊。 在複雜的情況下，參數也可以用來定義觸發自訂動作的條件。

### <a name="completion-rules"></a>完成規則
完成規則是一系列的規則，可在命令準備好完成之後執行，例如當符合規則的所有條件時。

### <a name="interaction-rules"></a>互動規則
互動規則是處理更具體或複雜情況的額外規則。 您可以新增額外的驗證，或設定預先確認或單步驟更正等 advanced 功能。 您也可以建立自己的自訂互動規則。

## <a name="parameters-configuration"></a>參數設定

參數是命令完成工作所需的資訊。 在複雜的情況下，參數也可以用來定義觸發自訂動作的條件。

### <a name="name"></a>名稱
參數是由 [名稱] 屬性所識別。 您應該一律為參數提供描述性名稱。 參數可以跨不同的區段來參考，例如，當您建立條件、語音回應或其他動作時。
 
### <a name="isglobal"></a>IsGlobal
這個核取方塊會指出此參數的範圍是否會在應用程式中的所有命令之間共用。 如果是全域參數，其值可能會從任何命令範圍中提供。 指派值之後，就可以從任何命令參考該值。 

### <a name="required"></a>必要
這個核取方塊會指出命令履行或完成是否需要此參數的值。 如果參數標示為必要，您必須設定回應以提示使用者提供值。

請注意，如果您將 **必要參數** 設定為具有 **預設值** ，系統仍會明確提示您輸入參數的值。

### <a name="type"></a>類型
自訂命令支援下列參數類型：

* Datetime
* [地理位置]
* 數字
* String

除了 Geography 以外的所有參數類型都支援預設值設定，您可以從入口網站進行設定。

### <a name="configuration"></a>組態
Configuration 是僅針對類型字串定義的參數屬性。 支援下列值：

* **None** ：
* **接受完整輸入** ：啟用時，參數會接受任何輸入語句。 當使用者需要具有完整語句的參數時，這個選項很有用。 例如郵件標籤。
* **接受來自外部目錄的預先定義輸入值** ：此值可用來設定可採用各種不同值的參數。 例如，銷售目錄。 在此情況下，類別目錄裝載于外部 web 端點，而且可以獨立設定。
* **接受來自內部類別目錄的預先定義輸入值** ：此值可用來設定可採用幾個值的參數。 在此情況下，必須在「語音 Studio」中設定值。


### <a name="validation"></a>驗證
驗證是適用于特定參數類型的結構，可讓您設定參數值的條件約束。 目前，自訂命令支援下列參數類型的驗證：

* Datetime
* 數字

## <a name="rules-configuration"></a>規則設定
自訂命令中的規則是由一組條件所定義，這些 *條件* 符合時，會執行一組 *動作* 。 規則也可讓您設定後續 *執行狀態* 和下一回合的 *期望* 。

### <a name="types"></a>型別
自訂命令支援下列規則類別：

* **完成規則** ：必須在命令履行時執行這些規則。 此區段中設定的所有規則都會執行條件。 
* **互動規則** ：這些規則可用來設定額外的自訂驗證、確認和單步驟修正，或完成任何其他自訂對話邏輯。 互動規則會在處理中的每個回合進行評估，而且可以用來觸發完成規則。

設定為規則一部分的不同動作會依其出現在撰寫入口網站中的循序執行。

### <a name="conditions"></a>條件
條件是規則執行所必須符合的需求。 規則條件可以是下列類型：

* **參數值等於** ：設定的參數值等於特定的值。
* **無參數值** ：設定的參數不應具有任何值。
* **必要參數** ：已設定的參數具有值。
* **所有必要的參數** ：標示為必要的所有參數都有值。
* **更新的參數** ：由於處理目前的輸入 (語句或活動) ，因此已更新一個或多個參數值。
* **確認成功** ：輸入語句或活動成功確認 (是) 。
* **已拒絕確認** ：輸入語句或活動不是成功的確認 (沒有) 。
* **上一個命令必須更新** ：當您想要攔截否定的確認和更新時，會在實例中使用此條件。 在幕後，此條件是在對話方塊引擎偵測到與上一個回合相同的確認確認，而且使用者已回應更新時設定。

### <a name="actions"></a>動作
* **傳送語音回應** ：將語音回應傳送回用戶端。
* **更新參數值** ：將命令參數的值更新為指定的值。
* **清除參數值** ：清除命令參數值。
* **呼叫 web 端點** ：進行 web 端點的呼叫。
* 將 **活動傳送至用戶端** ：將自訂活動傳送給用戶端。

### <a name="expectations"></a>期望
預期會用來設定下一次使用者輸入處理的提示。 支援下列類型：

* **需要使用者確認** ：此預期會指定應用程式預期會有確認 (下一次使用者輸入的 [是]/[否]) 。
* **預期參數 (s) 使用者輸入** ：此預期會指定應用程式預期來自使用者輸入的一或多個命令參數。

### <a name="post-execution-state"></a>執行後狀態
執行後狀態是處理目前輸入 (語句或活動) 之後的對話狀態。 這是下列類型：

* **保留目前的狀態** ：僅保留目前的狀態。
* **完成命令** ：完成命令，將不會處理任何其他的命令規則。
* **執行完成規則** ：執行所有有效的完成規則。
* **等候使用者的輸入** ：等候下一個使用者輸入。



## <a name="next-steps"></a>後續步驟

> [!div class="nextstepaction"]
> [請參閱 GitHub 上的範例](https://aka.ms/speech/cc-samples)
