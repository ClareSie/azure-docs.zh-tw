---
title: 基於篩選器的功能選擇：模組參考
titleSuffix: Azure Machine Learning
description: 瞭解如何在 Azure 機器學習中使用基於篩選器的功能選擇模組來識別具有最大預測能力的資料集中的要素。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 10/10/2019
ms.openlocfilehash: c009a98931240e92527035e51fdce3f1c92f5212
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477590"
---
# <a name="filter-based-feature-selection"></a>以篩選為基礎的特徵選取

本文介紹如何在 Azure 機器學習設計器（預覽）中使用基於篩選器的功能選擇模組。 此模組可説明您識別輸入資料集中具有最大預測能力的列。 

通常，*特徵選取*是指在給定指定輸出的情況下對輸入應用統計測試的過程。 目標是確定哪些列對輸出的預測性更大。 基於篩選器的功能選擇模組提供了多種要素選擇演算法供您選擇。 該模組包括相關方法，如 Pearson 相關性和奇方值。 

使用基於篩選器的要素選擇模組時，將提供資料集並標識包含標籤或從屬變數的列。 然後指定一個用於測量要素重要性的方法。

模組輸出包含最佳要素列的資料集，按預測功率排名。 它還從所選指標輸出要素的名稱及其分數。  

## <a name="what-filter-based-feature-selection-is"></a>基於篩選器的功能選擇是什麼  

用於要素選擇的此模組稱為"基於篩選器"，因為您可以使用所選指標查找不相關的屬性。 然後從模型中篩選出冗余列。 選擇適合資料的單個統計度量值，模組計算每個要素列的分數。 列按其特徵分數進行排名。 

選擇正確的特徵就有可能改善分類的精確度和效率。 

通常，您只使用得分最高的列來構建預測模型。 要素選擇分數較差的列可以留在資料集中，並在生成模型時忽略。  

## <a name="how-to-choose-a-feature-selection-metric"></a>如何選擇要素選擇指標

基於篩選器的功能選擇模組提供了用於評估每列中的資訊值的各種指標。 本節提供每個指標的一般說明，以及如何應用它。 您可以在[技術說明](#technical-notes)和配置每個模組[的說明](#how-to-configure-filter-based-feature-selection)中找到使用每個指標的其他要求。

-   **皮爾遜相關性**  

    Pearson 的相關統計或 Pearson 的相關係數在統計模型中也稱為`r`值。 對於任何兩個變數，它會傳一個指出相關強度的值。

    皮耳森相關係數的計算公式是先取兩個變數的共變異數，再除以其標準差的乘積。 兩個變數中刻度的變化不會影響係數。  

-   **奇方**  

    雙向卡方測試是一種統計方法，它能測量期望值與實際結果之間的差距。 該方法假設變數是隨機的，並且是從適當的獨立變數範例中抽出。 產生的卡方統計量能指出結果與預期 (隨機) 結果之間的差距。  


> [!TIP]
> 如果需要自訂要素選擇方法的不同選項，請使用[執行 R 腳本](execute-r-script.md)模組。 

## <a name="how-to-configure-filter-based-feature-selection"></a>如何配置基於篩選器的功能選擇

您可以選擇標準統計指標。 模組計算一對列之間的相關性：標籤列和要素列。

1.  將基於篩選器的功能選擇模組添加到管道中。 您可以在設計器中的 **"功能選擇"** 類別中找到它。

2. 連接至少包含兩個潛在要素的列的輸入資料集。  

    為確保分析列並生成要素分數，請使用["編輯中繼資料"](edit-metadata.md)模組設置**IsFeature**屬性。 

    > [!IMPORTANT]
    > 確保作為輸入提供列是潛在功能。 例如，包含單個值的列沒有資訊值。
    >
    > 如果您知道某些列會製作壞要素，則可以從列選擇中刪除它們。 您還可以使用["編輯中繼資料"](edit-metadata.md)模組將它們標記為 **"分類**"。 
3.  對於**要素評分方法**，請選擇以下已建立的統計方法之一，用於計算分數。  

    | 方法              | 需求                             |
    | ------------------- | ---------------------------------------- |
    | 皮爾遜相關性 | 標籤可以是文本或數位。 要素必須是數位要素。 |
    奇方| 標籤和要素可以是文本或數位。 使用此方法計算兩個分類列的功能重要性。|

    > [!TIP]
    > 如果更改所選指標，將重置所有其他選擇。 因此，請務必首先設置此選項。
4.  選擇 **"僅對要素運行"列**選項，以便僅為以前標記為要素的列生成分數。 

    如果清除此選項，模組將為任何滿足條件的列創建分數，最多為**所需要素數**中指定的列數。  

5.  對於 **"目標"列**，選擇 **"啟動"欄選取器**以按名稱或按其索引選擇標籤列。 （索引是一個基於的。  
    涉及統計相關性的所有方法都需要標籤列。 如果未選擇標注列或多個標籤列，則模組將返回設計時錯誤。 

6.  對於**所需要素數**，輸入要返回的要素列數：  

    - 可以指定的最小要素數為 1，但我們建議您增加此值。  

    - 如果指定的所需特徵數目大於資料集的資料行數目，則會傳回所有特徵。 即使返回分數為零的要素。  

    - 如果指定的結果列少於要素列，則要素按降分進行排名。 僅返回頂部要素。 

7.  提交管道，或選擇基於篩選器的功能選擇模組，然後選擇 **"運行選擇**"。


## <a name="results"></a>結果

處理完成後：

+ 要查看分析要素列及其分數的完整清單，請按右鍵模組並選擇 **"視覺化**"。  

+ 要根據要素選擇條件查看資料集，請按右鍵模組並選擇 **"視覺化**"。 

如果資料集的列數少於預期列，請檢查模組設置。 還要檢查作為輸入提供的列的資料類型。 例如，如果將**所需要素數**設置為 1，則輸出資料集僅包含兩列：標籤列和排名最高的要素列。


##  <a name="technical-notes"></a>技術說明  

### <a name="implementation-details"></a>實作詳細資料

如果在數位要素和分類標籤上使用 Pearson 相關性，則要素分數的計算方式如下：  

1.  對於分類列中的每個級別，計算數值列的條件平均值。  

2.  將條件值的列與數位列相關聯。  

### <a name="requirements"></a>需求  

-   無法為指定為 **"標籤"** 列或分數列的任何列生成要素選擇**分數**。  

-   如果嘗試將評分方法與該方法不支援的資料類型列一起使用，則模組將引發錯誤。 或者，將為列分配零分。  

-   如果列包含邏輯（真/假）值，則這些值將作為`True = 1`和`False = 0`進行處理。  

-   如果列已指定為 **"標籤"** 或 **"分數**"，則列不能成為要素。  

### <a name="how-missing-values-are-handled"></a>如何處理缺失值  

-   不能將具有所有缺失值的任何列指定為目標（標籤）列。  

-   如果列包含缺失的值，則模組在計算列的分數時忽略它們。  

-   如果指定為要素列的列具有所有缺失值，模組將分配零分。   


## <a name="next-steps"></a>後續步驟

請參閱 Azure 機器學習[可用的模組集](module-reference.md)。 

