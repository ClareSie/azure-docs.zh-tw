---
title: 增強的決策樹回歸：模組參考
titleSuffix: Azure Machine Learning
description: 瞭解如何在 Azure 機器學習中使用增強決策樹回歸模組，使用提升創建迴歸樹的組。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/22/2020
ms.openlocfilehash: 79a2ccae31fac31d8d10bb643c35a41a3d7cb5d6
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2020
ms.locfileid: "79456721"
---
# <a name="boosted-decision-tree-regression-module"></a>提升的決策樹回歸模組

本文介紹 Azure 機器學習設計器（預覽）中的模組。

使用此模組使用提升創建迴歸樹的組。 *提升*意味著每棵樹都依賴于以前的樹。 該演算法通過擬合其前面的樹的殘差來學習。 因此，決策樹集團中的促進有助於提高精確度，但稍微有涵蓋範圍不足的風險。  
  
此回歸方法是一種受監督的學習方法，因此需要*標記的資料集*。 標籤列必須包含數值。  

> [!NOTE]
> 本單元只適用於使用數值變數的資料集。  

定義模型後，使用[訓練模型進行訓練](./train-model.md)。

  
## <a name="more-about-boosted-regression-trees"></a>有關提升迴歸樹的更多  

除了封袋、隨機樹系等等，「促進」也是建立集團模型的傳統方法之一。  在 Azure 機器學習中，提升的決策樹使用 MART 梯度提升演算法的有效實現。 梯度提升是一種適用於迴歸問題的機器學習技術。 它會逐步建置迴歸樹，利用預先定義的損失函數來測量每個步驟中的錯誤，並於下一個步驟中更正。 因此，預測模型實際上是一整團的較弱預測模型。  
  
在回歸問題中，提升以循序漸進的方式生成一系列樹，然後使用任意可區分損失函數選擇最佳樹。  
  
如需詳細資訊，請參閱以下文章：  
  
+ [https://wikipedia.org/wiki/Gradient_boosting#Gradient_tree_boosting](https://wikipedia.org/wiki/Gradient_boosting)

    維琪百科關於梯度提升的文章提供了一些關於提升樹的背景。 
  
-  [https://research.microsoft.com/apps/pubs/default.aspx?id=132652](https://research.microsoft.com/apps/pubs/default.aspx?id=132652)  

    微軟研究：從RankNet到蘭姆達蘭克到蘭姆達馬特：概述。 由J.C. 伯吉斯

梯度促進方法也可用於分類問題，以適當的遺失函數將問題簡化成迴歸。 有關分類任務的提升樹實現的詳細資訊，請參閱[雙類提升決策樹](./two-class-boosted-decision-tree.md)。  

## <a name="how-to-configure-boosted-decision-tree-regression"></a>如何配置增強的決策樹回歸

1.  將 **"提升決策樹"** 模組添加到管道中。 您可以在 **"機器學習**初始**化****"類別下**找到此模組。 
  
2.  通過設置 **"創建培訓師模式"** 選項，指定如何訓練模型。  
  
    -   **單一參數**：如果您知道如何配置模型，並提供一組特定的值作為參數，請選擇此選項。 
     
    -   **參數範圍**：如果不確定最佳參數，並且想要運行參數掃描，請選擇此選項。 選擇要反覆運算的值範圍，[調諧模型 Hyper 參數](tune-model-hyperparameters.md)反覆運算您提供的所有可能組合設置，以確定生成最佳結果的超參數。    
   
  
3. **每棵樹的最大葉子數**：指示可在任何樹中創建的最大終端節點數（葉）。  

    增加此值，您可能會增加樹狀結構的大小，並取得較佳的精確度，風險是過度配適和較長的定型時間。  

4. **每個葉節點的最小樣本數**：指示在樹中創建任何終端節點（葉）所需的最小案例數。

    藉由增加此值，您會增加建立新規則的臨界值。 例如，若預設值是 1，即使單一案例可能會造成新規則的建立。 如果您將此值增加至 5，則定型資料至少要包含 5 個案例，才會符合相同的條件。

5. **學習速率**：鍵入介於 0 和 1 之間的數位，用於定義學習時的步驟大小。 學習速率決定學員在最佳解決方案上收斂的速度或速度。 如果步長過大，則可能會超過最佳解決方案。 如果步長太小，則訓練需要更長的時間才能融合到最佳解決方案上。

6. **構造的樹數**：指示要在集合中創建的決策樹的總數。 通過創建更多決策樹，您可以獲得更好的覆蓋率，但培訓時間會增加。

    此值還控制視覺化訓練的模型時顯示的樹數。 如果要查看或列印單個樹，可以將該值設置為 1;否則，可以將該值設置為 1。但是，只生成一個樹（具有初始參數集的樹），並且不執行進一步的反覆運算。

7. **亂數種子**：鍵入可選的非負整數，用作隨機種子值。 指定種子可確保具有相同資料和參數的運行之間的可重現性。

    預設情況下，隨機種子設置為 0，這意味著初始種子值是從系統時鐘獲取的。
  

9. 添加培訓資料集和其中一個培訓模組：

    - 如果將 **"創建訓練器模式"** 選項設置為 **"單一參數**"，請使用[訓練器模型](train-model.md)模組。  
  
    

10. 提交管道。  
  
## <a name="results"></a>結果

培訓完成後：

+ 要使用模型進行評分，請將其連接到[分數模型](./score-model.md)，以預測新輸入示例的值。

+ 要保存已訓練的模型的快照，請在 **"已訓練模型**"的右側面板中選擇 **"輸出**"選項卡，然後按一下"**註冊資料集**"圖示。 訓練模型的副本將作為模組保存在模組樹中，並且不會在管道的連續運行時更新。

## <a name="next-steps"></a>後續步驟

請參閱 Azure 機器學習[可用的模組集](module-reference.md)。 
