---
title: 計分 SVD 推薦：模組參考
titleSuffix: Azure Machine Learning
description: 瞭解如何使用 Azure Machine Learning 中的計分 SVD 推薦模組來評分資料集的建議預測。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 08/10/2020
ms.openlocfilehash: bf62fa995724b8e1fff757e89945cc39db3d9842
ms.sourcegitcommit: 53acd9895a4a395efa6d7cd41d7f78e392b9cfbe
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/22/2020
ms.locfileid: "90893701"
---
# <a name="score-svd-recommender"></a>評分 SVD 推薦

本文描述如何在 Azure Machine Learning 設計師中使用計分 SVD 推薦模組。 您可以使用此模組來根據單一值分解 (SVD) 演算法，使用已定型的建議模型來建立預測。

SVD 推薦可以產生兩種不同的預測：

- [為指定使用者和項目預測評等](#prediction-of-ratings)
- [為使用者建議項目](#recommendations-for-users)

當您建立第二種類型的預測時，您可以在下列其中一種模式中運作：

- **生產模式** 會考慮所有使用者或專案。 它通常用於 web 服務。

  您可以為新的使用者建立分數，而不只是在定型期間看到的使用者。 如需詳細資訊，請參閱 [技術](#technical-notes)提示。 

- **評估模式** 會在一組精簡的使用者或可評估的專案上運作。 它通常是在管線作業期間使用。

如需有關 SVD 推薦演算法的詳細資訊，請參閱推薦 systems 的研究白皮書 [對照表分解技術](https://datajobs.com/data-science-repo/Recommender-Systems-[Netflix].pdf)。

## <a name="how-to-configure-score-svd-recommender"></a>如何設定計分 SVD 推薦

此課程模組支援兩種類型的預測，各有不同的需求。 

###  <a name="prediction-of-ratings"></a>評量的預測

當您預測評等時，此模型會根據定型資料計算使用者回應特定專案的方式。 計分的輸入資料必須同時提供使用者和專案的費率。

1. 將已定型的建議模型新增至您的管線，並將其連線至已 **定型的 SVD 推薦**。 您必須使用 [定型 SVD 推薦](train-SVD-recommender.md) 模組來建立模型。

2. 針對 **推薦預測類型**，選取 [ **評等預測**]。 不需要任何其他參數。

3. 新增您想要進行預測的資料，並將其連接至 **資料集以進行評分**。

   若要讓模型預測評等，輸入資料集必須包含使用者-專案配對。

   資料集可以在第一個和第二個數據行中包含使用者-專案組的選擇性第三個數據行。 但是，在預測期間將會忽略第三個數據行。

4. 提交管線。

### <a name="results-for-rating-predictions"></a>評等預測的結果 

輸出資料集包含三個數據行：使用者、專案，以及每個輸入使用者和專案的預測評等。

###  <a name="recommendations-for-users"></a>適用于使用者的建議 

若要為使用者建議專案，請提供使用者和專案的清單做為輸入。 從這項資料中，模型會使用其現有專案和使用者的知識，來產生可能吸引每位使用者的專案清單。 您可以自訂傳回的建議數目。 您可以設定產生建議所需的先前建議數目閾值。

1. 將已定型的建議模型新增至您的管線，並將其連線至已 **定型的 SVD 推薦**。  您必須使用 [定型 SVD 推薦](train-svd-recommender.md) 模組來建立模型。

2. 若要針對使用者清單建議專案，請將 [ **推薦預測種類** ] 設定為 [ **專案建議**]。

3. 針對 [ **建議的專案選取**]，指出您是在生產環境中使用評分模組，還是要進行模型評估。 選擇下列其中一個值：

    - **從所有專案**：如果您要設定要在 web 服務或生產環境中使用的管線，請選取此選項。  此選項會啟用 *生產模式*。 此模組會從定型期間看到的所有專案中提出建議。

    - **從 [模型評估的評分專案 (]) **：如果您正在開發或測試模型，請選取此選項。 此選項會啟用 *評估模式*。 此模組只會針對輸入資料集中已分級的專案提出建議。
    
    - **從未分級的專案 (為使用者建議新專案) **：如果您想要模組只針對訓練資料集中尚未評等的專案提出建議，請選取此選項。 

4. 新增您想要進行預測的資料集，並將它連接至 **資料集以進行評分**。

    - 針對 **所有專案**，輸入資料集應包含一個資料行。 它包含要提出建議的使用者識別碼。

      資料集可以包含多個專案識別碼和評等的兩個數據行，但會忽略這兩個數據行。 

    - 若為 [ **從評等專案] (用於模型評估) **，則輸入資料集應由使用者-專案配對所組成。 第一個資料行應該包含使用者識別碼。 第二個數據行應該包含對應的專案識別碼。

      資料集可以包含使用者-專案評等的第三個數據行，但會忽略此資料行。

    - 針對 **從未分級的專案 (為使用者建議) 的新專案 **，輸入資料集應由使用者-專案配對所組成。 第一個資料行應該包含使用者識別碼。 第二個數據行應該包含對應的專案識別碼。

     資料集可以包含使用者-專案評等的第三個數據行，但會忽略此資料行。

5. 要對**使用者建議的最大專案數**：輸入每位使用者要傳回的專案數。 根據預設，模組會建議五個專案。

6. **每位使用者的建議集區大小下限**：輸入值，指出需要的先前建議數量。 根據預設，此參數設定為2，表示至少有兩個其他使用者已建議專案。

   只有當您在評估模式中進行評分時，才使用此選項。 如果您選取 [ **從所有專案** ] 或 [從未分級的專案]，則無法使用此選項 ** (為使用者) 建議新的專案 **。

7.  針對 **從未分級的專案 (為使用者建議新專案) **，請使用第三個輸入埠（名為 **定型資料**）來移除已從預測結果評等的專案。

    若要套用此篩選準則，請將原始訓練資料集連接至輸入埠。

8. 提交管線。

### <a name="results-of-item-recommendation"></a>專案建議的結果

計分 SVD 推薦所傳回的評分資料集會列出每個使用者的建議專案：

- 第一個資料行包含使用者識別碼。
- 會產生一些額外的資料行，這取決於您為 **使用者建議的最大專案數**所設定的值。 每個資料行都包含依識別碼)  (的建議專案。 這些建議依使用者-專案親和性排序。 具有最高親和性的專案會放在資料行 **專案 1**中。


##  <a name="technical-notes"></a>技術說明

如果您有 SVD 推薦的管線，並將模型移至生產環境，請注意在評估模式中使用推薦和在生產模式中使用時，兩者之間有一些主要差異。

根據定義，評估需要可在測試集中進行*地真*驗證的預測。 當您評估推薦時，它必須只預測已在測試集中評分的專案。 這會限制預測的可能值。

當您讓模型時，您通常會變更預測模式，根據所有可能的專案來提出建議，以便取得最佳預測。 這些預測當中有許多都沒有對應的事實。 因此，建議的精確度無法依照管線作業期間的相同方式進行驗證。


## <a name="next-steps"></a>後續步驟

請參閱 Azure Machine Learning 的[可用模組集](module-reference.md)。 
