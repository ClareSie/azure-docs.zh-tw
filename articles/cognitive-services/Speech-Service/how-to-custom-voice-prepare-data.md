---
title: 如何準備自訂語音語音服務的資料
titleSuffix: Azure Cognitive Services
description: 使用語音服務為您的品牌建立自訂語音。 您提供了 studio 錄製和相關聯的腳本，服務會產生一個微調到錄製語音的唯一語音模型。 使用此語音在您的產品、工具和應用程式中合成語音。
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: erhopf
ms.openlocfilehash: 5427e9f996fb77d455aa8064fc7cb1c65e1fcf7e
ms.sourcegitcommit: 58faa9fcbd62f3ac37ff0a65ab9357a01051a64f
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/29/2020
ms.locfileid: "74805972"
---
# <a name="prepare-data-to-create-a-custom-voice"></a>準備資料以建立自訂語音

當您準備好為應用程式建立自訂文字轉換語音的語音時，第一個步驟是收集錄音和相關聯的腳本，以開始訓練語音模型。 語音服務會使用此資料來建立唯一的語音微調，以符合錄音中的聲音。 訓練語音之後，您就可以開始在應用程式中合成語音。

您可以從少量的資料開始，以建立概念證明。 不過，您提供的資料越多，您的自訂聲音就會愈自然。 在您可以訓練自己的文字轉換語音語音模型之前，您需要錄音和相關聯的文字轉譯。 在此頁面上，我們將探討資料類型、其使用方式，以及如何進行管理。

## <a name="data-types"></a>資料類型

語音訓練資料集包含音訊錄製，以及具有相關聯轉譯的文字檔。 每個音訊檔案應包含單一語句（單一句子或對話系統的單一回合），且長度不超過15秒。

在某些情況下，您可能未備妥正確的資料集，而且想要使用可用的音訊檔案（簡短或長）來測試自訂語音訓練，不論是否有文字記錄。 我們提供工具（搶鮮版（Beta）），協助您將音訊分割成語句，並使用[批次轉譯 API](batch-transcription.md)來準備文字記錄。

下表列出資料類型，以及如何使用它們來建立自訂文字轉換語音語音模型。

| 資料類型 | 描述 | 使用時機 | 需要額外的服務 | 定型模型的數量 | 地區設定 |
| --------- | ----------- | ----------- | --------------------------- | ----------------------------- | --------- |
| **個別語句 + 相符文字記錄** | 做為個別語句之音訊檔案（.wav）的集合（.zip）。 每個音訊檔案的長度應為15秒或更短，並與格式化的文字記錄（.txt）配對。 | 具有相符文字記錄的專業錄音 | 準備好進行訓練。 | En-us 和 zh 都沒有硬性需求。 適用于其他地區設定的超過 2000 + 相異語句。 | [所有自訂語音地區設定](language-support.md#customization) |
| **長音訊 + 文字記錄（搶鮮版（Beta））** | 長 unsegmented 音訊檔案（長度超過20秒）的集合（.zip），與包含所有說話單字的文字記錄（.txt）配對。 | 您有音訊檔案和相符的文字記錄，但它們不會分割成語句。 | 分割（使用批次轉譯）。<br>必要時的音訊格式轉換。 | 無硬性需求  | [所有自訂語音地區設定](language-support.md#customization) |
| **僅限音訊（搶鮮版（Beta））** | 不含文字記錄的音訊檔案集合（.zip）。 | 您只有音訊檔案可供使用，而不需要文字記錄。 | 分割和文字記錄產生（使用批次轉譯）。<br>必要時的音訊格式轉換。| 無硬性需求 | [所有自訂語音地區設定](language-support.md#customization) |

檔案應該依類型分組至資料集，並以 zip 檔案的形式上傳。 每個資料集只能包含單一資料類型。

> [!NOTE]
> 「免費訂閱」（F0）使用者和500適用于「標準訂用帳戶」（S0）使用者，每個訂用帳戶允許匯入的資料集數目上限為10個 .zip 檔案。

## <a name="individual-utterances--matching-transcript"></a>個別語句 + 相符文字記錄

您可以透過兩種方式來準備個別語句的錄製和相符的文字記錄。 撰寫腳本並讓配音人員讀取，或使用公開提供的音訊並轉譯為文字。 如果您採用第二種方式，請編輯音訊檔案中不流利的情況，例如「嗯」及其他補白音、口吃、喃喃自語或錯誤發音。

若要產生良好的聲音音調，請在具有高品質麥克風的安靜房間內建立錄製。 一致的磁片區、說話速度、說話音調和表達舉止的語音是不可或缺的。

> [!TIP]
> 若要建立語音以供生產環境使用，建議您使用專業錄音室和配音人員。 如需詳細資訊，請參閱[如何為客製化語音錄製語音範例](record-custom-voice-samples.md)。

### <a name="audio-files"></a>音訊檔案

每個音訊檔案應包含單一語句（單一句子或對話系統的單一回合），長度不超過15秒。 所有檔案都必須是相同的語音語言。 不支援多語言自訂文字轉換語音的語音，但英文 bi 語言除外。 每個音訊檔案都必須有唯一的數值檔案名，副檔名為 .wav。

準備音訊時，請遵循這些指導方針。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | RIFF （.wav），分組為 .zip 檔案 |
| 取樣率 | 至少 16000 Hz |
| 樣本格式 | PCM，16 位元 |
| 檔案名稱 | 數值，副檔名為 .wav。 不允許重複的檔案名。 |
| 音訊長度 | 少於15秒 |
| 封存格式 | .zip |
| 封存大小上限 | 2048 MB |

> [!NOTE]
> 取樣率低於 16000 Hz 的 .wav 檔案將會遭到拒絕。 如果 .zip 檔案包含具有不同採樣速率的 .wav 檔案，則只會匯入等於或高於 16000 Hz 的檔案。 入口網站目前最多可匯入 200 MB 的 .zip 封存。 不過，您可以上傳多個封存。

### <a name="transcripts"></a>文字記錄

轉譯檔案是純文字檔案。 使用這些指導方針來準備您的轉譯。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | 純文字 (.txt) |
| 編碼格式 | ANSI/ASCII、UTF-8、UTF-8-BOM、UTF-16-LE 或 UTF-16-是。 若為 zh-CN，則不支援 ANSI/ASCII 和 UTF-8 編碼。 |
| 每一行的語句數目 | **逐一**轉譯檔案的每一行應包含其中一個音訊檔案的名稱，後面接著相對應的轉譯。 檔案名稱和文字記錄應該以定位字元 (\t) 分隔。 |
| 檔案大小上限 | 2048 MB |

以下是在一個 .txt 檔案中，語句由語句組織的文字記錄範例：

```
0000000001[tab] This is the waistline, and it's falling.
0000000002[tab] We have trouble scoring.
0000000003[tab] It was Janet Maslin.
```
很重要的是，文字記錄是對應音訊的100% 精確轉譯。 文字記錄中的錯誤會導致定型期間的品質損失。

> [!TIP]
> 建立生產文字轉換語音的語音時，選取語句（或撰寫腳本），將語音涵蓋範圍和效率納入考慮。 無法取得想要的結果嗎？ [請洽詢自訂語音](mailto:speechsupport@microsoft.com)小組，以深入瞭解我們的諮詢。

## <a name="long-audio--transcript-beta"></a>長音訊 + 文字記錄（搶鮮版（Beta））

在某些情況下，您可能無法使用分段的音訊。 我們會透過自訂語音入口網站提供服務（搶鮮版（Beta）），協助您分割較長的音訊檔案，並建立轉譯。 請記住，這項服務會向您的語音轉文字訂用帳戶使用量收費。

> [!NOTE]
> 長音訊分割服務會利用語音轉換文字的批次轉譯功能，其僅支援標準訂用帳戶（S0）使用者。 在處理分割期間，您的音訊檔案和文字記錄也會傳送至「自訂語音服務」，以精簡辨識模型，讓您的資料能獲得更好的精確度。 在此程式期間將不會保留任何資料。 分割完成後，只會儲存語句分割和其對應文字記錄，以供您的下載和訓練之用。

### <a name="audio-files"></a>音訊檔案

準備要進行分割的音訊時，請遵循這些指導方針。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | RIFF （.wav），其取樣率至少為 16 khz-16 位，PCM 中的速率至少為 256 KBps，並分組為 .zip 檔案 |
| 檔案名稱 | 支援 ASCII 和 Unicode 字元。 不允許重複的名稱。 |
| 音訊長度 | 超過20秒 |
| 封存格式 | .zip |
| 封存大小上限 | 2048 MB |

所有的音訊檔案都應該分組成一個 zip 檔案。 可以將 .wav 檔案和 mp3 檔案放入一個音訊 zip。 例如，您可以上傳 zip 檔案，其中包含名為 ' kingstory ' 的音訊檔案、45-秒-長，以及另一個名為 ' queenstory. mp3 '、200-second/long 的音訊檔案。 所有的 mp3 檔案在處理後都會轉換成 .wav 格式。

### <a name="transcripts"></a>文字記錄

文字記錄必須備妥此表格中所列的規格。 每個音訊檔案都必須與文字記錄相符。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | 純文字（.txt），分組為 .zip |
| 檔案名稱 | 使用與相符的音訊檔案相同的名稱 |
| 編碼格式 | UTF-8-僅限 BOM |
| 每一行的語句數目 | 沒有限制 |
| 檔案大小上限 | 2048 MB |

此資料類型中的所有文字記錄檔案都應該分組成一個 zip 檔案。 例如，您上傳的 zip 檔案包含名為 ' kingstory '、45秒長的音訊檔案，以及另一個名為 ' queenstory. mp3 ' 200 秒長的檔案。 您將需要上傳另一個包含兩份文字記錄的 zip 檔案，一個名稱為 ' kingstory .txt '，另一個則是 ' queenstory .txt '。 在每個純文字檔案中，您將提供相符音訊的完整正確轉譯。

成功上傳資料集之後，我們將協助您根據所提供的文字記錄，將音訊檔案分割成語句。 您可以藉由下載資料集來檢查分割的語句和相符的文字記錄。 唯一識別碼會自動指派給分段的語句。 請務必確定您提供的文字記錄是100% 精確。 文字記錄中的錯誤可以降低音訊分割期間的精確度，並在稍後的定型階段中進一步引進品質損失。

## <a name="audio-only-beta"></a>僅限音訊（搶鮮版（Beta））

如果您沒有音訊錄製的轉譯，請使用 [**僅限音訊**] 選項來上傳您的資料。 我們的系統可協助您分割和轉譯您的音訊檔案。 請記住，此服務將計入您的語音轉文字訂用帳戶使用量。

準備音訊時，請遵循這些指導方針。

> [!NOTE]
> 長音訊分割服務會利用語音轉換文字的批次轉譯功能，其僅支援標準訂用帳戶（S0）使用者。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | RIFF （.wav），其取樣率至少為 16 khz-16 位，PCM 中的速率至少為 256 KBps，並分組為 .zip 檔案 |
| 檔案名稱 | 支援 ASCII 和 Unicode 字元。 不允許重複的名稱。 |
| 音訊長度 | 超過20秒 |
| 封存格式 | .zip |
| 封存大小上限 | 2048 MB |

所有的音訊檔案都應該分組成一個 zip 檔案。 成功上傳資料集之後，我們將協助您根據語音批次轉譯服務，將音訊檔案分割成語句。 唯一識別碼會自動指派給分段的語句。 會透過語音辨識產生相符的文字記錄。 所有的 mp3 檔案在處理後都會轉換成 .wav 格式。 您可以藉由下載資料集來檢查分割的語句和相符的文字記錄。

## <a name="next-steps"></a>後續步驟

- [建立自訂語音](how-to-custom-voice-create-voice.md)
- [指南：錄製您的語音範例](record-custom-voice-samples.md)
