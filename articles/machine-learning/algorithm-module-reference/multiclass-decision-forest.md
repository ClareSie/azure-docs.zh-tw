---
title: 多元決策樹系：模組參考
titleSuffix: Azure Machine Learning
description: 瞭解如何使用 Azure Machine Learning 中的多元決策樹系模組，根據*決策樹*系演算法建立機器學習模型。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 04/22/2020
ms.openlocfilehash: 9e8798ea1c03ebf4c0d08adfbf5a0ee0755164a6
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/28/2020
ms.locfileid: "82137802"
---
# <a name="multiclass-decision-forest-module"></a>多元決策樹系模組

本文說明 Azure Machine Learning 設計工具（預覽）中的模組。

使用此模組來根據*決策樹*系演算法建立機器學習模型。 決策樹系是一個集團模型，它會快速建立一系列決策樹，同時從標記的資料中學習。

## <a name="more-about-decision-forests"></a>深入瞭解決策樹系

決策樹系演算法是分類的集團學習方法。 此演算法的運作方式是建立多個決策樹，然後針對最受歡迎的輸出類別*投票*。 投票是一種匯總形式，分類決策樹系中的每個樹狀結構都會輸出標籤的非正規化頻率長條圖。 匯總程式會加總這些長條圖並正規化結果，以取得每個標籤的「機率」。 具有高預測信賴度的樹狀結構在集團的最終決策中會有較高的權數。

一般決策樹是非參數化模型，這表示它們支援不同分佈的資料。 在每個樹狀結構中，對每一級執行一系列簡單的測試，同時增加樹狀結構的層級，直到抵達葉節點 (決策) 為止。

決策樹有許多優點：

+ 可以代表非線性決策界限。
+ 在定型和預測期間，執行運算和記憶體使用都很有效率。
+ 它們會執行整合式特徵選取和分類。
+ 它們可彈性呈現雜訊特徵。

Azure Machine Learning 中的決策樹系分類器是由決策樹的集團所組成。 一般而言，集團模型比單一決策樹的涵蓋範圍更廣、精確度更高。 如需詳細資訊，請參閱[決策樹](https://go.microsoft.com/fwlink/?LinkId=403677)。

## <a name="how-to-configure-multiclass-decision-forest"></a>如何設定多元決策樹系

1. 在設計工具中，將**多元決策樹**系模組新增至您的管線。 您可以在 [ **Machine Learning**]、[**初始化模型**] 和 [**分類**] 下找到此模組。

2. 按兩下模組以開啟 [**屬性**] 窗格。

3. 針對 [重新**取樣方法**]，選擇用來建立個別樹狀結構的方法。  您可以選擇封袋或複寫。

    + **封袋**：封袋也稱為「*啟動*程式匯總」。 在此方法中，每個樹狀結構都會在新的範例中成長，而這是透過使用取代隨機取樣原始資料集來建立的，直到您擁有資料集的原始大小為止。 模型的輸出會藉由*投票*來結合，這是一種匯總形式。 如需詳細資訊，請參閱適用于啟動程式匯總的維琪百科專案。

    + 複寫 **：在**複寫中，每個樹狀結構都是以完全相同的輸入資料進行定型。 判斷每個樹狀節點所使用的分割述詞會維持隨機，並建立各式各樣的樹狀結構。

   

4. 藉由設定 [**建立定型模式]** 選項，指定您要如何訓練模型。

    + **單一參數**：如果您知道要如何設定模型，請選取此選項，並提供一組值做為引數。

    + **參數範圍**：如果您不確定最佳參數，而且想要執行參數清理，請選取此選項。 選取要逐一查看的值範圍，[微調模型超參數](tune-model-hyperparameters.md)會逐一查看所提供設定的所有可能組合，以判斷產生最佳結果的超參數。   

5. **決策樹數目**：輸入可以在集團中建立的決策樹數目上限。 藉由建立更多決策樹，您可能會獲得更好的涵蓋範圍，但是定型時間可能會增加。

    當視覺化定型的模型時，這個值也會控制結果中顯示的樹狀結構數目。 若要查看或列印單一樹狀結構，您可以將值設定為1。不過，這表示只能產生一個樹狀結構（具有初始參數集的樹狀結構），而且不會執行任何進一步的反覆運算。

6. **決策樹的最大深度**：輸入數位，以限制任何決策樹的最大深度。 增加樹狀結構的深度可增加有效位數，但可能會有過度配適及定型時間增加的風險。

7. **每個節點的隨機分割數目**：輸入建立樹狀結構的每個節點時所要使用的分割數目。 「*分割*」（split）表示每個樹狀結構層級（節點）的功能會隨機分割。

8. **每個分葉節點的樣本數下限**：指出在樹狀結構中建立任何終端節點（分葉）所需的最小案例數目。 藉由增加此值，您會增加建立新規則的臨界值。

    例如，若預設值是 1，即使單一案例可能會造成新規則的建立。 如果您將此值增加為 5，則定型資料必須至少包含五個符合相同條件的案例。



10. 連接已加上標籤的資料集，並將模型定型：

    + 如果您將 [**建立定型模式**] 設定為 [**單一參數**]，請連接已標記的資料集和 [[訓練模型](train-model.md)] 模組。  
  
    + 如果您將 [**建立定型模式**] 設定為 [**參數範圍**]，請連接已加上標籤的資料集，並使用[微調模型超參數](tune-model-hyperparameters.md)來定型模型。  
  
    > [!NOTE]
    > 
    > 如果您將參數範圍傳遞至[定型模型](train-model.md)，它只會使用單一參數清單中的預設值。  
    > 
    > 如果您將一組參數值傳遞至[微調模型超參數](tune-model-hyperparameters.md)模組，當它預期每個參數的設定範圍時，就會忽略這些值，並使用學習模組的預設值。  
    > 
    > 如果您選取 [**參數範圍**] 選項，並輸入任何參數的單一值，則會在整個清除中使用您指定的單一值，即使其他參數在某個範圍的值之間變更也是如此。

11. 提交管線。



## <a name="next-steps"></a>後續步驟

請參閱可用來 Azure Machine Learning 的[模組集合](module-reference.md)。 