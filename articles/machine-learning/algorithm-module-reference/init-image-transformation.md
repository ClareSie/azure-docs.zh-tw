---
title: 初始化映射 Transformationply 影像轉換
titleSuffix: Azure Machine Learning
description: 瞭解如何使用初始映射轉換模組來初始化影像轉換。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 05/26/2020
ms.openlocfilehash: f54dd09ac82ddefeb2528462c7131aa921592d2a
ms.sourcegitcommit: 877491bd46921c11dd478bd25fc718ceee2dcc08
ms.contentlocale: zh-TW
ms.lasthandoff: 07/02/2020
ms.locfileid: "84487945"
---
# <a name="init-image-transformation"></a>初始化映像轉換

本文說明如何使用 Azure Machine Learning 設計工具（預覽）中的**初始映射轉換**模組來初始化影像轉換，以指定要如何轉換影像。

## <a name="how-to-configure-init-image-transformation"></a>如何設定 Init 映射轉換

1.  在設計工具中，將 [**初始化映射轉換**] 模組新增至您的管線。 

2.  針對 [重**設大小**]，指定是否要將輸入 PIL 影像大小調整為指定的大小。 如果您選擇 [True]，您可以指定所需的輸出影像大小 **，預設為 256**。 

3.  針對 [**置中裁剪**]，指定是否要在中央裁剪指定的 PIL 影像。 如果您選擇 [True]，則可以根據預設224值，指定裁剪**大小**所需的輸出影像大小。  

4.  針對 [ **pad**]，指定是否要在具有 pad 值0的所有側邊填補指定的 PIL 影像。 如果您選擇 [True]，則可以在**填補**的每個框線上指定填補（要加入多少圖元）。

5.  針對 [**色彩抖動**]，指定是否要隨機變更影像的亮度、對比和飽和度。

6.  若是**灰階**，請指定是否要將影像轉換成灰階。

7.  針對**隨機**調整大小的裁剪，指定是否要將指定的 PIL 影像裁剪成隨機大小和外觀比例。 會進行原始大小和隨機長寬比（從3/4 到4/3）的隨機大小（從0.08 到1.0 的範圍）裁剪。 此裁剪最後會調整為指定的大小。
    這通常用於訓練開始網路。 如果您選擇 [True]，您可以指定每個邊緣的預期輸出大小（以**隨機大小**表示），預設為256。

8.  針對**隨機裁剪**，指定是否要在隨機位置裁剪指定的 PIL 影像。 如果您選擇 [True]，則可以根據預設224值，以**隨機裁剪大小**來指定所需的裁剪輸出大小。

9.  針對 [**隨機水準翻轉**]，指定是否要以平行方式將指定的 PIL 影像垂直翻轉（機率為0.5）。

10.  若為**隨機垂直翻轉**，請指定是否要以機率0.5 的方式，隨機地垂直翻轉指定的 PIL 影像。

11.  針對**隨機旋轉**，指定是否以角度旋轉影像。 如果您選擇 [True]，您可以藉由設定**隨機旋轉度數**（表示（-度、順角度），預設為0），來指定範圍中的度數。

12.  針對**隨機仿射**，指定影像的隨機仿射轉換是否保持中心不變。 如果您選擇 [True]，您可以在 [**隨機仿射角度**] 中指定要選取的度數範圍，這表示（-度、+ 度），預設為0。

13.  若為**隨機灰階**，請指定是否要將影像隨機轉換成具有機率0.1 的灰階。

14.  針對**隨機的觀點**，指定是否要以機率0.5 隨機執行給定 PIL 影像的「透視」轉換。


16.  連接到 [套用[影像轉換](apply-image-transformation.md)] 模組，將上述指定的轉換套用至輸入影像資料集。

17. 提交管線。

## <a name="results"></a>結果

轉換完成之後，您可以在 [套用[影像轉換](apply-image-transformation.md)] 模組的輸出中找到轉換後的影像。


## <a name="technical-notes"></a>技術說明  

如需 [https://pytorch.org/docs/stable/torchvision/transforms.html](https://pytorch.org/docs/stable/torchvision/transforms.html) 影像轉換的詳細資訊，請參閱。

###  <a name="module-parameters"></a>模組參數  

| Name                    | 範圍   | 類型    | 預設 | 描述                              |
| ----------------------- | ------- | ------- | ------- | ---------------------------------------- |
| 調整大小                  | 任意     | 布林值 | True    | 將輸入 PIL 影像大小調整為指定的大小 |
| 大小                    | >= 1     | 整數 | 256     | 指定所需的輸出大小          |
| 置中裁剪             | 任意     | 布林值 | True    | 在中央裁剪指定的 PIL 影像  |
| 裁剪大小               | >= 1     | 整數 | 224     | 指定所需的裁剪輸出大小 |
| Pad                     | 任意     | Boolean | False   | 使用指定的 "pad" 值，在所有邊上填補指定的 PIL 影像 |
| 邊框間距                 | >= 0     | 整數 | 0       | 每個框線的填補                   |
| 色彩抖動            | 任意     | Boolean | False   | 隨機變更影像的亮度、對比和飽和度 |
| 灰階               | 任意     | Boolean | False   | 將影像轉換為灰階               |
| 隨機調整大小的裁剪     | 任意     | Boolean | False   | 將指定的 PIL 影像裁剪成隨機大小和外觀比例 |
| 隨機大小             | >= 1     | 整數 | 256     | 每個邊緣的預期輸出大小        |
| 隨機裁剪             | 任意     | Boolean | False   | 在隨機位置裁剪指定的 PIL 影像 |
| 隨機裁剪大小        | >= 1     | 整數 | 224     | 所需的裁剪輸出大小          |
| 隨機水準翻轉  | 任意     | 布林值 | True    | 以指定的機率隨機地垂直翻轉指定的 PIL 影像 |
| 隨機垂直翻轉    | 任意     | Boolean | False   | 以指定的機率隨機地垂直翻轉指定的 PIL 影像 |
| 隨機旋轉         | 任意     | Boolean | False   | 依角度旋轉影像                |
| 隨機旋轉度數 | [0180] | 整數 | 0       | 要從中選取的度數範圍          |
| 隨機仿射           | 任意     | Boolean | False   | 影像的隨機仿射轉換保持中心不變 |
| 隨機仿射度   | [0180] | 整數 | 0       | 要從中選取的度數範圍          |
| 隨機灰階        | 任意     | Boolean | False   | 以機率0.1 隨機將影像轉換為灰階 |
| 隨機觀點      | 任意     | Boolean | False   | 以機率0.5 隨機執行給定 PIL 影像的透視轉換 |
| 隨機清除          | 任意     | Boolean | False   | 隨機選取影像中的矩形區域，並以機率0.5 清除其圖元 |

###  <a name="output"></a>輸出  

| 名稱                        | 類型                    | Description                              |
| --------------------------- | ----------------------- | ---------------------------------------- |
| 輸出影像轉換 | TransformationDirectory | 可連接以套用**影像轉換**模組的輸出影像轉換。 |

## <a name="next-steps"></a>後續步驟

請參閱 Azure Machine Learning 的[可用模組集](module-reference.md)。 