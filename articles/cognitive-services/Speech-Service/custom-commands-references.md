---
title: 自訂命令概念和定義-語音服務
titleSuffix: Azure Cognitive Services
description: 在本文中，您將瞭解自訂命令應用程式的概念和定義。
services: cognitive-services
author: singhsaumya
manager: yetian
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 06/18/2020
ms.author: sausin
ms.openlocfilehash: 83725a3839d36fc753bb43803e67acaca7571a6e
ms.sourcegitcommit: cec9676ec235ff798d2a5cad6ee45f98a421837b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/02/2020
ms.locfileid: "85851840"
---
# <a name="custom-commands-concepts-and-definitions"></a>自訂命令概念和定義

本文可做為自訂命令應用程式的概念和定義的參考。

## <a name="commands-configuration"></a>命令設定
命令是自訂命令應用程式的基本建立區塊。 命令是完成使用者定義的特定工作所需的一組設定。

### <a name="example-sentences"></a>範例句子
範例語句是使用者可以說來觸發特定命令的設定範例。 您只需要提供語句的範例，而不是詳盡的清單。 

### <a name="parameters"></a>參數
參數是用來完成工作的命令所需的資訊。 在複雜的案例中，參數也可以用來定義觸發自訂動作的條件。

### <a name="completion-rules"></a>完成規則
完成規則是一系列要在命令準備好完成後執行的規則，例如，當滿足規則的所有條件時。

### <a name="interaction-rules"></a>互動規則
互動規則是額外的規則，可處理更具體或複雜的情況。 您可以新增額外的驗證，或設定 [預先確認] 或 [單步驟更正] 等 advanced 功能。 您也可以建立自己的自訂互動規則。

## <a name="parameters-configuration"></a>參數設定

參數是用來完成工作的命令所需的資訊。 在複雜的案例中，參數也可以用來定義觸發自訂動作的條件。

### <a name="name"></a>Name
參數是由 name 屬性所識別。 您應該一律為參數提供描述性名稱。 參數可以在不同的區段中參考，例如，當您建立條件、語音回應或其他動作時。
 
### <a name="isglobal"></a>IsGlobal
這個核取方塊會指出此參數的範圍是否要在應用程式中的所有命令之間共用。 如果是全域參數，可能會從任何命令範圍提供其值。 指派值之後，就可以從任何命令中參考它。 

### <a name="required"></a>必要
這個核取方塊會指出命令履行或完成是否需要此參數的值。 您必須設定回應，以提示使用者在參數標示為必要時提供值。

### <a name="type"></a>類型
自訂命令支援下列參數類型：

* Datetime
* [地理位置]
* Number
* String

所有這些參數類型都支援預設值設定，您可以從 Azure 入口網站進行設定。

### <a name="configuration"></a>組態
設定是只為類型字串定義的參數屬性。 支援下列值：

* **None**：
* **接受完整輸入**：啟用時，參數會接受任何輸入語句。 當使用者需要具有完整語句的參數時，這個選項就很有用。 例如郵件標籤。
* **接受來自外部目錄的預先定義輸入值**：此值是用來設定可假設有各種不同值的參數。 其中一個範例是「銷售目錄」。 在此情況下，目錄會裝載于外部 web 端點上，而且可以獨立設定。
* **接受來自內部目錄的預先定義輸入值**：此值用來設定可假設有幾個值的參數。 在此情況下，必須在語音 Studio 中設定值。


### <a name="validation"></a>驗證
驗證是適用于特定參數類型的結構，可讓您設定參數值的條件約束。 目前，自訂命令支援下列參數類型的驗證：

* Datetime
* Number

## <a name="rules-configuration"></a>規則設定
自訂命令中的規則是由一組*條件*所定義，當符合時，會執行一組*動作*。 規則也可讓您設定*執行後的狀態*，以及下一回合的*預期*。

### <a name="types"></a>類型
自訂命令支援下列規則類別：

* **完成規則**：這些規則必須在命令履行時執行。 在此區段中設定的所有規則都會執行條件為 true。 
* **互動規則**：這些規則可用來設定額外的自訂驗證、確認和單步驟更正，或完成其他任何自訂對話方塊邏輯。 互動規則會在處理中的每個回合進行評估，並可用來觸發完成規則。

設定為規則一部分的不同動作會依照它們在撰寫入口網站中出現的順序來執行。

### <a name="conditions"></a>條件
條件是執行規則時必須符合的需求。 規則條件可以是下列類型：

* **參數值等於**：所設定參數的值等於特定的值。
* **沒有參數值**：設定的參數不應該有任何值。
* **必要參數**：設定的參數具有值。
* **所有必要的參數**：標示為必要的所有參數都有值。
* **更新的參數**：因處理目前的輸入（語句或活動）而更新了一或多個參數值。
* **確認成功**：輸入語句或活動已成功確認（是）。
* **已拒絕確認**：輸入語句或活動不是成功的確認（no）。
* 必須**更新先前的命令**：當您想要攔截否定的確認以及更新時，就會在實例中使用此條件。 在幕後，當對話方塊引擎偵測到意圖與先前回合相同的負值確認，且使用者已回應更新時，就會設定這個狀況。

### <a name="actions"></a>動作
* **傳送語音回應**：將語音回應傳送回用戶端。
* **更新參數值**：將命令參數的值更新為指定的值。
* **清除參數值**：清除命令參數值。
* **呼叫 web 端點**：呼叫 web 端點。
* 將**活動傳送至用戶端**：將自訂活動傳送至用戶端。

### <a name="expectations"></a>期望
預期會用來設定處理下一個使用者輸入的提示。 支援下列類型：

* **需要使用者的確認**：此預期會指定應用程式預期要有確認（是/否）以進行下一個使用者輸入。
* **需要來自使用者的參數輸入**：此預期會指定應用程式預期來自使用者輸入的一或多個命令參數。

### <a name="post-execution-state"></a>執行後狀態
執行後狀態是處理目前輸入（語句或活動）之後的對話方塊狀態。 其類型如下：

* **命令已完成**：完成命令，而且不會處理任何其他命令規則。
* **執行完成規則**：執行所有有效的完成規則。
* **等待使用者的輸入**：等待下一個使用者輸入。

## <a name="next-steps"></a>後續步驟

> [!div class="nextstepaction"]
> [請參閱 GitHub 上的範例](https://aka.ms/speech/cc-samples)
