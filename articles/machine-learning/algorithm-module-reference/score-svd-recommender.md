---
title: 分數 SVD 推薦者：模組參考
titleSuffix: Azure Machine Learning
description: 瞭解如何在 Azure 機器學習中使用分數 SVD 推薦器模組對資料集的建議預測進行評分。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/10/2020
ms.openlocfilehash: 82c3454ad4c8db3a9b19084f5b6ece988cc86b9a
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2020
ms.locfileid: "79455973"
---
# <a name="score-svd-recommender"></a>評分 SVD 推薦

本文介紹如何在 Azure 機器學習設計器（預覽）中使用分數 SVD 推薦模組。 使用此模組使用基於單值分解 （SVD） 演算法的經過訓練的建議模型創建預測。

SVD 推薦者可以生成兩種不同的預測：

- [為指定使用者和項目預測評等](#prediction-of-ratings)
- [為使用者建議項目](#recommendations-for-users)

創建第二種類型的預測時，可以在以下模式之一操作：

- **生產模式**考慮所有使用者或專案。 它通常用於 Web 服務。

  您可以為新使用者創建分數，而不僅僅是在培訓期間看到的使用者。 有關詳細資訊，請參閱[技術說明](#technical-notes)。 

- **評估模式**對一組可以計算的使用者或專案運行。 它通常用於管道操作。

有關 SVD 推薦器演算法的詳細資訊，請參閱[推薦器系統的研究論文矩陣分解技術](https://datajobs.com/data-science-repo/Recommender-Systems-[Netflix].pdf)。

## <a name="how-to-configure-score-svd-recommender"></a>如何配置分數 SVD 推薦人

此模組支援兩種類型的預測，每種預測都有不同的要求。 

###  <a name="prediction-of-ratings"></a>評級預測

預測評級時，模型計算使用者對特定專案的反應方式（給定訓練資料）。 評分的輸入資料必須同時提供使用者和要評分的專案。

1. 將經過培訓的推薦模型添加到管道中，並將其連接到**經過培訓的 SVD 推薦器**。 您必須使用[訓練 SVD 推薦器](train-SVD-recommender.md)模組創建模型。

2. 對於**推薦者預測類型**，選擇**評級預測**。 不需要其他參數。

3. 添加要為其進行預測的資料，並將其連接到**資料集以得分**。

   要預測評級模型，輸入資料集必須包含使用者-項對。

   資料集可以包含第一列和第二列中使用者項對的可選第三列分級。 但是第三列在預測期間將被忽略。

4. 提交管道。

### <a name="results-for-rating-predictions"></a>評級預測的結果 

輸出資料集包含三列：使用者、項和每個輸入使用者和項的預測評級。

###  <a name="recommendations-for-users"></a>使用者建議 

要向使用者推薦專案，請提供使用者清單和專案作為輸入。 從這些資料中，模型使用對現有專案和使用者的知識來生成對每個使用者可能具有吸引力的專案清單。 您可以自訂返回的建議數。 您可以為生成建議所需的先前建議數設置閾值。

1. 將經過培訓的推薦模型添加到管道中，並將其連接到**經過培訓的 SVD 推薦器**。  您必須使用[訓練 SVD 推薦器](train-svd-recommender.md)模組創建模型。

2. 要為使用者清單推薦專案，將 **"推薦者預測"類型**設置為 **"專案建議**"。

3. 對於**建議的專案選擇**，指示是在生產中使用評分模組還是用於模型評估。 選擇以下值之一：

    - **從"所有專案**"：如果要設置要在 Web 服務或生產中使用的管道，請選擇此選項。  此選項啟用*生產模式*。 該模組從培訓期間看到的所有專案中提出建議。

    - **從"評級專案"（用於模型評估）：** 如果要開發或測試模型，請選擇此選項。 此選項啟用*評估模式*。 該模組僅從已評級的輸入資料集中的這些專案提出建議。
    
    - **從未評分的專案（向使用者推薦新專案）：** 如果您希望模組僅從定型集中未評級的專案提出建議，請選擇此選項。 

4. 添加要為其進行預測的資料集，並將其連接到**資料集以得分**。

    - 對於 **"從所有項**"，輸入資料集應包含一列。 它包含要為其提出建議的使用者的識別碼。

      資料集可以包含專案識別碼和評級的額外兩列，但忽略這兩列。 

    - 對於 **"從分級專案"（用於模型評估），** 輸入資料集應包含使用者-項對。 第一列應包含使用者識別碼。 第二列應包含相應的項識別碼。

      資料集可以包括使用者項目分級的第三列，但忽略此列。

    - 對於 **"從未評分專案"（向使用者建議新專案），** 輸入資料集應由使用者-項對組成。 第一列應包含使用者識別碼。 第二列應包含相應的項識別碼。

     資料集可以包括使用者項目分級的第三列，但忽略此列。

5. **向使用者推薦的最大專案數**：輸入每個使用者要返回的項數。 預設情況下，模組建議五個專案。

6. **每個使用者建議池的最小大小**：輸入指示需要多少先前建議的值。 預設情況下，此參數設置為 2，這意味著至少兩個其他使用者推薦了該專案。

   僅當您在評估模式下得分時，才使用此選項。 如果選擇 **"所有專案**"或 **"從未評分專案"（向使用者推薦新專案），** 則此選項不可用。

7.  對於 **"從未分級專案"（向使用者建議新專案），** 請使用第三個輸入埠（名為 **"訓練資料**"）從預測結果中刪除已評級的專案。

    要應用此篩選器，請將原始訓練資料集連接到輸入埠。

8. 提交管道。

### <a name="results-of-item-recommendation"></a>專案建議的結果

評分 SVD 推薦者返回的評分資料集列出了每個使用者的建議項：

- 第一列包含使用者識別碼。
- 會生成許多其他列，具體取決於為**向使用者建議的最大項數**設置的值。 每列包含一個建議的項（按識別碼）。 建議按使用者項相關性排序。 具有最高相關性的項放在**列專案 1**中。

> [!WARNING]
> 不能使用[評估推薦器](evaluate-recommender.md)模組評估此評分資料集。


##  <a name="technical-notes"></a>技術說明

如果您有 SVD 推薦器的管道，並且將模型移動到生產狀態，請注意，在評估模式下使用推薦器與在生產模式下使用它之間存在關鍵區別。

根據定義，評估需要可在測試集中進行*地真*驗證的預測。 評估推薦人時，它必須僅預測測試集中已評級的專案。 這將限制預測的可能值。

操作模型時，通常更改預測模式以基於所有可能的專案提出建議，以便獲得最佳預測。 對於許多這些預測，沒有相應的地面真理。 因此，無法驗證建議的準確性與管道操作時相同。


## <a name="next-steps"></a>後續步驟

請參閱 Azure 機器學習[可用的模組集](module-reference.md)。 
