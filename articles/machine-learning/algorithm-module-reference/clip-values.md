---
title: 剪輯值
titleSuffix: Azure Machine Learning
description: 瞭解如何使用 Azure Machine Learning 中的 [剪輯值] 模組來偵測極端值和裁剪，或取代其值。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 09/09/2019
ms.openlocfilehash: 6466cea9fe04bb308a670cb03fd3de5314758142
ms.sourcegitcommit: 849bb1729b89d075eed579aa36395bf4d29f3bd9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/28/2020
ms.locfileid: "79456602"
---
# <a name="clip-values"></a>剪輯值

本文說明 Azure Machine Learning 設計工具（預覽）的模組。

使用 [剪輯值] 模組來識別並選擇性地將高於或低於指定臨界值的資料值取代為平均值、常數或其他替代值。  

您可以將模組連接到具有您想要裁剪之數位的資料集、選擇要使用的資料行，然後設定閾值或值的範圍，以及取代方法。 此模組只會輸出結果，或已變更的值附加至原始資料集。

## <a name="how-to-configure-clip-values"></a>如何設定剪輯值

開始之前，請先找出您想要裁剪的資料行，以及要使用的方法。 我們建議您先在一小部分的資料上測試任何裁剪方法。

此模組會將相同的準則和取代方法套用至您在選取範圍中包含的**所有**資料行。 因此，請務必排除您不想要變更的資料行。

如果您需要將裁剪方法或不同準則套用至某些資料行，您必須針對每一組類似的資料行使用**剪輯值**的新實例。

1.  將 [**剪輯值**] 模組新增至您的管線，並將它連接至您想要修改的資料集。 您可以在 [**資料轉換**] 下的 [**調整規模] 和 [縮減**] 分類中找到此模組。 
  
1.  在資料**行清單**中，使用 [資料行選取器] 選擇將套用**剪輯值的資料**行。  
  
1.  針對 [**臨界值集**]，從下拉式清單中選擇下列其中一個選項。 這些選項會決定如何設定可接受值的上限和下限，以及必須裁剪的值。  
  
    - **ClipPeaks**：當您以尖峰方式裁剪值時，只會指定上限。 大於該界限值的值會被取代。
  
    -  **ClipSubpeaks**：當您依 subpeaks 裁剪值時，您只需指定較低的界限。 小於該界限值的值會被取代。  
  
    - **ClipPeaksAndSubpeaks**：當您以尖峰和 subpeaks 裁剪值時，您可以同時指定上限和下限。 超出該範圍的值會被取代。 符合界限值的值不會變更。
  
1.  根據您在上一個步驟中所做的選擇，您可以設定下列臨界值： 

    + **下限臨界值**：只有在您選擇 [ **ClipSubPeaks** ] 時才會顯示
    + **上限臨界值**：只有在您選擇 [ **ClipPeaks** ] 時才會顯示
    + **閾值**：只有在您選擇 [ **ClipPeaksAndSubPeaks** ] 時才會顯示

    針對每個閾數值型別，選擇 [**常數**] 或 [**百分位數**]。

1. 如果您選取 [**常數**]，請在文字方塊中輸入最大或最小值。 例如，假設您知道已使用值999做為預留位置值。 您可以針對上限閾值選擇 [**常數**]，然後在 [**上限臨界值] 的 [常數值**] 中輸入999。
  
1. 如果您選擇 [**百分位數**]，就會將資料行值限制為百分位數範圍。 

    例如，假設您只想要保留10-80 個百分位數範圍的值，並取代所有其他值。 您會選擇 [**百分位數**]，然後為 [**下限臨界值**] 輸入10個百分位數，並輸入80做為 [上限臨界值] 的**百分位數值**。 

    如需如何使用百分位數範圍的一些範例，請參閱[百分位數](#examples-for-clipping-using-percentiles)上的一節。  
  
1.  定義替代值。

    完全符合您所指定界限的數位會視為在允許的值範圍內，因此不會被取代。 超出指定範圍的所有數位都會取代為替代值。 
  
    + 「尖峰」的**值**：定義要用來取代所有大於指定閾值之資料行值的值。  
    + **替代 subpeaks 的值**：定義要用來取代所有小於指定閾值之資料行值的值。  
    + 如果您使用**ClipPeaksAndSubpeaks**選項，您可以為上方和較低的裁剪值指定個別的取代值。  

    以下是支援的取代值：  
  
    -   **閾值**：使用指定的臨界值來取代裁剪的值。  
  
    -   **Mean**：以資料行值的平均值取代裁剪的值。 平均值會在裁剪值之前計算。  
  
    -   中**位數**：以資料行值的中位數取代裁剪的值。 在裁剪值之前，會計算中位數。   
  
    -   **遺失**。 以遺漏的（空白）值取代裁剪的值。  
  
1.  **加入指標**資料行：如果您想要產生新的資料行，告訴您是否已將指定的裁剪作業套用至該資料列中的資料，請選取此選項。 當您要測試一組新的裁剪和替代值時，這個選項很有用。  
  
1. **覆寫旗**標：指出您想要如何產生新的值。 根據預設，**裁剪值**會建立新的資料行，其中的尖峰值會裁剪成所需的閾值。 新的值會覆寫原始資料行。  
  
    若要保留原始資料行，並加入具有裁剪值的新資料行，請取消選取此選項。  
  
1.  提交管線。  
  
    以滑鼠右鍵按一下 [**剪輯值**] 模組，然後選取 [**視覺化**] 或選取模組，並切換至右窗格中的 [**輸出**] 索引標籤，按一下**埠輸出**中的長條圖圖示來檢查值，並確定裁剪作業符合您的預期。  
 
### <a name="examples-for-clipping-using-percentiles"></a>使用百分位數進行裁剪的範例

為了瞭解如何依百分位數來裁剪，假設資料集有 10 個資料列，每一個值 1-10 各有一個執行個體。  
  
- 如果您使用百分位數做為臨界值上限，並決定值為第 90 個百分位數，則資料集的所有值中，90% 必須小於該值。  
  
- 如果您使用百分位數做為臨界值下限，並決定值為第 10 個百分位數，則資料集的所有值中，10% 必須小於該值。  
  
1.  在 [臨界值設定] **** 中，選擇 [ClipPeaksAndSubPeaks]****。  
  
1.  針對 [**上限臨界值**]，選擇 [**百分**位數]，並針對 [**百分位數] 數值**輸入90。  
  
1.  在 [**上限值**] 中，選擇 [**遺漏值**]。  
  
1.  在 [臨界值下限] **** 中選擇 [百分位數]****，在 [百分位數]**** 中輸入 10。  
  
1.  針對**較低的替代值**，選擇 [**遺漏值**]。  
  
1.  取消選取 [**覆寫旗**標] 選項，然後選取 [**加入指標資料行**] 選項。  
  
現在，使用60做為最高百分位數臨界值，並使用30做為較低百分位數閾值來嘗試相同的管線，並使用閾值做為取代值。 下表比較這兩個結果：  
  
1.  取代為遺漏;上限臨界值 = 90;下限臨界值 = 20  
  
1.  取代為臨界值;上限百分位數 = 60;百分位數下限 = 40  
  
|原始資料|取代遺漏|取代臨界值|  
|-------------------|--------------------------|----------------------------|  
|1<br /><br /> 2<br /><br /> 3<br /><br /> 4<br /><br /> 5<br /><br /> 6<br /><br /> 7<br /><br /> 8<br /><br /> 9<br /><br /> 10|TRUE<br /><br /> TRUE<br /><br /> 3、FALSE<br /><br /> 4、FALSE<br /><br /> 5、FALSE<br /><br /> 6、FALSE<br /><br /> 7、FALSE<br /><br /> 8、FALSE<br /><br /> 9、FALSE<br /><br /> TRUE|4，TRUE<br /><br /> 4，TRUE<br /><br /> 4，TRUE<br /><br /> 4，TRUE<br /><br /> 5、FALSE<br /><br /> 6、FALSE<br /><br /> 7，TRUE<br /><br /> 7，TRUE<br /><br /> 7，TRUE<br /><br /> 7，TRUE| 
 
## <a name="next-steps"></a>後續步驟

請參閱可用來 Azure Machine Learning 的[模組集合](module-reference.md)。 
