---
title: Azure 服務匯流排資源管理器異常 |微軟文檔
description: Azure 資源管理器顯示的服務匯流排異常清單和建議的操作。
services: service-bus-messaging
documentationcenter: na
author: axisc
manager: darosa
editor: spelluru
ms.assetid: 3d8526fe-6e47-4119-9f3e-c56d916a98f9
ms.service: service-bus-messaging
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/26/2019
ms.author: aschhab
ms.openlocfilehash: 0f328651ac4422226071d2de12e9cbc787ef64be
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/27/2020
ms.locfileid: "75978262"
---
# <a name="service-bus-resource-manager-exceptions"></a>服務匯流排資源管理器例外

本文列出了使用 Azure 資源管理器與 Azure 服務匯流排交互時生成的異常 - 通過範本或直接調用。

> [!IMPORTANT]
> 本文檔經常更新。 請回來查看更新。

以下是通過 Azure 資源管理器顯示的各種異常/錯誤。

## <a name="error-bad-request"></a>錯誤：錯誤請求

"錯誤請求"表示資源管理器收到的請求驗證失敗。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 不正確的要求 | 40000 | 子代碼=40000。 創建佇列時無法設置屬性 *"屬性名稱"，* 因為命名空間 *"命名空間名稱"* 使用"基本"層。 此操作僅在"標準"或"高級"層中支援。 | 在 Azure 服務匯流排基本層上，無法設置或更新以下屬性 - <ul> <li> RequiresDuplicateDetection </li> <li> AutoDeleteOnIdle </li> <li>RequiresSession</li> <li>DefaultMessageTimeToLive </li> <li> DuplicateDetectionHistoryTimeWindow </li> <li> 啟用Express </li> <li> ForwardTo </li> <li> 主題 </li> </ul> | 請考慮從"基本"層升級到標準層或高級層以使用此功能。 |
| 不正確的要求 | 40000 | 子代碼=40000。 無法更改現有佇列（或主題）的"需要重複檢測"屬性的值。 | 在創建實體時，必須啟用/禁用重複檢測。 創建後無法更改重複的檢測配置參數。 | 要對以前創建的佇列/主題啟用重複檢測，可以創建具有重複檢測的新佇列/主題，然後從原始佇列轉發到新的佇列/主題。 |
| 不正確的要求 | 40000 | 子代碼=40000。 指定的值 16384 無效。 屬性"MaxSizeInMegaPB"必須是以下值之一：1024;2048;3072;4096;5120。 | MaxSizeInMegaPB 值無效。 | 確保 MaxSizeInMega PB 是以下之一 - 1024、2048、3072、4096、5120。 |
| 不正確的要求 | 40000 | 子代碼=40000。 無法更改佇列/主題的分區。 | 無法更改實體的分區。 | 創建新實體（佇列或主題）並啟用分區。 | 
| 不正確的要求 | 無 | 命名*空間"命名空間名稱"* 不存在。 | 命名空間在 Azure 訂閱中不存在。 | 要解決此錯誤，請嘗試以下操作 <ul> <li> 確保 Azure 訂閱正確。 </li> <li> 確保命名空間存在。 </li> <li> 驗證命名空間名稱是否正確（沒有拼寫錯誤或空字串）。 </li> </ul> | 
| 不正確的要求 | 40400 | 子代碼=40400。 自動轉發目標實體不存在。 | 自動轉發目標實體的目標不存在。 | 在創建源之前，目標實體（佇列或主題）必須存在。 創建目標實體後重試。 |
| 不正確的要求 | 40000 | 子代碼=40000。 提供的鎖定時間超過允許的最大"5"分鐘。 | 可以鎖定郵件的時間必須在 1 分鐘（最小）和 5 分鐘（最大值）之間。 | 確保提供的鎖定期介於 1 分鐘到 5 分鐘之間。 |
| 不正確的要求 | 40000 | 子代碼=40000。 無法同時啟用延遲持久性和"重複檢測"屬性。 | 啟用重複檢測的實體必須是持久性的，因此不能延遲持久性。 | 瞭解有關[重複檢測](duplicate-detection.md)的更多 |
| 不正確的要求 | 40000 | 子代碼=40000。 無法更改現有佇列的"需要會話"屬性的值。 | 應在創建實體時啟用對會話的支援。 創建後，您不能啟用/禁用現有實體（佇列或訂閱）上的會話 | 刪除並重新創建啟用"需要會話"屬性的新佇列（或訂閱）。 |
| 不正確的要求 | 40000 | 子代碼=40000。 "URI_PATH"包含服務匯流排不允許的字元。 實體段只能包含字母、數位、句點（.）、連字號（-）和底線（*）。 | 實體段只能包含字母、數位、句點（.）、連字號（-）和底線（*）。 任何其他字元都會導致請求失敗。 | 確保 URI 路徑中沒有無效字元。 |


## <a name="error-code-429"></a>錯誤代碼： 429

就像在 HTTP 中，"錯誤代碼 429"表示"請求太多"。 這意味著由於該資源上的請求太多（或由於操作衝突），特定資源（命名空間）正在被限制。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 429 | 50004 | 子代碼=50004。 請求已終止，因為*命名空間*的命名空間被限制。 | 當傳入請求數超過資源限制時，將處理此錯誤條件。 | 請等待幾秒鐘，然後重試。 <br/> <br/> 瞭解有關[配額](service-bus-quotas.md)和 Azure[資源管理器請求限制的更多資訊](../azure-resource-manager/management/request-limits-and-throttling.md)|
| 429 | 40901 | 子代碼=40901。 另一個衝突操作正在進行中。 | 同一資源/實體上正在進行另一個衝突操作 | 等待當前正在進行的操作完成，然後再重試。 |
| 429 | 40900 | 子代碼=40900。 衝突。 您要求的作業在資源的目前狀態下不允許。 | 當發出多個請求同時對同一實體（佇列、主題、訂閱或規則）執行操作時，可能會收到此情況。 | 等待幾秒鐘，然後重試 |
| 429 | 40901 | 實體 *"機構名稱"* 請求與另一個請求衝突 | 同一資源/實體上正在進行另一個衝突操作 | 等待上一個操作完成，然後再重試 |
| 429 | 40901 | 實體 *"機構名稱"* 正在進行另一個更新要求。 | 同一資源/實體上正在進行另一個衝突操作 | 等待上一個操作完成，然後再重試 |
| 429 | 無 | 發生了資源衝突。 另一個衝突操作可能正在進行。 如果這是失敗操作的重試，則後臺清理仍然掛起。 請稍後再試一次。 | 當對同一實體執行掛起的操作時，可能會攻擊此情況。 | 等待上一個操作完成，然後再重試。 |


## <a name="error-code-not-found"></a>錯誤代碼：未找到

此類錯誤表示未找到資源。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 找不到 | 無 | 未找到*實體"機構名稱"。* | 未找到要操作的實體。 | 檢查實體是否存在，然後重試該操作。 |
| 找不到 | 無 | 找不到。 操作不存在。 | 您嘗試執行的操作不存在。 | 請檢查操作，然後重試。 |
| 找不到 | 無 | 傳入請求不被識別為命名空間策略放置請求。 | 傳入請求正文為空，因此不能作為 put 請求執行。 | 請檢查請求正文以確保它不是 null。 | 
| 找不到 | 無 | 找不到消息實體 *"機構名稱"。* | 找不到您嘗試執行操作的實體。 | 請檢查實體是否存在，然後重試該操作。 |

## <a name="error-code-internal-server-error"></a>錯誤代碼：內部伺服器錯誤

此類錯誤表示存在內部伺服器錯誤

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 內部伺服器錯誤 | 50000 | 子代碼=50000。 內部伺服器錯誤| 可能由於各種原因發生。 有些症狀是 - <ul> <li> 用戶端請求/正文已損壞並導致錯誤。 </li> <li> 由於服務上的處理問題，用戶端請求超時。 </li> </ul> | 要解決此問題 <ul> <li> 確保請求參數不是 null 或格式不正確。 </li> <li> 重試要求。 </li> </ul> |

## <a name="error-code-unauthorized"></a>錯誤代碼：未經授權

此類錯誤表示沒有運行命令的授權。

| 錯誤碼 | 錯誤子代碼 | 錯誤訊息 | 描述 | 建議 |
| ---------- | ------------- | ------------- | ----------- | -------------- |
| 未經授權 | 無 | 輔助命名空間上的無效操作。 輔助命名空間是唯讀的。 | 對輔助命名空間執行操作，該命名空間設置為唯讀命名空間。 | 根據主命名空間重試命令。 瞭解有關[輔助命名空間](service-bus-geo-dr.md)的更多 |
| 未經授權 | 無 | 缺少權杖：未找到授權標頭。 | 當授權具有空值或不正確的值時，將發生此錯誤。 | 確保授權標頭中提到的權杖值正確且不為空。 |