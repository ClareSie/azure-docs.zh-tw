---
title: 創建自訂語音 - 語音服務
titleSuffix: Azure Cognitive Services
description: 準備好上傳資料後，請轉到自訂語音門戶。 創建或選擇自訂語音專案。 專案必須共用正確的語言/地區設定和性別屬性，作為您打算用於語音培訓的資料。
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: erhopf
ms.openlocfilehash: bbe1d651a7d2d2cac1b1aa78b815b2797ad185c5
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2020
ms.locfileid: "76717322"
---
# <a name="create-a-custom-voice"></a>建立自訂語音

在["為自訂語音準備資料"中](how-to-custom-voice-prepare-data.md)，我們描述了可用於訓練自訂語音的不同資料類型以及不同的格式要求。 準備好資料後，即可開始將它們上載到[自訂語音門戶](https://aka.ms/custom-voice-portal)或通過自訂語音培訓 API。 在這裡，我們將介紹通過門戶訓練自訂語音的步驟。

> [!NOTE]
> 此頁面假定您已閱讀["開始使用自訂語音](how-to-custom-voice.md)"和["為自訂語音準備資料](how-to-custom-voice-prepare-data.md)"，並創建了自訂語音專案。

檢查自訂語音支援的語言：[用於自訂的語言](language-support.md#customization)。

## <a name="upload-your-datasets"></a>上傳您的資料集

準備好上傳資料後，請轉到[自訂語音門戶](https://aka.ms/custom-voice-portal)。 創建或選擇自訂語音專案。 專案必須共用正確的語言/地區設定和性別屬性，作為您打算用於語音培訓的資料。 例如，選擇`en-GB`您錄製的音訊是否以英語使用帶有英國口音。

轉到 **"資料**"選項卡，然後按一下"**上傳資料**"。 在嚮導中，選擇與準備內容相匹配的正確資料類型。

您上傳的每個資料集都必須符合您選擇的資料類型的要求。 在上傳資料之前正確格式化資料非常重要。 這可確保自訂語音服務準確處理資料。 轉到[為自訂語音準備資料](how-to-custom-voice-prepare-data.md)，並確保資料格式正確。

> [!NOTE]
> 免費訂閱 （F0） 使用者可以同時上載兩個資料集。 標準訂閱 （S0） 使用者可以同時上載五個資料集。 若達到限制，請等候直到至少其中一個資料集完成匯入。 然後再試一次。

> [!NOTE]
> 每個訂閱允許導入的最大資料集數為免費訂閱 （F0） 使用者 10 .ZIP 檔案，標準訂閱 （S0） 使用者 500 個。

點擊上傳按鈕後，資料集將自動驗證。 資料驗證封裝括對音訊檔的一系列檢查，以驗證其檔案格式、大小和取樣速率。 修復錯誤（如果有）並再次提交。 成功啟動資料導入請求後，應在資料表中看到與剛剛上載的資料集對應的條目。

下表顯示所匯入資料集的處理狀態：

| State | 意義 |
| ----- | ------- |
| Processing | 您的資料集已收到並正在處理。 |
| 成功 | 資料集已過驗證，現在可用於構建語音模型。 |
| 失敗 | 由於許多原因（例如檔錯誤、資料問題或網路問題），資料集在處理過程中出現故障。 |

驗證完成後，您可以在 **"Utterances"** 列中查看每個資料集的匹配陳述總數。 如果您選擇的資料類型需要長音訊分段，則此列僅反映我們根據您的成績單或通過語音轉錄服務為您細分的話語。 您可以進一步下載經過驗證的資料集，以查看成功導入的話語及其映射腳本的詳細資訊結果。 提示：長音訊分段可能需要一個多小時才能完成資料處理。

對於 en-US 和 zh-CN 資料集，您可以進一步下載報告，以檢查每個錄製的發音分數和雜訊級別。 發音分數介於 0 到 100 的範圍間。 70 以下的分數通常表示語音錯誤或腳本不符。 大量腔調字可能會降低您的發音分數，並影響產生的數位語音。

信噪比 (SNR) 愈高表示您音訊中的雜音愈低。 在專業錄音室中，通常可達到 50+ SNR。 SNR 低於 20 的音訊可能會在您產生的語音中導致明顯的雜音。

請考慮以較低的發音分數或較差的信噪比來重新錄製任何語句。 若無法重新錄製，您可以從資料集中排除這些語句。

## <a name="build-your-custom-voice-model"></a>構建自訂語音模型

驗證資料集後，可以使用它構建自訂語音模型。

1.  導航到**文本到語音>自訂語音>訓練**。

2.  按一下 **"火車"模型**。

3.  接下來，輸入**名稱**和**說明**以説明您識別此模型。

    請謹慎選擇名稱。 您在這裡輸入的名稱，會是您在語音合成要求中指定語音作為 SSML 輸入一部分所使用的名稱。 只允許字母、數位和幾個標點符號字元，如 -、\_和 （'，""）。 對不同的語音模型使用不同的名稱。

    "**描述"** 欄位的常見用途是記錄用於創建模型的資料集的名稱。

4.  在 **"選擇訓練資料**頁"中，選擇要用於培訓的一個或多個資料集。 在提交陳述之前，請檢查話語的數量。 您可以從 en-US 和 zh-CN 語音模型的任意數量的語音開始。 對於其他地區設定，您必須選擇 2，000 多個語音才能訓練語音。

    > [!NOTE]
    > 重複的音訊名稱將從培訓中刪除。 確保您選擇的資料集不包含多個 .ZIP 檔案中相同的音訊名稱。

    > [!TIP]
    > 需要使用同一揚聲器的資料集才能獲得品質結果。 當您已提交用於培訓的資料集包含少於 6，000 個不同的陳述總數時，您將通過統計參數合成技術訓練語音模型。 如果您的訓練資料總數超過 6，000 個不同的陳述，您將使用串聯合成技術啟動培訓過程。 通常，串聯技術可以產生更自然、更保真的語音效果。 如果你想使用最新的神經TTS技術訓練模型，可以產生相當於公開可用的[神經語音的數位語音](language-support.md#neural-voices)，[請聯繫自訂語音團隊](https://go.microsoft.com/fwlink/?linkid=2108737)。

5.  按一下 **"訓練"** 開始創建語音模型。

"訓練"表顯示一個新條目，該條目對應于此新創建的模型。 該表還顯示狀態：處理、成功、失敗。

顯示的狀態反映了將資料集轉換為語音模型的過程，如下所示。

| State | 意義 |
| ----- | ------- |
| Processing | 正在創建語音模型。 |
| 成功 | 您的語音模型已創建，可以部署。 |
| 失敗 | 由於多種原因（例如看不見的資料問題或網路問題），您的語音模型在培訓中失敗。 |

訓練時間會因所處理的音訊資料量而有所不同。 一般時間範圍為數百個語句 30 分鐘到 20,000 個語句 40 小時。 模型培訓成功後，即可開始測試。

> [!NOTE]
> 免費訂閱 （F0） 使用者可以同時訓練一個語音字體。 標準訂閱 （S0） 使用者可以同時訓練三個語音。 若達到限制，請等候直到至少其中一個聲音音調完成訓練，然後再試一次。

> [!NOTE]
> 每個訂閱允許訓練的最大語音模型數為免費訂閱 （F0） 使用者 10 個型號，標準訂閱 （S0） 使用者允許 100 個型號。

如果使用神經語音訓練功能，可以選擇訓練針對即時流場景優化的模型，或者為非同步[長音訊合成](long-audio-api.md)優化的 HD 神經模型。  

## <a name="test-your-voice-model"></a>測試語音模型

在成功建立聲音音調後，您就可以進行測試，再將它部署以供使用。

1.  導航到**文本到語音>自訂語音>測試**。

2.  按一下 **"添加測試**"。

3.  選擇要測試的一個或多個模型。

4.  提供您希望語音發言的文本。 如果選擇一次測試多個模型，則相同的文本將用於測試不同的模型。

    > [!NOTE]
    > 您的文字語言必須與聲音音調語言相同。 只有經過成功訓練的模型才能進行測試。 此步驟中僅支援純文字。

5.  按一下 **[建立]**。

提交測試請求後，您將返回到測試頁面。 資料表中現在包含與新的要求對應的項目，以及狀態資料行。 合成語音可能需要幾分鐘的時間。 當狀態列顯示 **"成功"** 時，您可以播放音訊，或下載文本輸入（.txt 檔）和音訊輸出（.wav 檔），並進一步試聽後者的品質。

您還可以在已選擇測試的每個模型的詳細資訊頁中找到測試結果。 轉到 **"訓練"** 選項卡，然後按一下模型名稱以輸入模型詳細資訊頁面。

## <a name="create-and-use-a-custom-voice-endpoint"></a>創建和使用自訂語音終結點

成功建立並測試語言模型之後，您可以將它部署至自訂文字轉換語音端點。 然後，您可以使用此端點取代透過 REST API 提出文字轉換語音要求時的慣用端點。 自訂終結點只能由用於部署字體的訂閱調用。

要創建新的自訂語音終結點，請轉到 **"文本到語音">自訂語音>部署**。 選擇 **"添加終結點**"並輸入自訂終結點**的名稱**和**說明**。 然後選擇要與此終結點關聯的自訂語音模型。

按一下"**添加**"按鈕後，在終結點表中，您將看到新終結點的條目。 具現化新的端點可能需要幾分鐘的時間。 當部署的狀態**成功時**，終結點已準備就緒，可供使用。

> [!NOTE]
> 免費訂閱 （F0） 使用者只能部署一個模型。 標準訂閱 （S0） 使用者可以創建多達 50 個終結點，每個終結點都有自己的自訂語音。

> [!NOTE]
> 要使用自訂語音，必須指定語音模型名稱，直接在 HTTP 要求中使用自訂 URI，並使用同一訂閱通過 TTS 服務的身份驗證。

部署終結點後，終結點名稱將顯示為連結。 按一下連結可顯示特定于終結點的資訊，例如終結點金鑰、終結點 URL 和示例代碼。

端點的線上測試也可透過自訂語音入口網站使用。 要測試終結點，請從 **"終結點詳細資訊**"頁**中選擇"檢查終結點**"。 [Endpoint Testing] \(端點測試\) 頁面隨即出現。 輸入要講的文本（在文字方塊中以純文字或[SSML 格式](speech-synthesis-markup.md)顯示）。 若要聆聽以您自訂聲音音調說出的文字，請選取 [播放]****。 此測試功能將針對您的自訂語音合成使用付費。

自訂端點的功能與用於文字轉換語音要求的標準端點完全相同。 如需詳細資訊，請參閱 [REST API](rest-text-to-speech.md)。

## <a name="next-steps"></a>後續步驟

* [指南：錄製語音樣本](record-custom-voice-samples.md)
* [文本到語音 API 引用](rest-text-to-speech.md)
* [長音訊 API](long-audio-api.md)
