---
title: 如何為自訂語音 - 語音服務準備資料
titleSuffix: Azure Cognitive Services
description: 使用語音服務為您的品牌創建自訂語音。 提供錄音室錄音和相關腳本，該服務生成一個獨特的語音模型，並調整到錄製的語音。 使用此語音合成產品、工具和應用程式中的語音。
services: cognitive-services
author: erhopf
manager: nitinme
ms.service: cognitive-services
ms.subservice: speech-service
ms.topic: conceptual
ms.date: 11/04/2019
ms.author: erhopf
ms.openlocfilehash: 5427e9f996fb77d455aa8064fc7cb1c65e1fcf7e
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2020
ms.locfileid: "74805972"
---
# <a name="prepare-data-to-create-a-custom-voice"></a>準備資料以創建自訂語音

當您準備好為應用程式創建自訂文本到語音語音時，第一步是收集音訊錄製和相關腳本，以開始訓練語音模型。 語音服務使用此資料創建唯一的語音調整以匹配錄音中的語音。 訓練語音後，可以在應用程式中開始合成語音。

可以從少量資料開始創建概念驗證。 但是，您提供的資料越多，自訂語音的聲音就越自然。 在訓練自己的文本到語音模型之前，您需要錄音和相關的文本轉錄。 在此頁上，我們將回顧資料類型、如何使用資料類型以及如何管理每種資料類型。

## <a name="data-types"></a>資料類型

語音訓練資料集包括音訊錄製和包含相關轉錄的文字檔。 每個音訊檔應包含單個陳述（對話系統的單個句子或單個回合），並且不超過 15 秒長。

在某些情況下，您可能沒有準備好正確的資料集，並且希望使用可用音訊檔（短或長、帶或不帶成績單）測試自訂語音訓練。 我們提供工具（Beta），説明您將音訊細分為話語，並使用[批次處理轉錄 API](batch-transcription.md)準備腳本。

此表列出了資料類型以及每種資料類型用於創建自訂文本到語音語音模型的方式。

| 資料類型 | 描述 | 使用時機 | 需要額外的服務 | 用於訓練模型的數量 | 地區設定 |
| --------- | ----------- | ----------- | --------------------------- | ----------------------------- | --------- |
| **個人話語 + 匹配成績單** | 音訊檔 （.wav） 的集合 （.zip） 作為單個話語。 每個音訊檔的長度應為 15 秒或更少，與格式化的腳本 （.txt） 配對。 | 具有匹配成績單的專業錄音 | 準備接受培訓。 | en-US 和 zh-CN 沒有硬要求。 超過 2，000 多個不同表述，適用于其他地區設定。 | [所有自訂語音地區設定](language-support.md#customization) |
| **長音訊 + 腳本（測試版）** | 長、無分段音訊檔的集合 （.zip）（超過 20 秒），與包含所有口語的腳本 （.txt） 配對。 | 您有音訊檔和匹配的腳本，但它們不會分割成話語。 | 分段（使用批次處理轉錄）。<br>音訊格式轉換（如果需要）。 | 無硬要求  | [所有自訂語音地區設定](language-support.md#customization) |
| **僅限音訊（測試版）** | 沒有腳本的音訊檔的集合 （.zip）。 | 您只有可用的音訊檔，沒有腳本。 | 分段 + 生成腳本（使用批次處理轉錄）。<br>音訊格式轉換（如果需要）。| 無硬要求 | [所有自訂語音地區設定](language-support.md#customization) |

檔應按類型分組到資料集中，並作為 ZIP 檔案上載。 每個資料集只能包含單個資料類型。

> [!NOTE]
> 每個訂閱允許導入的最大資料集數為免費訂閱 （F0） 使用者 10 .ZIP 檔案，標準訂閱 （S0） 使用者 500 個。

## <a name="individual-utterances--matching-transcript"></a>個人話語 + 匹配成績單

您可以通過兩種方式準備個別話語和匹配的腳本的錄音。 編寫腳本並由語音人才讀取，或使用公開可用的音訊並將其轉錄為文本。 如果您採用第二種方式，請編輯音訊檔案中不流利的情況，例如「嗯」及其他補白音、口吃、喃喃自語或錯誤發音。

要生成良好的語音字體，請使用高品質的麥克風在安靜的房間裡創建錄音。 一致的音量、說話率、演講語和表達性言語舉止至關重要。

> [!TIP]
> 若要建立語音以供生產環境使用，建議您使用專業錄音室和配音人員。 如需詳細資訊，請參閱[如何為客製化語音錄製語音範例](record-custom-voice-samples.md)。

### <a name="audio-files"></a>音訊檔案

每個音訊檔應包含單個陳述（單個句子或對話系統的單個回合），時間不超過 15 秒。 所有檔必須使用相同的口語。 除了中英文雙語言外，不支援多語言自訂文本到語音語音。 每個音訊檔必須有一個帶有檔案名副檔名 .wav 的唯一數位檔案名。

準備音訊時，請遵循以下準則。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | RIFF （.wav），分組到 .ZIP 檔案中 |
| 取樣率 | 至少 16，000 Hz |
| 樣本格式 | PCM，16 位元 |
| 檔案名稱 | 數位，帶 .wav 副檔名。 不允許重複的檔案名。 |
| 音訊長度 | 短于 15 秒 |
| 封存格式 | .zip |
| 封存大小上限 | 2048 MB |

> [!NOTE]
> 採樣速率低於 16，000 Hz 的 .wav 檔將被拒絕。 如果 .ZIP 檔案包含具有不同取樣速率的 .wav 檔，則僅導入等於或高於 16，000 Hz 的檔。 入口網站目前最多可匯入 200 MB 的 .zip 封存。 不過，您可以上傳多個封存。

### <a name="transcripts"></a>文字記錄

轉錄檔是純文字檔。 使用這些指南準備轉錄。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | 純文字 (.txt) |
| 編碼格式 | ANSI/ASCII、UTF-8、UTF-8-BOM、UTF-16-LE 或 UTF-16-BE。 對於 zh-CN，不支援 ANSI/ASCII 和 UTF-8 編碼。 |
| 每一行的語句數目 | **一**- 轉錄檔的每一行應包含其中一個音訊檔的名稱，後跟相應的轉錄。 檔案名稱和文字記錄應該以定位字元 (\t) 分隔。 |
| 檔案大小上限 | 2048 MB |

下面是一個示例，說明腳本是如何在一個 .txt 檔中通過陳述來組織陳述的：

```
0000000001[tab] This is the waistline, and it's falling.
0000000002[tab] We have trouble scoring.
0000000003[tab] It was Janet Maslin.
```
記錄是 100% 準確的相應音訊的轉錄，這一點很重要。 成績單中的錯誤會導致訓練期間出現品質損失。

> [!TIP]
> 構建生產文本到語音語音時，請選擇考慮語音覆蓋範圍和效率的話語（或編寫腳本）。 無法取得想要的結果嗎？ [請與自訂語音團隊聯繫](mailto:speechsupport@microsoft.com)，詳細瞭解如何讓我們諮詢。

## <a name="long-audio--transcript-beta"></a>長音訊 + 腳本（測試版）

在某些情況下，您可能沒有分段音訊可用。 我們通過自訂語音門戶提供服務 （Beta），以説明您分段長音訊檔和創建轉錄。 請記住，此服務將針對語音到文本訂閱的使用付費。

> [!NOTE]
> 長音訊分段服務將利用語音到文本的批次處理轉錄功能，該功能僅支援標準訂閱 （S0） 使用者。 在處理分段期間，您的音訊檔和腳本也將發送到自訂語音服務以優化識別模型，以便提高資料的準確性。 在此過程中不會保留任何資料。 分段完成後，將僅存儲分段的話語及其映射記錄，以便下載和培訓。

### <a name="audio-files"></a>音訊檔案

準備音訊進行分段時，請遵循以下準則。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | 在 PCM 或 .mp3 中取樣速率至少為 16 khz-16 位，位元速率至少為 256 KBps 的 RIFF （.wav），分為 .ZIP 檔案 |
| 檔案名稱 | 支援 ASCII 和 Unicode 字元。 不允許重複名稱。 |
| 音訊長度 | 超過 20 秒 |
| 封存格式 | .zip |
| 封存大小上限 | 2048 MB |

所有音訊檔都應分組到 ZIP 檔案中。 把 .wav 檔和 .mp3 檔放入一個音訊 zip 中是可以的。 例如，您可以上傳一個 ZIP 檔案，其中包含名為"kingstory.wav"的音訊檔，45 秒長，另一個音訊名為"queenstory.mp3"，200 秒長。 處理後，所有 .mp3 檔將轉換為 .wav 格式。

### <a name="transcripts"></a>文字記錄

成績單必須根據本表所列的規格進行準備。 每個音訊檔必須與腳本匹配。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | 純文字 （.txt），分組到 .zip |
| 檔案名稱 | 使用與匹配音訊檔相同的名稱 |
| 編碼格式 | 僅限 UTF-8-BOM |
| 每一行的語句數目 | 沒有限制 |
| 檔案大小上限 | 2048 MB |

此資料類型中的所有指令檔都應分組到 ZIP 檔案中。 例如，您上傳了一個 ZIP 檔案，其中包含名為"kingstory.wav"的音訊檔，45 秒長，另一個名為"queenstory.mp3"，200 秒長。 您需要上傳另一個包含兩個腳本的 ZIP 檔案，一個名為"kingstory.txt"，另一個稱為"queenstory.txt"。 在每個純文字檔中，您將為匹配的音訊提供完整的正確轉錄。

成功上傳資料集後，我們將根據提供的腳本將音訊檔細分為陳述。 您可以通過下載資料集來檢查分段陳述和匹配的腳本。 唯一 ID 將自動分配給分段陳述。 請務必確保提供的成績單 100% 準確。 成績單中的錯誤會降低音訊分段過程中的精度，並進一步在以後的訓練階段引入品質損失。

## <a name="audio-only-beta"></a>僅限音訊（測試版）

如果您沒有錄音的轉錄，請使用 **"僅音訊"** 選項上傳資料。 我們的系統可以説明您分段和轉錄您的音訊檔。 請記住，此服務將計入語音到文本訂閱的使用。

準備音訊時，請遵循以下準則。

> [!NOTE]
> 長音訊分段服務將利用語音到文本的批次處理轉錄功能，該功能僅支援標準訂閱 （S0） 使用者。

| 屬性 | 值 |
| -------- | ----- |
| 檔案格式 | 在 PCM 或 .mp3 中取樣速率至少為 16 khz-16 位，位元速率至少為 256 KBps 的 RIFF （.wav），分為 .ZIP 檔案 |
| 檔案名稱 | 支援 ASCII 和 Unicode 字元。 不允許重複名稱。 |
| 音訊長度 | 超過 20 秒 |
| 封存格式 | .zip |
| 封存大小上限 | 2048 MB |

所有音訊檔都應分組到 ZIP 檔案中。 成功上傳資料集後，我們將根據語音批次處理轉錄服務，説明您將音訊檔細分為話語。 唯一 ID 將自動分配給分段陳述。 匹配的腳本將通過語音辨識生成。 處理後，所有 .mp3 檔將轉換為 .wav 格式。 您可以通過下載資料集來檢查分段陳述和匹配的腳本。

## <a name="next-steps"></a>後續步驟

- [建立自訂語音](how-to-custom-voice-create-voice.md)
- [指南：錄製語音樣本](record-custom-voice-samples.md)
