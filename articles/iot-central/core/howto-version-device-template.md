---
title: 了解 Azure IoT 中心應用程式的裝置範本版本設定 | Microsoft Docs
description: 藉由建立新版本來反覆使用裝置範本，而不會影響您的即時連線裝置
author: sarahhubbard
ms.author: sahubbar
ms.date: 12/09/2019
ms.topic: how-to
ms.service: iot-central
services: iot-central
manager: peterpr
ms.openlocfilehash: 37c7bc99881c8d1106c8464cfe18c9e63b8a1b02
ms.sourcegitcommit: 31e9f369e5ff4dd4dda6cf05edf71046b33164d3
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/22/2020
ms.locfileid: "81756731"
---
# <a name="create-a-new-device-template-version"></a>建立新的裝置範本版本

*本文適用於解決方案生成器和設備開發人員。*

Azure IoT Central 可讓您快速開發 IoT 應用程式。 您可以通過添加、編輯或刪除設備功能、檢視和自定義來快速反覆運算設備範本設計。 發佈設備範本後,設備功能模型將顯示為 **「發布」,** 模型旁邊帶有鎖圖示。 為了更改裝置功能模型,您需要創建設備範本的新版本。 同時,可以隨時編輯雲屬性、自定義項和視圖,而無需對設備範本進行版本控制。 保存這些更改後,可以發佈設備範本,使操作員可以在設備資源管理器中查看最新的更改。

> [!NOTE]
> 要瞭解有關如何建立裝置樣本的資訊,請[進行設定和管理設備範本](howto-set-up-template.md)

## <a name="add-customizations-to-the-device-template-without-versioning"></a>無需版本控制即可將自訂新增到設備範本

可以編輯設備功能的某些元素,而無需對設備範本和介面進行版本控制。 例如,其中一些欄位包括顯示名稱、語義類型、最小值、最大值、小數位數、顏色、單位、顯示單位、註釋和說明。 要添加以下自定義項之一,

1. 轉到 **「設備範本」** 頁。
1. 選擇要自定義的設備範本。
1. 選擇 **「自訂**」選項卡。
1. 此處將列出設備功能模型中定義的所有功能。 您可以在此處編輯的所有欄位都可以在整個應用程式中保存和使用,而無需對設備範本進行版本控制。 如果要編輯某些欄位是唯讀的,則需要對設備範本進行版本控制以更改這些欄位。 選擇要編輯的欄位,並在任何新值中輸入。
1. 按一下 [檔案]  。 現在,這些值將覆蓋最初保存在設備範本中並將在整個應用程式中使用的任何值。

## <a name="versioning-a-device-template"></a>裝置樣本進行版本控制

創建設備範本的新版本將創建範本的草稿版本,其中可以編輯設備功能模型。 任何已發佈的介面將保持發佈狀態,直到單獨版本控制為止。 要修改已發佈的介面,必須首先創建新的設備範本版本。

僅當嘗試編輯設備功能模型的一部分時,才應對設備範本進行版本控制,而該部分無法在設備範本的自定義部分中編輯。 

為了對裝置樣本進行版本控制:

1. 轉到 **「設備範本」** 頁。
1. 選擇要版本的設備範本。
1. 按一下頁面頂部的 **「版本」** 按鈕,為範本指定新名稱。 我們為您推薦了一個新名稱,可以進行編輯。
1. 按一下頁面底部的 [新增]  。
1. 現在,您的設備範本處於草稿模式。 您將看到介面仍然鎖定,必須單獨版本控制才能進行編輯。 

### <a name="versioning-an-interface"></a>版本化介面

通過版本控制介面,可以添加、更新和刪除已創建的介面內的功能。 

為了對介面進行版本:

1. 轉到 **「設備範本」** 頁。
1. 選擇草稿模式下的設備範本。
1. 選擇要版本和編輯的已發佈模式下的介面。
1. 按一下介面頁面頂部的 **「版本**」按鈕。 
1. 按一下頁面底部的 [新增]  。
1. 現在,您的介面處於草稿模式。 您將能夠在不中斷現有自定義和檢視的情況下向介面添加或編輯功能。 

> [!NOTE]
> 無法對 Azure IoT 發佈的標準介面進行版本控制或編輯。 這些標準介面用於設備認證。

> [!NOTE]
> 一旦介面發佈,您也不能刪除其任何功能,即使在草稿模式下也是如此。 只能在草稿模式下編輯功能或添加到介面。


## <a name="migrate-a-device-across-device-template-versions"></a>跨裝置範本版本移轉裝置

您可以建立多個版本的裝置範本。 經過一段時間，您會有使用這些裝置範本的多個連線裝置。 您可以將裝置從一個版本的裝置範本移轉至另一個版本。 下列步驟說明如何移轉裝置：

1. 跳到 **「裝置資源管理員」** 頁面。
1. 選取您需要移轉到另一個版本的裝置。
1. 選擇 **「遷移**」。
1. 選擇具有要將設備遷移到的版本號的設備範本,然後選擇 **『遷移**』。

![如何移轉裝置](media/howto-version-device-template/pick-version.png)

## <a name="next-steps"></a>後續步驟

如果您是裝置開發人員,建議的下一步是閱讀有關[Azure IoT 邊緣裝置和 Azure IoT 中心](./concepts-iot-edge.md)。
