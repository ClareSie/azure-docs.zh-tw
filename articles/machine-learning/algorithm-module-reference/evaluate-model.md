---
title: 評估模型：模組參考
titleSuffix: Azure Machine Learning
description: 了解如何使用 Azure Machine Learning 中的「評估模型」模組來測量已定型模型的精確度。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 07/27/2020
ms.openlocfilehash: 6dfee84c44643823a4ec76c32e750febc6646be5
ms.sourcegitcommit: 829d951d5c90442a38012daaf77e86046018e5b9
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/09/2020
ms.locfileid: "90908049"
---
# <a name="evaluate-model-module"></a>評估模型模組

本文描述 Azure Machine Learning 設計工具中的模組。

使用此模組可測量已定型模型的精確度。 您提供含有模型所產生分數的資料集，**評估模型**模組就會計算出一組業界標準的評估計量。
  
 **評估模型**所傳回的計量取決於所評估模型的類型：  
  
-   **分類模型**    
-   **迴歸模型**  
-   **群集模型**  


> [!TIP]
> 如果您是模型評估新手，建議您使用 Stephen Elston 博士的影片系列，這是 EdX 的[機器學習課程](https://blogs.technet.microsoft.com/machinelearning/2015/09/08/new-edx-course-data-science-machine-learning-essentials/)一部分。 


## <a name="how-to-use-evaluate-model"></a>如何使用評估模型
1. 將[評估模型](./score-model.md)的**已評分資料集**輸出或[將資料指派給叢集](./assign-data-to-clusters.md)的結果資料集輸出連結到**評估模型**的左側輸入連接埠。 
    > [!NOTE] 
    > 如果使用「選取資料集中的資料行」之類的模組來選取輸入資料集的一部分，請確定「實際標籤」資料行 (用於定型中)、「評分機率」資料行和「評分標籤」資料行存在，而能夠計算「AUC」、「二元分類/異常偵測精確度」之類的計量。
    > 「實際標籤」資料行、「評分標籤」資料行的存在，是為了計算多類別分類/迴歸的計量。
    > 「指派」資料行、資料行「DistancesToClusterCenter no.X」(X 是距心指標，範圍從 0, ..., 距心-1 的數字) 的存在，則是為了計算群集的計量。

2. (選擇性) 將[評估模型](./score-model.md)的**已評分資料集**輸出或第二個模型的「將資料指派給叢集」結果資料集輸出連結到**評估模型**的**右側**輸入連接埠。 您可以輕鬆地比較兩個不同模型在相同資料上的結果。 這兩個輸入演算法應該是相同的演算法類型。 或者，您可以比較兩個不同的回合使用相同資料、不同參數的分數。

    > [!NOTE]
    > 演算法類型指的是「Machine Learning 演算法」下的「雙類別分類」、「多類別分類」、「迴歸」、「群集」。 

3. 提交管線以產生評估分數。

## <a name="results"></a>結果

在執行**評估模型**後，請選取模組以開啟右側的 [評估模型] 瀏覽面板。  然後，選擇 [輸出 + 記錄] 索引標籤，然後在該索引標籤上的 [資料輸出] 區段中會有數個圖示。 [視覺化] 圖示具有長條圖圖示，而且是查看結果的第一種方式。

針對二進位分類，在按一下 [ **視覺化** ] 圖示之後，您可以將二進位混淆矩陣視覺化。
針對多重分類，您可以在 [ **輸出 + 記錄** ] 索引標籤下找到混淆矩陣繪圖檔案，如下所示：
> [!div class="mx-imgBorder"]
> ![已上傳影像的預覽](media/module/multi-class-confusion-matrix.png)

如果您將資料集連結到**評估模型**的兩個輸入，則結果會包含這兩組資料或這兩個模型的計量。
連結至左側連接埠的模型或資料會先顯示在報告中，後面接著資料集的計量，或是連結到右側連接埠的模型。  

例如，下圖表示兩個建置在相同資料上，但具有不同參數的群集模型所生結果的比較。  

![Comparing2Models](media/module/evaluate-2-models.png)  

因為這是群集模型，所以評估結果會與比較兩個迴歸模型分數或比較兩個分類模型的結果不同。 不過，整體呈現是相同的。 

## <a name="metrics"></a>計量

本節說明針對支援用於**評估模型**的特定模型類型所傳回的計量：

+ [分類模型](#metrics-for-classification-models)
+ [迴歸模型](#metrics-for-regression-models)
+ [群集模型](#metrics-for-clustering-models)

### <a name="metrics-for-classification-models"></a>分類模型的計量


評估二元分類模型時，會報告下列計量。
  
-   **正確性**會測量分類模型的健全情況，表現方式為 True 結果對整體案例的比例。  
  
-   **精確度**是 True 結果對所有正面結果的比例。 Precision = TP/ (TP + FP)   
  
-   **回想** 是實際取出的相關實例總數的分數。 召回 = TP/ (TP + FN)   
  
-   **F1 分數** 會計算為精確度的加權平均值，以及介於0和1之間的召回率，其中理想的 F1 分數值為1。  
  
-   **AUC** 會測量透過 y 軸上的正判和 x 軸上的誤判繪製出的曲線下的區域。 此計量十分有用，因為其會提供單一數字來讓您比較不同類型的模型。  


### <a name="metrics-for-regression-models"></a>迴歸模型的計量
 
針對迴歸模型傳回的計量是設計來估計錯誤量的。  如果觀測值和預測值之間的差異很小，便會將模型視為與資料的配適程度高。 不過，查看殘差 (任何一個預測點和其對應的實際值之間的差值) 的模式可讓您知道許多有關模型中潛在偏差的資訊。  
  
 系統會報告下列計量以供評估迴歸模型。
  
- **平均絕對誤差 (MAE)** 會測量預測與實際結果的接近程度；因此，分數越低越好。  
  
- **均方根誤差 (RMSE)** 會建立單一值來彙總模型中的錯誤。 藉由將差值平方，此計量可忽略預測過頭和預測不足之間的差異。  
  
- **相對絕對誤差 (RAE)** 是預期值與實際值之間的相對絕對差值；相對是因為會將平均值差除以算術平均值。  
  
- **相對平方誤差 (RSE)** 同樣會將預測值的總平方誤差除以實際值的總平方誤差來將預測值的總平方誤差正規化。  
  

  
- **決定係數**通常稱為 R<sup>2</sup>，可用 0 與 1 之間的值來表示模型的預測能力。 0 表示模型是隨機的 (無法說明任何事)；1 表示有完美的配適。 不過，請小心解讀 R<sup>2</sup> 值，因為較低的值可能是完全正常，較高的值則很可疑。

###  <a name="metrics-for-clustering-models"></a>群集模型的計量

因為群集模型在許多方面與分類模型和迴歸模型的差異很大，所以[評估模型](evaluate-model.md)也會針對群集模型傳回一組不同的統計資料。  
  
 針對群集模型傳回的統計資料會描述指派給每個叢集的資料點數目、叢集之間的分隔量，以及每個叢集內資料點的緊密程度。  
  
 群集模型的統計資料會取整個資料集的平均值，並會有額外的資料列包含每一叢集的統計資料。  
  
系統會報告下列計量以供評估群集模型。
    
-   **與其他中心的平均距離**資料行中的分數，表示叢集中的每個點與所有其他叢集的距心接近程度平均值。   

-   **與叢集中心的平均距離**資料行中的分數，表示叢集中的每個點到該叢集距心的接近程度。  
  
-   **點數**資料行會顯示指派給每個叢集的資料點數量，以及任何叢集中的資料點整體總數。  
  
     如果指派給叢集的資料點數目小於可用的資料點總數，則表示無法將資料點指派給叢集。  
  
-   資料行中的分數與叢集中心的最大 **距離**，代表每個點與該點叢集距心之間的最大距離。  
  
     如果這個值很高，就可能表示叢集分散很廣。 您應該將此統計資料與**叢集中心的平均距離**放在一起檢閱，以判斷叢集的散佈。   

-   結果的每個區段底部有**合併評估**分數，其會列出該特定模型中所建立叢集的平均分數。  
  

## <a name="next-steps"></a>後續步驟

請參閱 Azure Machine Learning 的[可用模組集](module-reference.md)。 
