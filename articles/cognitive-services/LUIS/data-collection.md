---
title: 資料收集
description: 瞭解開發應用程式時要收集的範例資料
ms.topic: conceptual
ms.date: 05/06/2020
ms.openlocfilehash: 7abb3736eb9d7c73465ffa646b79e8e7dd7ae88b
ms.sourcegitcommit: bb0afd0df5563cc53f76a642fd8fc709e366568b
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 05/19/2020
ms.locfileid: "83599585"
---
# <a name="data-collection-for-your-app"></a>您應用程式的資料收集

Language Understanding （LUIS）應用程式需要資料做為應用程式開發的一部分。

## <a name="data-used-in-luis"></a>LUIS 中使用的資料

LUIS 會使用文字作為資料來定型和測試 LUIS 應用程式，以進行[意圖](luis-concept-intent.md)的分類和提取[實體](luis-concept-entity-types.md)。 您需要夠大的資料集，而且您有足夠的資料來為定型和測試建立個別的資料集，而這兩者的多樣性和散發特別如下所示。  這些集合中的資料不應該重迭。

## <a name="training-data-selection-for-example-utterances"></a>定型資料選取專案（例如語句）

根據下列準則，選取定型集的 [語句]：

* **實際資料是最佳的**：
    * **來自用戶端應用程式的實際資料**：選取語句，這是來自用戶端應用程式的實際資料。  如果客戶今天就傳送 web 表單，而且您正在建立 bot，您就可以使用 web 表單資料來開始。
    * **面向來源的資料**：如果您沒有任何現有的資料，請考慮使用語句。  嘗試從您實際的使用者人數進行大規模的來源語句，以取得您的應用程式將會看到的實際資料的最佳近似值。 面向的人語句比電腦產生的語句來得好。  當您建立以特定模式產生之綜合語句的資料集時，您將會看到與建立語句的人一樣多的自然變化，而不會在生產環境中妥善進行一般化。
* **資料多樣性**：
    * **區域多樣性**：請確定每個意圖的資料都盡可能多樣化 _，包括片語_（word 選擇）和_文法_。  如果您想要瞭解有關假期日期的 HR 原則，請確定您有語句，代表您所提供的所有區域所使用的詞彙。  例如，在歐洲人員可能會詢問 `taking a holiday` 和美國人員可能會詢問的相關資訊 `taking vacation days` 。
    * **語言多樣性**：如果您的使用者有各種以第二種語言通訊的原生語言，請務必讓語句代表非原生喇叭。
    * **輸入多樣性**：請考慮您的資料輸入路徑。 如果您要從一個人、部門或輸入裝置（麥克風）收集資料，您的應用程式可能會遺失多樣性，以瞭解所有輸入路徑。
    * **標點符號多樣性**：請考慮人們在文字應用程式中使用不同的標點符號層級，並確定您有使用標點符號的多樣性。 如果您使用來自語音的資料，它不會有任何標點符號，因此您的資料不應該是。
* **資料散發**：確定跨意圖散佈的資料，代表您的用戶端應用程式所接收的相同資料散佈。 如果您的 LUIS 應用程式會將要求排程的語句分類（50%），但也會看到關於詢問保留天數（20%）的語句，核准離職（20%）還有一些超出範圍和閒聊的交談（10%）然後，您的資料集應該會有每個語句類型的樣本百分比。
* **使用所有資料表單**：如果您的 LUIS 應用程式將採用多個表單中的資料，請務必將這些表單包含在定型語句中。 例如，如果您的用戶端應用程式同時接受語音和輸入的文字輸入，您就必須擁有語音轉換文字的語句以及具類型的語句。  您會看到人們如何從使用者的輸入，以及語音辨識和錯誤的不同錯誤，來說話不同的變化。  所有此變化都應該在定型資料中表示。
* **正面和負面範例**：若要教授 LUIS 應用程式，它必須瞭解意圖是什麼（正面）及其不是（負值）。 在 LUIS 中，單一意圖的語句只能是正數。 將語句新增至意圖時，LUIS 會自動使相同的範例語句所有其他意圖的負範例。
* **應用程式範圍以外的資料**：如果您的應用程式會看到超出您所定義之意圖的語句，請務必提供這些。 未指派給特定定義意圖的範例將會標示為 [**無**] 意圖。  請務必擁有「**無**」意圖的實際範例，以適當預測超出所定義意圖範圍的語句。

    例如，如果您要建立專注于離開時間的 HR bot，而且有三個意圖：
    * 排程或編輯休假
    * 查詢可用的休假天數
    * 核准/disapprove 離開

    您想要確定您有涵蓋這兩個意圖的語句，同時也涵蓋了該範圍外的潛在語句，應用程式應如下所示：
    * `What are my medical benefits?`
    * `Who is my HR rep?`
    * `tell me a joke`
* **罕見範例**：您的應用程式必須有很少的範例以及常見的範例。  如果您的應用程式從未見過罕見的範例，就無法在生產環境中識別它們。 如果您使用的是實際資料，您將能夠更精確地預測 LUIS 應用程式在生產環境中的運作方式。

### <a name="quality-instead-of-quantity"></a>品質，而不是數量

加入更多資料之前，請先考慮現有資料的品質。  使用 LUIS 時，您會使用機器教學。  您的標籤和您定義的機器學習功能的組合，就是您的 LUIS 應用程式所使用的。  它不只會依賴標籤數量來做出最佳預測。  您的 LUIS 應用程式在生產環境中會看到的範例多樣性和其呈現方式是最重要的部分。

### <a name="preprocessing-data"></a>前置處理資料

下列前置處理步驟將有助於建立更好的 LUIS 應用程式：

* **移除重複專案**：重複的語句不會造成損害，但它們不會有任何説明，因此將其移除將會節省標記時間。
* 套用**相同的客戶**端應用程式前置處理：如果您的用戶端應用程式會呼叫 LUIS 預測端點，在將文字傳送至 LUIS 之前，會在執行時間套用資料處理，您應該在以相同方式處理的資料上定型 LUIS 應用程式。 例如，如果您的用戶端應用程式使用[Bing 拼寫檢查](../bing-spell-check/overview.md)來更正 LUIS 輸入的拼寫，請在新增至 LUIS 之前更正定型和測試語句。
* **不套用用戶端應用程式不會使用的新清除程式**：如果您的用戶端應用程式直接接受語音產生的文字，而沒有任何清除（例如文法或標點符號），則您的語句必須反映相同的內容，包括任何遺漏的標點符號，以及您需要考慮的任何其他 misrecognition。
* **不要清除資料**：不會去除格式不正確的輸入，您可能會從混亂的語音辨識、意外 keypresses 或拼錯的文字中取得。 如果您的應用程式會看到像這樣的輸入，請務必在其上進行定型和測試。 如果您不想要讓應用程式瞭解，請新增_格式不正確的輸入_意圖。 為此資料加上標籤，以協助您的 LUIS 應用程式在執行時間預測正確的回應。 您的用戶端應用程式可以選擇適當的回應來進行無法辨識的語句，例如 `Please try again` 。

### <a name="labeling-data"></a>標記資料

* 將**文字標示為正確**：範例語句應具有標示為實體的所有表單。 這包括拼錯、輸入錯誤和 mistranslated 的文字。

### <a name="data-review-after-luis-app-is-in-production"></a>LUIS 應用程式進入生產階段後的資料審查

在您將應用程式部署至生產環境之後，請[參閱端點語句](luis-concept-review-endpoint-utterances.md)來監視實際的語句流量。  這可讓您使用實際資料來更新訓練語句，這將可改善您的應用程式。 任何以面向來源或非真實案例資料為基礎的應用程式，都必須根據其實際用途進行改善。

## <a name="test-data-selection-for-batch-testing"></a>測試資料選取以進行批次測試

以上針對訓練語句所列的所有準則，適用于您應該用於[測試集](luis-concept-batch-test.md)的語句。 請確定跨意圖和實體的分佈會盡可能地反映實際分佈。

請勿從測試集中的定型集重複使用語句。 這不會對您的結果產生正確的偏差，也不會讓您正確指出 LUIS 應用程式在生產環境中的執行方式。

發行應用程式的第一個版本之後，您應該以實際流量的語句更新測試集，以確保您的測試集反映生產散發，而且您可以監視一段時間的實際效能。

## <a name="next-steps"></a>後續步驟

> [!div class="nextstepaction"]
> [瞭解 LUIS 如何在預測之前改變您的資料](luis-concept-data-alteration.md)
