---
title: 正常化資料：模組參考
titleSuffix: Azure Machine Learning
description: 瞭解如何在 Azure 機器學習中使用正常化資料模組通過*正常化*轉換資料集。
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: reference
author: likebupt
ms.author: keli19
ms.date: 02/22/2020
ms.openlocfilehash: a740c81aa165e221bca19987c7b3c62da56b0402
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/28/2020
ms.locfileid: "79477522"
---
# <a name="normalize-data-module"></a>正常化資料模組

本文介紹 Azure 機器學習設計器（預覽）中的模組。

使用此模組通過*正常化*轉換資料集。

正常化是一種通常作為機器學習資料準備一部分應用的技術。 正常化的目標是更改資料集中的數位列的值以使用公共比例，而不會扭曲值範圍的差異或丟失資訊。 某些演算法也需要正常化才能正確建模資料。

例如，假設輸入資料集包含一個值為 0 到 1 的列，另一個列的值範圍為 10，000 到 100，000。 當您嘗試在建模過程中將值合併為要素時，數位*比例*的巨大差異可能會導致問題。

*正常化*通過創建新值來保持來源資料中的一般分佈和比率，同時將值保持在應用於模型中使用的所有數位列的比例內，從而避免這些問題。

此模組提供了幾種用於轉換數位資料的選項：

- 您可以將所有值更改為 0-1 比例，或者通過將值表示為百分位數排名而不是絕對值來轉換這些值。
- 您可以將正規化套用至單一資料行，或相同資料集中的多個資料行。
- 如果需要重複管道或對其他資料應用相同的正常化步驟，可以將這些步驟另存為正常化轉換，並將其應用於具有相同架構的其他資料集。

> [!WARNING]
> 有些演算法會要求在定型模型之前必須先將資料正規化。 其他演算法則會執行其本身的資料調整或正規化。 因此，當您選擇用於構建預測模型的機器學習演算法時，請確保在將正常化應用於訓練資料之前查看演算法的資料要求。

##  <a name="configure-normalize-data"></a>配置正常化資料

使用此模組，一次只能應用一個正常化方法。 因此，相同的正常化方法將應用於您選擇的所有列。 要使用不同的正常化方法，請使用**正常化資料**的第二個實例。

1. 將 **"正常化資料**"模組添加到管道中。 您可以在"**縮放和減少"** 類別中的"Azure 機器學習"下"**資料轉換**"中找到模組。

2. 連接至少包含所有數位一列的資料集。

3. 使用"欄選取器"選擇要正常化的數位列。 如果不選擇單個列 **，預設情況下，** 輸入中的所有數位類型列都包括在內，並且相同的正常化過程將應用於所有選定的列。 

    如果包含不應正常化的數位列，則可能導致奇怪的結果！ 始終仔細檢查列。

    如果未檢測到數位列，請檢查列中繼資料以驗證列的資料類型是否受支援的數位類型。

    > [!TIP]
    > 為確保特定類型的列作為輸入提供，請在**正常化資料**之前嘗試使用[資料集模組中的"選擇列](./select-columns-in-dataset.md)"。

4. **選中時對常量列使用 0：** 當任何數位列包含單個不變值時，請選擇此選項。 這可確保在正常化操作中不使用此類列。

5. 從 **"轉換方法**"下拉清單中，選擇單個數學函數以應用於所有選定的列。 
  
    - **Zscore**： 將所有值轉換為 z 得分。
    
      資料行中的值會使用下列公式進行轉換：  
  
      ![使用 z&#45;分數進行正常化](media/module/aml-normalization-z-score.png)
  
      平均值和標準差會針對每個資料行而分開計算。 使用母體擴展標準差。
  
    - **MinMax**： 最小最大值正常化器線性地將每個要素重新縮放到 [0，1] 間隔。
    
      轉換每個特徵的值而使最小值為 0，然後再除以新的最大值 (這是原始最大值與最小值之間的差異)，重新調整為 [0,1] 間隔的作業即完成。
      
      資料行中的值會使用下列公式進行轉換：  
  
      ![使用最小值&#45;最大值函數實現正常化](media/module/aml-normalization-minmax.png "AML_normalization-最小最大值")  
  
    - **物流**：使用以下公式轉換列中的值：

      ![依羅吉斯函數的正規化公式](media/module/aml-normalization-logistic.png "AML_normalization物流")  
  
    - **日誌法線**：此選項將所有值轉換為正態比例。
  
      資料行中的值會使用下列公式進行轉換：
  
      ![公式日誌&#45;正態分佈](media/module/aml-normalization-lognormal.png "AML_normalization-記錄法線")
    
      此處 * 和 * 是分佈的參數，從資料中作為最大可能性估計值計算，分別針對每列。  
  
    - **TanH**：所有值都轉換為雙曲切線。
    
      資料行中的值會使用下列公式進行轉換：
    
      ![使用 tanh 函數正規化](media/module/aml-normalization-tanh.png "AML_normalization-坦赫")

6. 提交管道，或按兩下 **"正常化資料**"模組並選擇"**運行選定**"。 

## <a name="results"></a>結果

**正常化資料**模組生成兩個輸出：

- 要查看轉換後的值，請按右鍵模組，然後選擇 **"視覺化**"。

    預設情況下，值將就地轉換。 如果要將轉換的值與原始值進行比較，請使用["添加列"](./add-columns.md)模組重新組合資料集並並排查看列。

- 要保存轉換，以便可以將相同的正常化方法應用於其他資料集，請選擇模組，並在右側面板中的 **"輸出"** 選項卡下選擇 **"註冊"資料集**。

    然後，可以從左側功能窗格的 **"轉換"** 組載入保存的轉換，並使用[應用轉換](apply-transformation.md)將其應用於具有相同架構的資料集。  


## <a name="next-steps"></a>後續步驟

請參閱 Azure 機器學習[可用的模組集](module-reference.md)。 