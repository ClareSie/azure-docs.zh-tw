---
title: Azure HDInsight 的封存版本資訊
description: Azure HDInsight 的存檔版本資訊。 取得 Hadoop、Spark、R Server、Hive 等的開發秘訣和詳細資料。
author: hrasheed-msft
ms.author: hrasheed
ms.reviewer: jasonh
ms.service: hdinsight
ms.topic: conceptual
ms.custom: hdinsightactive
ms.date: 01/08/2019
ms.openlocfilehash: 094d9fe7425a6192ce2af94c3ea18cac20ff9ded
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 03/27/2020
ms.locfileid: "76720328"
---
# <a name="archived-release-notes"></a>封存的版本資訊

> [!IMPORTANT]  
> Linux 是唯一使用於 HDInsight 3.4 版或更新版本的作業系統。 如需詳細資訊，請參閱 [HDInsight 版本控制文件](hdinsight-component-versioning.md)。

## <a name="summary"></a>總結

Azure HDInsight 是最受企業客戶歡迎的其中一項服務，可供 Azure 上的開放原始碼 Apache Hadoop 與 Apache Spark 分析使用。

## <a name="release-date-12172019"></a>發佈日期： 12/17/2019

此版本適用于 HDInsight 3.6 和 4.0。

### <a name="new-features"></a>新功能

#### <a name="service-tags"></a>服務標籤
服務標記使您能夠輕鬆限制對 Azure 服務的網路訪問，從而簡化 Azure 虛擬機器和 Azure 虛擬網路的安全性。 可以在網路安全性群組 （NSG） 規則中使用服務標記，以允許或拒絕全域或每個 Azure 區域的特定 Azure 服務的流量。 Azure 提供每個標記基礎的 IP 位址的維護。 用於網路安全性群組 （NSG） 的 HDInsight 服務標記是運行狀況和管理服務的 IP 位址組。 這些組有助於將安全規則創建的複雜性降至最低。 HDInsight 客戶可以通過 Azure 門戶、PowerShell 和 REST API啟用服務標記。 有關詳細資訊，請參閱[Azure HDInsight 的網路安全性群組 （NSG） 服務標記](https://docs.microsoft.com/azure/hdinsight/hdinsight-service-tags)。

#### <a name="custom-ambari-db"></a>自訂 Ambari DB
HDInsight 現在允許您使用自己的 SQL DB 進行 Apache Ambari。 可以從 Azure 門戶或通過資源管理器範本配置此自訂 Ambari DB。  此功能允許您選擇適合處理和容量需求的 SQL DB。 您還可以輕鬆升級，以滿足業務增長要求。 有關詳細資訊，請參閱[使用自訂 Ambari DB 設置 HDInsight 群集](hdinsight-custom-ambari-db.md)。

![自訂 Ambari DB](./media/hdinsight-release-notes/custom-ambari-db.png)

### <a name="deprecation"></a>淘汰
此版本沒有棄用。 要為即將發生的棄用做好準備，請參閱[即將進行的更改](#upcoming-changes)。

### <a name="behavior-changes"></a>行為變更
此版本的行為未更改。 要為即將到來的行為更改做好準備，請參閱[即將發生的更改](#upcoming-changes)。

### <a name="upcoming-changes"></a>即將推出的變更
在即將發佈的版本中，將發生以下更改。 

#### <a name="transport-layer-security-tls-12-enforcement"></a>傳輸層安全 （TLS） 1.2 強制
傳輸層安全性 (TLS) 和安全通訊端層 (SSL) 是密碼編譯通訊協定，可透過電腦網路提供通訊安全性。 有關詳細資訊，請參閱[傳輸層安全](https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0.2C_2.0_and_3.0)。 雖然 Azure HDInsight 群集在公共 HTTPS 終結點上接受 TLS 1.2 連接，但 TLS 1.1 仍支援與舊用戶端向後相容。

從下一個版本開始，您將能夠加入宣告和配置新的 HDInsight 群集，使其僅接受 TLS 1.2 連接。 

今年晚些時候，從 2020 年 6 月 30 日開始，Azure HDInsight 將對所有 HTTPS 連接強制實施 TLS 1.2 或更高版本。 我們建議您確保所有用戶端都準備好處理 TLS 1.2 或更高版本。

#### <a name="moving-to-azure-virtual-machine-scale-sets"></a>移動到 Azure 虛擬機器縮放集
HDInsight 現在使用 Azure 虛擬機器來預配群集。 從 2020 年 2 月開始（稍後將傳達確切的日期），HDInsight 將改用 Azure 虛擬機器縮放集。 查看有關[Azure 虛擬機器縮放集的更多](https://docs.microsoft.com/azure/virtual-machine-scale-sets/overview)。

#### <a name="esp-spark-cluster-node-size-change"></a>ESP 火花叢集節點大小更改 
在即將發佈的版本中：
- ESP Spark 群集允許的最小節點大小將更改為Standard_D13_V2。 
- A 系列 VM 將被棄用以創建新的 ESP 群集，因為 A 系列 VM 可能會導致 ESP 群集問題，因為 CPU 和記憶體容量相對較低。

#### <a name="hbase-20-to-21"></a>HBase 2.0 到 2.1
在即將推出的 HDInsight 4.0 版本中，HBase 版本將從版本 2.0 升級到 2.1。

### <a name="bug-fixes"></a>錯誤修正
HDInsight 不斷改進群集可靠性和性能。 

### <a name="component-version-change"></a>元件版本更改
我們將 HDInsight 3.6 支援擴展到 2020 年 12 月 31 日。 您可以在[支援的 HDInsight 版本中](hdinsight-component-versioning.md#supported-hdinsight-versions)找到更多詳細資訊。

HDInsight 4.0 的元件版本未更改。

阿帕奇澤佩林在HDInsight 3.6： 0.7.0->0.7.3。 

你可以[從這個文檔](https://docs.microsoft.com/azure/hdinsight/hdinsight-component-versioning#apache-hadoop-components-available-with-different-hdinsight-versions)找到最新的元件版本。

### <a name="new-regions"></a>新區域

#### <a name="uae-north"></a>阿拉伯聯合大公國北部
阿聯酋北部的管理 IP 是：`65.52.252.96`和`65.52.252.97`。


## <a name="release-date-11072019"></a>發佈日期： 11/07/2019

此版本適用于 HDInsight 3.6 和 4.0。

### <a name="new-features"></a>新功能

#### <a name="hdinsight-identity-broker-hib-preview"></a>HDInsight 身份代理 （HIB） （預覽）

HDInsight 標識代理 （HIB） 使使用者能夠使用多重要素驗證 （MFA） 登錄到 Apache Ambari，並獲取所需的 Kerberos 票證，而無需在 Azure 活動目錄域服務 （AAD-DS） 中進行密碼雜湊。 目前，HIB 僅適用于通過 Azure 資源管理 （ARM） 範本部署的群集。

#### <a name="kafka-rest-api-proxy-preview"></a>卡夫卡休息 API 代理（預覽版）

Kafka Rest API 代理通過安全的 AAD 授權和 OAuth 協定，通過卡夫卡群集提供高可用 REST 代理的一鍵式部署。 

#### <a name="auto-scale"></a>自動調整

Azure HDInsight 的自動縮放現在通常可用於 Apache Spark 和 Hadoop 群集類型的所有區域。 此功能使得以更具成本效益和高效的方式管理大資料分析工作負載成為可能。 現在，您可以優化 HDInsight 群集的使用，並僅根據所需費用付費。

根據您的要求，您可以選擇基於負載的自動縮放和基於計畫的自動縮放。 基於負載的自動縮放可以根據當前資源需求向上和向下縮放群集大小，而基於計畫的自動縮放可以根據預定義的計畫更改群集大小。 

對 HBase 和 LLAP 工作負載的自動縮放支援也是公共預覽。 有關詳細資訊，請參閱[自動縮放 Azure HDInsight 群集](https://docs.microsoft.com/azure/hdinsight/hdinsight-autoscale-clusters)。

#### <a name="hdinsight-accelerated-writes-for-apache-hbase"></a>HDInsight 加速寫入阿帕奇 HBase 

加速寫入會使用 Azure 高階 SSD 受控磁碟來改善 Apache HBase 預寫記錄檔 (WAL) 的效能。 如需詳細資訊，請參閱[適用於 Apache HBase 的 Azure HDInsight 加速寫入](https://docs.microsoft.com/azure/hdinsight/hbase/apache-hbase-accelerated-writes)。

#### <a name="custom-ambari-db"></a>自訂 Ambari DB

HDInsight 現在提供了新的容量，使客戶能夠使用自己的 SQL DB 進行 Ambari。 現在，客戶可以為 Ambari 選擇正確的 SQL DB，並根據其自身的業務增長要求輕鬆升級它。 部署使用 Azure 資源管理器範本完成。 有關詳細資訊，請參閱[使用自訂 Ambari DB 設置 HDInsight 群集](https://docs.microsoft.com/azure/hdinsight/hdinsight-custom-ambari-db)。

#### <a name="f-series-virtual-machines-are-now-available-with-hdinsight"></a>F 系列虛擬機器現已隨 HDInsight 提供

F 系列虛擬機器 （VM） 是使用 HDInsight 與光處理要求開始的理想選擇。 F 系列的每小時訂價較低，在 Azure 產品組合中，就每一 vCPU 的「Azure 計算單位」(ACU) 而言，具有最佳的價格/性能比表現。 有關詳細資訊，請參閱為[Azure HDInsight 群集選擇正確的 VM 大小](https://docs.microsoft.com/azure/hdinsight/hdinsight-selecting-vm-size)。

### <a name="deprecation"></a>淘汰

#### <a name="g-series-virtual-machine-deprecation"></a>G 系列虛擬機器棄用
在此版本中，HDInsight 將不再提供 G 系列 VM。

#### <a name="dv1-virtual-machine-deprecation"></a>Dv1 虛擬機器棄用
在此版本中，使用具有 HDInsight 的 Dv1 VM 將被棄用。 任何客戶對 Dv1 的請求將自動隨 Dv2 一起提供。 Dv1 和 Dv2 VM 之間沒有價格差異。

### <a name="behavior-changes"></a>行為變更

#### <a name="cluster-managed-disk-size-change"></a>群集託管磁片大小更改
HDInsight 為群集提供託管磁碟空間。 在此版本中，新創建的群集中每個節點的託管磁片大小將更改為 128 GB。

### <a name="upcoming-changes"></a>即將推出的變更
即將發佈的版本將發生以下更改。 

#### <a name="moving-to-azure-virtual-machine-scale-sets"></a>移動到 Azure 虛擬機器縮放集
HDInsight 現在使用 Azure 虛擬機器來預配群集。 從 12 月開始，HDInsight 將改用 Azure 虛擬機器縮放集。 查看有關[Azure 虛擬機器縮放集的更多](https://docs.microsoft.com/azure/virtual-machine-scale-sets/overview)。

#### <a name="hbase-20-to-21"></a>HBase 2.0 到 2.1
在即將推出的 HDInsight 4.0 版本中，HBase 版本將從版本 2.0 升級到 2.1。

#### <a name="a-series-virtual-machine-deprecation-for-esp-cluster"></a>ESP 群集的 A 系列虛擬機器棄用
由於 CPU 和記憶體容量相對較低，A 系列 VM 可能會導致 ESP 群集問題。 在即將發佈的版本中，A 系列 VM 將被棄用以創建新的 ESP 群集。

### <a name="bug-fixes"></a>錯誤修正
HDInsight 不斷改進群集可靠性和性能。 

### <a name="component-version-change"></a>元件版本更改
此版本沒有元件版本更改。 你可以[在這裡](https://docs.microsoft.com/azure/hdinsight/hdinsight-component-versioning)找到HDInsight 4.0和HDInsight3.6的當前元件版本。


## <a name="release-date-08072019"></a>發佈日期： 08/07/2019

### <a name="component-versions"></a>元件版本

下面給出了所有 HDInsight 4.0 元件的官方 Apache 版本。 列出的元件是最新穩定版本的版本。

- 阿帕奇·安巴里 2.7.1
- 阿帕奇哈多普 3.1.1
- 阿帕奇 HBase 2.0.0
- 阿帕奇蜂巢 3.1.0
- 阿帕奇卡夫卡 1.1.1， 2.1.0
- Apache Mahout 0.9.0+
- Apache Oozie 4.2.0
- Apache Phoenix 4.7.0
- Apache Pig 0.16.0
- Apache Ranger 0.7.0
- Apache Slider 0.92.0
- 阿帕奇火花 2.3.1， 2.4.0
- 阿帕奇普 1.4.7
- 阿帕奇 TEZ 0.9.1
- 阿帕奇·澤佩林 0.8.0
- Apache ZooKeeper 3.4.6

除了上面列出的版本外，Apache 元件的更高版本有時捆綁在 HDP 發行版本中。 在這種情況下，這些更高版本列在"技術預覽"表中，不應替代生產環境中上述清單的 Apache 元件版本。

### <a name="apache-patch-information"></a>Apache 修補程式資訊

有關 HDInsight 4.0 中提供的修補程式的詳細資訊，請參閱下表中每個產品的修補程式清單。

| 產品名稱 | 修補程式資訊 |
|---|---|
| Ambari | [安巴里補丁資訊](https://docs.hortonworks.com/HDPDocuments/Ambari-2.7.1.0/bk_ambari-release-notes/content/ambari_relnotes-2.7.1.0-patch-information.html) |
| Hadoop | [Hadoop 補丁資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_hadoop.html) |
| hbase | [HBase 修補程式資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_hbase.html) |
| Hive  | 此版本為 Hive 3.1.0 提供了沒有其他 Apache 修補程式。  |
| Kafka | 此版本為 Kafka 1.1.1 提供了沒有其他 Apache 修補程式。 |
| Oozie | [Oozie 補丁資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_oozie.html) |
| Phoenix | [鳳凰補丁資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_phoenix.html) |
| Pig | [豬補丁資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_pig.html) |
| Ranger | [遊俠修補程式資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_ranger.html) |
| Spark | [火花補丁資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_spark.html) |
| Sqoop | 此版本提供 Sqoop 1.4.7，無需其他 Apache 修補程式。 |
| Tez | 此版本為 Tez 0.9.1 提供了沒有其他 Apache 修補程式。 |
| Zeppelin | 此版本為 Zeppelin 0.8.0 提供了沒有其他 Apache 修補程式。 |
| Zookeeper | [動物園管理員補丁資訊](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/patch_zookeeper.html) |

### <a name="fixed-common-vulnerabilities-and-exposures"></a>修正常見弱點與漏洞

有關此版本中解決的安全問題的詳細資訊，請參閱 Hortonworks 的[HDP 3.0.1 的"修復常見漏洞和暴露](https://docs.hortonworks.com/HDPDocuments/HDP3/HDP-3.0.1/release-notes/content/cve.html)"。

### <a name="known-issues"></a>已知問題

#### <a name="replication-is-broken-for-secure-hbase-with-default-installation"></a>通過預設安裝，安全 HBase 的複製已中斷

對於 HDInsight 4.0，執行以下步驟：

1. 啟用群集間通信。
1. 登錄到活動頭節點。
1. 下載腳本以使用以下命令啟用複製：

    ```
    sudo wget https://raw.githubusercontent.com/Azure/hbase-utils/master/replication/hdi_enable_replication.sh
    ```
1. 輸入命令 `sudo kinit <domainuser>`。
1. 鍵入以下命令以運行腳本：

    ```
    sudo bash hdi_enable_replication.sh -m <hn0> -s <srclusterdns> -d <dstclusterdns> -sp <srcclusterpasswd> -dp <dstclusterpasswd> -copydata
    ```
對於 HDInsight 3.6，執行以下操作：

1. 登錄到活動 HMaster ZK。
1. 下載腳本以使用以下命令啟用複製：
    ```
    sudo wget https://raw.githubusercontent.com/Azure/hbase-utils/master/replication/hdi_enable_replication.sh
    ```
1. 輸入命令 `sudo kinit -k -t /etc/security/keytabs/hbase.service.keytab hbase/<FQDN>@<DOMAIN>`。
1. 輸入以下命令：

    ```bash
    sudo bash hdi_enable_replication.sh -s <srclusterdns> -d <dstclusterdns> -sp <srcclusterpasswd> -dp <dstclusterpasswd> -copydata
    ```

#### <a name="phoenix-sqlline-stops-working-after-migrating-hbase-cluster-to-hdinsight-40"></a>將 HBase 群集遷移到 HDInsight 4.0 後，鳳凰 Sqlline 停止工作

請執行下列步驟：

1. 刪除以下鳳凰表：
    1. `SYSTEM.FUNCTION`
    1. `SYSTEM.SEQUENCE`
    1. `SYSTEM.STATS`
    1. `SYSTEM.MUTEX`
    1. `SYSTEM.CATALOG`
1. 如果無法刪除任何表，請重新開機 HBase 以清除與表的任何連接。
1. 再次執行 `sqlline.py`。 費尼克斯將重新創建步驟 1 中刪除的所有表。
1. 為您的 HBase 資料重新生成鳳凰表和視圖。

#### <a name="phoenix-sqlline-stops-working-after-replicating-hbase-phoenix-metadata-from-hdinsight-36-to-40"></a>將 HBase 鳳凰中繼資料從 HDInsight 3.6 複製到 4.0 後，鳳凰 Sqlline 停止工作

請執行下列步驟：

1. 在執行複製之前，轉到目標 4.0 群集並執行`sqlline.py`。 此命令將生成"鳳凰"`SYSTEM.MUTEX`表`SYSTEM.LOG`，如下所示，並且該表僅存在於 4.0 中。
1. 刪除下表：
    1. `SYSTEM.FUNCTION`
    1. `SYSTEM.SEQUENCE`
    1. `SYSTEM.STATS`
    1. `SYSTEM.CATALOG`
1. 啟動 HBase 複製

### <a name="deprecation"></a>淘汰

Apache 風暴和 ML 服務在 HDInsight 4.0 中不可用。

## <a name="release-date-04142019"></a>發佈日期： 04/14/2019

### <a name="new-features"></a>新功能

新的更新和功能分為以下幾類：

*  ***更新 Hadoop 和其他開源專案***– 除了 20 多個開源專案中的 1000 多個 Bug 修復外，此更新還包含新版本的**Spark （2.3）** 和**Kafka （1.0）。**

    a.  [**Apache Spark 2.3 的新功能**](https://spark.apache.org/releases/spark-release-2-3-0.html)

    b.  [**Apache Kafka 1.0 的新功能**](https://kafka.apache.org/downloads#1.0.0)

*  ***將 R Server 9.1 更新到機器學習服務 9.3*** – 通過此版本，我們為數據科學家和工程師提供最佳的開源功能，通過演算法創新和易於操作來增強，所有這些都以他們的首選語言提供，速度與 Apache Spark 一起。 此版本擴展 R Server 中提供的功能，並進一步支援 Python，因而將叢集名稱從 R Server 改為 ML 服務。 

*  ***支援 Azure Data Lake Storage Gen2*** – HDInsight 將支援 Azure Data Lake Storage Gen2 的預覽版本。 在可用區域中，客戶能夠選擇 ADLS Gen2 帳戶作為其 HDInsight 叢集的主要或次要存放區。

*  ***HDInsight 企業安全包更新（預覽）*** 和（預覽）[虛擬網路服務終結點](https://docs.microsoft.com/azure/virtual-network/virtual-network-service-endpoints-overview)支援 Azure Blob 存儲、ADLS Gen1、Cosmos DB 和 Azure DB。

### <a name="component-versions"></a>元件版本

HDInsight 3.6 所有元件的官方 Apache 版本列示如下。 此處所列的元件都是最新可用穩定版本的官方 Apache 版本。

-   Apache Hadoop 2.7.3

-   Apache HBase 1.1.2

-   Apache Hive 1.2.1

-   Apache Hive 2.1.0

-   Apache Kafka 1.0.0

-   Apache Mahout 0.9.0+

-   Apache Oozie 4.2.0

-   Apache Phoenix 4.7.0

-   Apache Pig 0.16.0

-   Apache Ranger 0.7.0

-   Apache Slider 0.92.0

-   Apache Spark 2.2.0/2.3.0

-   Apache Sqoop 1.4.6

-   Apache Storm 1.1.0

-   Apache TEZ 0.7.0

-   Apache Zeppelin 0.7.3

-   Apache ZooKeeper 3.4.6

除了上面所列版本外，HDP 發佈中有時會有一些配套的 Apache 元件更新版本。 在這種情況下，這些更高版本列在"技術預覽"表中，不應替代生產環境中上述清單的 Apache 元件版本。

### <a name="apache-patch-information"></a>Apache 修補程式資訊

#### <a name="hadoop"></a>Hadoop

此版本提供 Hadoop Common 2.7.3 和下列 Apache 修補程式：

-   [HADOOP-13190](https://issues.apache.org/jira/browse/HADOOP-13190)：會在 KMS HA 文件中提及 LoadBalancingKMSClientProvider。

-   [HADOOP-13227](https://issues.apache.org/jira/browse/HADOOP-13227)：AsyncCallHandler 應該使用事件導向架構來處理非同步呼叫。

-   [HADOOP-14104](https://issues.apache.org/jira/browse/HADOOP-14104)：用戶端應該一律向 namenode 要求 kms 提供者路徑。

-   [HADOOP-14799](https://issues.apache.org/jira/browse/HADOOP-14799)：將 nimbus-jose-jwt 更新為 4.41.1。

-   [HADOOP-14814](https://issues.apache.org/jira/browse/HADOOP-14814)：將 FsServerDefaults 上的不相容 API 變更修正為 HADOOP-14104。

-   [HADOOP-14903](https://issues.apache.org/jira/browse/HADOOP-14903)：將 json-smart 明確新增至 pom.xml。

-   [HADOOP-15042](https://issues.apache.org/jira/browse/HADOOP-15042)：Azure PageBlobInputStream.skip() 可在 numberOfPagesRemaining 為 0 時傳回負值。

-   [HADOOP-15255](https://issues.apache.org/jira/browse/HADOOP-15255)：可對 LdapGroupsMapping 中的群組名稱支援大小寫轉換。

-   [HADOOP-15265](https://issues.apache.org/jira/browse/HADOOP-15265)：從 hadoop-auth pom.xml 中明確排除 json-smart。

-   [HDFS-7922](https://issues.apache.org/jira/browse/HDFS-7922)： 短路\#緩存關閉不發佈計畫執行緒池執行器。

-   [HDFS-8496](https://issues.apache.org/jira/browse/HDFS-8496)：在保有 FSDatasetImpl 鎖定的情況下呼叫 stopWriter() 可能會封鎖其他執行緒 (cmccabe)。

-   [HDFS-10267](https://issues.apache.org/jira/browse/HDFS-10267)：針對 FsDatasetImpl\#recoverAppend 和 FsDatasetImpl\#recoverClose 的額外「同步處理」。

-   [HDFS-10489](https://issues.apache.org/jira/browse/HDFS-10489)：取代 HDFS 加密區域的 dfs.encryption.key.provider.uri。

-   [HDFS-11384](https://issues.apache.org/jira/browse/HDFS-11384)：新增選項供平衡器分散 getBlocks 呼叫，以避免 NameNode 的 rpc.CallQueueLength 突然增加。

-   [HDFS-11689](https://issues.apache.org/jira/browse/HDFS-11689)：DFSClient%isHDFSEncryptionEnabled 中斷 Hacky Hive 程式碼所擲回的新例外狀況。

-   [HDFS-11711](https://issues.apache.org/jira/browse/HDFS-11711)：DN 不應刪除針對「開啟太多檔案」例外狀況的封鎖。

-   [HDFS-12347](https://issues.apache.org/jira/browse/HDFS-12347)：TestBalancerRPCDelay\#testBalancerRPCDelay 的極為頻繁地失敗。

-   [HDFS-12781](https://issues.apache.org/jira/browse/HDFS-12781)：Datanode 關閉之後，[在 Namenode UI Datanode] 索引標籤會擲回警告訊息。

-   [HDFS-13054](https://issues.apache.org/jira/browse/HDFS-13054)：處理 DFSClient 刪除呼叫中的 PathIsNotEmptyDirectoryException。

-   [HDFS-13120](https://issues.apache.org/jira/browse/HDFS-13120)：快照集差異可能會在 concat 之後損毀。

-   [YARN-3742](https://issues.apache.org/jira/browse/YARN-3742)：如果 ZKClient 建立逾時，YARN RM 將會關閉。

-   [YARN-6061](https://issues.apache.org/jira/browse/YARN-6061)：為 RM 中的重要執行緒新增 UncaughtExceptionHandler。

-   [YARN-7558](https://issues.apache.org/jira/browse/YARN-7558)：如果啟用 UI 驗證，yarn logs 命令將無法取得執行中容器的記錄。

-   [YARN-7697](https://issues.apache.org/jira/browse/YARN-7697)：即使記錄彙總已完成，仍無法擷取已完成應用程式的記錄。

HDP 2.6.4 提供了 Hadoop Common 2.7.3 和下列 Apache 修補程式：

-   [HADOOP-13700](https://issues.apache.org/jira/browse/HADOOP-13700)：從 TrashPolicy\#initialize 和 \#getInstance 簽章中移除取消擲回 IOException。

-   [HADOOP-13709](https://issues.apache.org/jira/browse/HADOOP-13709)：能夠在處理序存在時清除由殼層繁衍的子處理序。

-   [HADOOP-14059](https://issues.apache.org/jira/browse/HADOOP-14059)：s3a 重新命名 (self、subdir) 錯誤訊息中的錯字。

-   [HADOOP-14542](https://issues.apache.org/jira/browse/HADOOP-14542)：新增會接受 slf4j 記錄器 API 的 IOUtils.cleanupWithLogger。

-   [HDFS-9887](https://issues.apache.org/jira/browse/HDFS-9887)：WebHdfs 通訊端逾時應該是可設定的。

-   [HDFS-9914](https://issues.apache.org/jira/browse/HDFS-9914)：修正可設定的 WebhDFS 連線/讀取逾時。

-   [MAPREDUCE-6698](https://issues.apache.org/jira/browse/MAPREDUCE-6698)：增加 TestUnnecessaryBlockingOnHist oryFileInfo.testTwoThreadsQueryingDifferentJobOfSameUser 的逾時。

-   [YARN-4550](https://issues.apache.org/jira/browse/YARN-4550)：TestContainerLanch 中的某些測試未能在非英文地區設定的環境中進行。

-   [YARN-4717](https://issues.apache.org/jira/browse/YARN-4717)：TestResourceLocalizationService.testPublicResourceInitializesLocalDir 間歇性地失敗，因為清除時產生 IllegalArgumentException。

-   [YARN-5042](https://issues.apache.org/jira/browse/YARN-5042)：以唯讀掛接的形式將 /sys/fs/cgroup 掛接到 Docker 容器。

-   [YARN-5318](https://issues.apache.org/jira/browse/YARN-5318)：修正 TestRMAdminService\#te stRefreshNodesResourceWithFileSystemBasedConfigurationProvider 的間歇性測試失敗。

-   [YARN-5641](https://issues.apache.org/jira/browse/YARN-5641)：容器完成後，當地語系化工具會留下 tarball。

-   [YARN-6004](https://issues.apache.org/jira/browse/YARN-6004)：重構 TestResourceLocalizationService\#testDownloadingResourcesOnContainer，使其少於 150 行。

-   [YARN-6078](https://issues.apache.org/jira/browse/YARN-6078)：容器會卡在當地語系化狀態。

-   [YARN-6805](https://issues.apache.org/jira/browse/YARN-6805)：LinuxContainerExecutor 中的 NPE，因為 PrivilegedOperationException 結束代碼為 Null。

#### <a name="hbase"></a>hbase

此版本提供 HBase 1.1.2 和下列 Apache 修補程式。

-   [HBASE-13376](https://issues.apache.org/jira/browse/HBASE-13376)：改善 Stochastic 負載平衡器。

-   [HBASE-13716](https://issues.apache.org/jira/browse/HBASE-13716)：停止使用 Hadoop 的 FSConstants。

-   [HBASE-13848](https://issues.apache.org/jira/browse/HBASE-13848)：透過認證提供者 API 存取 InfoServer SSL 密碼。

-   [HBASE-13947](https://issues.apache.org/jira/browse/HBASE-13947)：使用 MasterServices，而非 AssignmentManager 中的伺服器。

-   [HBASE-14135](https://issues.apache.org/jira/browse/HBASE-14135)：HBase 備份/還原第 3 階段：合併備份映像。

-   [HBASE-14473](https://issues.apache.org/jira/browse/HBASE-14473)：平行計算區域位置。

-   [HBASE-14517](https://issues.apache.org/jira/browse/HBASE-14517)：在 [主要狀態] 頁面中顯示 regionserver 的版本。

-   [HBASE-14606](https://issues.apache.org/jira/browse/HBASE-14606)：在 Apache 上的主幹建置中，TestSecureLoadIncrementalHFiles 測試已逾時。

-   [HBASE-15210](https://issues.apache.org/jira/browse/HBASE-15210)：復原積極的負載平衡器記錄，速度為每毫秒數十行。

-   [HBASE-15515](https://issues.apache.org/jira/browse/HBASE-15515)：改善平衡器中的 LocalityBasedCandidateGenerator。

-   [HBASE-15615](https://issues.apache.org/jira/browse/HBASE-15615)：當 RegionServerCallable 需要重試時，睡眠時間會錯誤。

-   [HBASE-16135](https://issues.apache.org/jira/browse/HBASE-16135)：可能永遠不會刪除已移除同儕節點的 rs 下的 PeerClusterZnode。

-   [HBASE-16570](https://issues.apache.org/jira/browse/HBASE-16570)：在啟動時平行計算區域位置。

-   [HBASE-16810](https://issues.apache.org/jira/browse/HBASE-16810)：當 regionservers 位於 /hbase/draining 的 znode 並卸載時，HBase 平衡器會擲回 ArrayIndexOutOfBoundsException。

-   [HBASE-16852](https://issues.apache.org/jira/browse/HBASE-16852)：TestDefaultCompactSelection 已在 branch-1.3 上失敗。

-   [HBASE-17387](https://issues.apache.org/jira/browse/HBASE-17387)：減少 RegionActionResult 中針對 multi() 的例外狀況報告額外負荷。

-   [HBASE-17850](https://issues.apache.org/jira/browse/HBASE-17850)：備份系統修復公用程式。

-   [HBASE-17931](https://issues.apache.org/jira/browse/HBASE-17931)：將系統資料表指派給具有最高版本的伺服器。

-   [HBASE-18083](https://issues.apache.org/jira/browse/HBASE-18083)：在 HFileCleaner 中讓大型/小型檔案清除執行緒數目變成可供設定的狀態。

-   [HBASE-18084](https://issues.apache.org/jira/browse/HBASE-18084)：改善 CleanerChore，使其能從會取用更多磁碟空間的目錄中清除。

-   [HBASE-18164](https://issues.apache.org/jira/browse/HBASE-18164)：速度快上許多的位置成本函式和候選項目產生器。

-   [HBASE-18212](https://issues.apache.org/jira/browse/HBASE-18212)：在具有本機檔案系統 HBase 記錄警告訊息的獨立模式中：無法在 org.apache.hadoop.fs.FSDataInputStream 類別中叫用 'unbuffer' 方法。

-   [HBASE-18808](https://issues.apache.org/jira/browse/HBASE-18808)：BackupLogCleaner\#getDeletableFiles() 中的設定檢查無效。

-   [HBASE-19052](https://issues.apache.org/jira/browse/HBASE-19052)：FixedFileTrailer 應該會辨識 branch-1.x 中的 CellComparatorImpl 類別。

-   [HBASE-19065](https://issues.apache.org/jira/browse/HBASE-19065)：HRegion\#bulkLoadHFiles() 應該等候並行 Region\#flush() 完成。

-   [HBASE-19285](https://issues.apache.org/jira/browse/HBASE-19285)：新增每一資料表的延遲長條圖。

-   [HBASE-19393](https://issues.apache.org/jira/browse/HBASE-19393)：使用 SSL 存取 HBase UI 時，出現 HTTP 413 FULL 標頭。

-   [HBASE-19395](https://issues.apache.org/jira/browse/HBASE-19395) \[： 分支\]-1 testendendSplit交易.測試主機在拆分失敗時與NPE。

-   [HBASE-19421](https://issues.apache.org/jira/browse/HBASE-19421)：branch-1 不會針對 Hadoop 3.0.0 進行編譯。

-   [HBASE-19934](https://issues.apache.org/jira/browse/HBASE-19934)：若已啟用讀取複本，並在區域分割之後擷取線上快照集，則會發生 HBaseSnapshotException。

-   [HBASE-20008](https://issues.apache.org/jira/browse/HBASE-20008) \[：在\]拆分區域後還原快照時，返回 NullPointerexception。

#### <a name="hive"></a>Hive

此版本提供 Hive 1.2.1 和 Hive 2.1.0，以及下列修補程式：

**Hive 1.2.1 Apache 修補程式：**

-   [HIVE-10697**](https://issues.apache.org/jira/browse/HIVE-10697)：ObjectInspectorConvertors\#UnionConvertor 會進行錯誤的轉換。

-   [HIVE-11266**](https://issues.apache.org/jira/browse/HIVE-11266)：count(\*) 會根據外部資料表的資料表統計資料，產生錯誤的結果。

-   [HIVE-12245**](https://issues.apache.org/jira/browse/HIVE-12245)：HBase 支援的資料表可支援資料行註解。

-   [HIVE-12315**](https://issues.apache.org/jira/browse/HIVE-12315)：修正除數為零的向量化雙精度浮點數。

-   [HIVE-12360**](https://issues.apache.org/jira/browse/HIVE-12360)：在具有述詞下推的未壓縮 ORC 中會進行錯誤的搜尋。

-   [HIVE-12378**](https://issues.apache.org/jira/browse/HIVE-12378)：HBaseSerDe.serialize 二進位欄位上的例外狀況。

-   [HIVE-12785**](https://issues.apache.org/jira/browse/HIVE-12785)：檢視具有等位型別，且結構的 UDF 會中斷。

-   [HIVE-14013**](https://issues.apache.org/jira/browse/HIVE-14013)：描述資料表未正確顯示 unicode。

-   [HIVE-14205**](https://issues.apache.org/jira/browse/HIVE-14205)：Hive 不支援等位型別與 AVRO 檔案格式的搭配。

-   [HIVE-14421**](https://issues.apache.org/jira/browse/HIVE-14421)：FS.deleteOnExit 會保存 \_tmp\_space.db 檔案的參考。

-   [HIVE-15563**](https://issues.apache.org/jira/browse/HIVE-15563)：忽略 SQLOperation.runQuery 中不合法的作業狀態轉換例外狀況，以公開實際的例外狀況。

-   [HIVE-15680**](https://issues.apache.org/jira/browse/HIVE-15680)：當 hive.optimize.index.filter=true 且查詢在 MR 模式中參考了相同的 ORC 資料表兩次時，會產生不正確的結果。

-   [HIVE-15883**](https://issues.apache.org/jira/browse/HIVE-15883)：Hive 插入中的 HBase 對應資料表在使用小數點時會失敗。

-   [HIVE-16232**](https://issues.apache.org/jira/browse/HIVE-16232)：對 QuotedIdentifier 中的資料行支援統計資料計算。

-   [HIVE-16828**](https://issues.apache.org/jira/browse/HIVE-16828)：在啟用 CBO 的情況下，對已分割的檢視所進行的查詢會擲回 IndexOutOfBoundException。

-   [HIVE-17013**](https://issues.apache.org/jira/browse/HIVE-17013)：根據對檢視的選取來刪除具有子查詢的要求。

-   [*HIVE-17063*](https://issues.apache.org/jira/browse/HIVE-17063)：將覆蓋分區插入外部表，在首先放置分區時失敗。

-   [HIVE-17259**](https://issues.apache.org/jira/browse/HIVE-17259)：Hive JDBC 無法辨識 UNIONTYPE 資料行。

-   [HIVE-17419**](https://issues.apache.org/jira/browse/HIVE-17419)：ANALYZE TABLE...COMPUTE STATISTICS FOR COLUMNS 命令會顯示已遮罩資料表的計算統計資料。

-   [HIVE-17530**](https://issues.apache.org/jira/browse/HIVE-17530)：轉換 uniontype 時發生 ClassCastException。

-   [HIVE-17621**](https://issues.apache.org/jira/browse/HIVE-17621)：HCatInputFormat 分割計算期間會忽略 Hive 網站設定。

-   [HIVE-17636**](https://issues.apache.org/jira/browse/HIVE-17636)：新增 BlobStore 的 multiple\_agg.q 測試。

-   [HIVE-17729**](https://issues.apache.org/jira/browse/HIVE-17729)：新增資料庫並解說相關的 blobstore 測試。

-   [HIVE-17731**](https://issues.apache.org/jira/browse/HIVE-17731)：在 HIVE-11985 中新增外部使用者的回溯相容性選項。

-   [HIVE-17803**](https://issues.apache.org/jira/browse/HIVE-17803)：使用 Pig 多重查詢時，若有 2 個 HCatStorers 寫入至相同的資料表，則會破壞彼此的輸出。

-   [HIVE-17829**](https://issues.apache.org/jira/browse/HIVE-17829)：ArrayIndexOutOfBoundsException - Hive2 中具有 Avro 結構描述的 HBASE 支援資料表。

-   [HIVE-17845**](https://issues.apache.org/jira/browse/HIVE-17845)：如果目標資料表資料行不是小寫，插入會失敗。

-   [HIVE-17900**](https://issues.apache.org/jira/browse/HIVE-17900)：在由 Compactor 觸發的資料行上分析統計資料，會產生資料分割資料行 &gt; 1 個的錯誤格式 SQL。

-   [HIVE-18026**](https://issues.apache.org/jira/browse/HIVE-18026)：Hive webhcat 主體設定最佳化。

-   [HIVE-18031**](https://issues.apache.org/jira/browse/HIVE-18031)：針對 Alter Database 作業支援複寫。

-   [HIVE-18090**](https://issues.apache.org/jira/browse/HIVE-18090)：透過 hadoop 認證連接中繼存放區時，acid 活動訊號會失敗。

-   [HIVE-18189**](https://issues.apache.org/jira/browse/HIVE-18189)：將 hive.groupby.orderby.position.alias 設為 true 時，Hive 查詢會傳回錯誤結果。

-   [HIVE-18258**](https://issues.apache.org/jira/browse/HIVE-18258)：向量化：具有重複資料行的 Reduce-Side GROUP BY MERGEPARTIAL 會中斷。

-   [HIVE-18293**](https://issues.apache.org/jira/browse/HIVE-18293)：若資料夾不是由執行 HiveMetaStore 的身分識別所擁有的，Hive 就無法壓縮該資料夾內所包含的資料表。

-   [HIVE-18327**](https://issues.apache.org/jira/browse/HIVE-18327)：移除 MiniHiveKdc 的不必要 HiveConf 相依性。

-   [HIVE-18341**](https://issues.apache.org/jira/browse/HIVE-18341)：新增 repl 載入支援，可用於對具有相同加密金鑰的 TDE 新增「原始」命名空間。

-   [HIVE-18352**](https://issues.apache.org/jira/browse/HIVE-18352)：在進行 REPL DUMP 以便與其他工具整合時，引進了 METADATAONLY 選項。

-   [HIVE-18353**](https://issues.apache.org/jira/browse/HIVE-18353)：CompactorMR 應該呼叫 jobclient.close() 以觸發清除 (透過 Thejas Nair 的 Prabhu Joseph)。

-   [HIVE-18390**](https://issues.apache.org/jira/browse/HIVE-18390)：在 ColumnPruner 中查詢已分割的檢視時，發生 IndexOutOfBoundsException。

-   [HIVE-18429**](https://issues.apache.org/jira/browse/HIVE-18429)：壓縮應該處理未產生任何輸出時的案例。

-   [HIVE-18447**](https://issues.apache.org/jira/browse/HIVE-18447)：JDBC：提供方法供 JDBC 使用者透過連接字串傳遞 Cookie 資訊。

-   [HIVE-18460**](https://issues.apache.org/jira/browse/HIVE-18460)：Compactor 不會將資料表屬性傳遞至 Orc 寫入器。

-   [HIVE-18467**](https://issues.apache.org/jira/browse/HIVE-18467)：支援整個倉儲傾印/載入 + 建立/置放資料庫事件 (Anishek Agarwal，已由 Sankar Hariappan 檢閱)。

-   [HIVE-18551**](https://issues.apache.org/jira/browse/HIVE-18551)：向量化：VectorMapOperator 嘗試為 Hybrid Grace 寫入太多向量資料行。

-   [HIVE-18587**](https://issues.apache.org/jira/browse/HIVE-18587)：插入 DML 事件可能會嘗試對目錄計算總和檢查碼。

-   [HIVE-18613**](https://issues.apache.org/jira/browse/HIVE-18613)：擴充 JsonSerDe 以支援 BINARY 類型。

-   [HIVE-18626**](https://issues.apache.org/jira/browse/HIVE-18626)：Repl 載入 "with" 子句不會將設定傳遞給工作。

-   [HIVE-18660**](https://issues.apache.org/jira/browse/HIVE-18660)：PCR 無法區別資料分割和虛擬資料行。

-   [HIVE-18754**](https://issues.apache.org/jira/browse/HIVE-18754)：REPL STATUS 應該支援 'with' 子句。

-   [HIVE-18754**](https://issues.apache.org/jira/browse/HIVE-18754)：REPL STATUS 應該支援 'with' 子句。

-   [HIVE-18788**](https://issues.apache.org/jira/browse/HIVE-18788)：清除 JDBC PreparedStatement 中的輸入。

-   [HIVE-18794**](https://issues.apache.org/jira/browse/HIVE-18794)：Repl 載入 "with" 子句不會將設定傳遞給非磁碟分割表格的工作。

-   [HIVE-18808**](https://issues.apache.org/jira/browse/HIVE-18808)：統計資料更新失敗時，讓壓縮更穩固。

-   [HIVE-18817**](https://issues.apache.org/jira/browse/HIVE-18817)：讀取 ACID 資料表期間，發生 ArrayIndexOutOfBounds 例外狀況。

-   [HIVE-18833**](https://issues.apache.org/jira/browse/HIVE-18833)：「插入目錄中作為 orcfile」時，自動合併會失敗。

-   [HIVE-18879**](https://issues.apache.org/jira/browse/HIVE-18879)：如果 xercesImpl.jar 位於 classpath 中，則必須能夠在 UDFXPathUtil 中不允許內嵌的元素。

-   [HIVE-18907**](https://issues.apache.org/jira/browse/HIVE-18907)：建立公用程式以修正 HIVE-18817 中的 acid 金鑰索引問題。

**Hive 2.1.0 Apache 修補程式：**

-   [HIVE-14013**](https://issues.apache.org/jira/browse/HIVE-14013)：描述資料表未正確顯示 unicode。

-   [HIVE-14205**](https://issues.apache.org/jira/browse/HIVE-14205)：Hive 不支援等位型別與 AVRO 檔案格式的搭配。

-   [HIVE-15563**](https://issues.apache.org/jira/browse/HIVE-15563)：忽略 SQLOperation.runQuery 中不合法的作業狀態轉換例外狀況，以公開實際的例外狀況。

-   [HIVE-15680**](https://issues.apache.org/jira/browse/HIVE-15680)：當 hive.optimize.index.filter=true 且查詢在 MR 模式中參考了相同的 ORC 資料表兩次時，會產生不正確的結果。

-   [HIVE-15883**](https://issues.apache.org/jira/browse/HIVE-15883)：Hive 插入中的 HBase 對應資料表在使用小數點時會失敗。

-   [HIVE-16757**](https://issues.apache.org/jira/browse/HIVE-16757)：移除已淘汰 AbstractRelNode.getRows 的呼叫。

-   [HIVE-16828**](https://issues.apache.org/jira/browse/HIVE-16828)：在啟用 CBO 的情況下，對已分割的檢視所進行的查詢會擲回 IndexOutOfBoundException。

-   [*HIVE-17063*](https://issues.apache.org/jira/browse/HIVE-17063)：將覆蓋分區插入外部表，在首先放置分區時失敗。

-   [HIVE-17259**](https://issues.apache.org/jira/browse/HIVE-17259)：Hive JDBC 無法辨識 UNIONTYPE 資料行。

-   [HIVE-17530**](https://issues.apache.org/jira/browse/HIVE-17530)：轉換 uniontype 時發生 ClassCastException。

-   [HIVE-17600**](https://issues.apache.org/jira/browse/HIVE-17600)：讓 OrcFile 的 enforceBufferSize 變成可由使用者設定。

-   [HIVE-17601**](https://issues.apache.org/jira/browse/HIVE-17601)：改善 LlapServiceDriver 中的錯誤處理。

-   [HIVE-17613**](https://issues.apache.org/jira/browse/HIVE-17613)：針對簡短的同一執行緒配置移除物件集區。

-   [HIVE-17617**](https://issues.apache.org/jira/browse/HIVE-17617)：空白結果集的彙總應該包含空白群組集合的群組。

-   [HIVE-17621**](https://issues.apache.org/jira/browse/HIVE-17621)：HCatInputFormat 分割計算期間會忽略 Hive 網站設定。

-   [HIVE-17629**](https://issues.apache.org/jira/browse/HIVE-17629)：CachedStore：備有允許清單/封鎖清單設定，以允許資料表/資料分割的選擇性快取，以及允許在預先準備時讀取。

-   [HIVE-17636**](https://issues.apache.org/jira/browse/HIVE-17636)：新增 BlobStore 的 multiple\_agg.q 測試。

-   [HIVE-17702**](https://issues.apache.org/jira/browse/HIVE-17702)：ORC 中的十進位讀取器有不正確的 isRepeating 處理。

-   [HIVE-17729**](https://issues.apache.org/jira/browse/HIVE-17729)：新增資料庫並解說相關的 blobstore 測試。

-   [HIVE-17731**](https://issues.apache.org/jira/browse/HIVE-17731)：在 HIVE-11985 中新增外部使用者的回溯相容性選項。

-   [HIVE-17803**](https://issues.apache.org/jira/browse/HIVE-17803)：使用 Pig 多重查詢時，若有 2 個 HCatStorers 寫入至相同的資料表，則會破壞彼此的輸出。

-   [HIVE-17845**](https://issues.apache.org/jira/browse/HIVE-17845)：如果目標資料表資料行不是小寫，插入會失敗。

-   [HIVE-17900**](https://issues.apache.org/jira/browse/HIVE-17900)：在由 Compactor 觸發的資料行上分析統計資料，會產生資料分割資料行 &gt; 1 個的錯誤格式 SQL。

-   [HIVE-18006**](https://issues.apache.org/jira/browse/HIVE-18006)：將 HLLDenseRegister 的記憶體使用量最佳化。

-   [HIVE-18026**](https://issues.apache.org/jira/browse/HIVE-18026)：Hive webhcat 主體設定最佳化。

-   [HIVE-18031**](https://issues.apache.org/jira/browse/HIVE-18031)：針對 Alter Database 作業支援複寫。

-   [HIVE-18090**](https://issues.apache.org/jira/browse/HIVE-18090)：透過 hadoop 認證連接中繼存放區時，acid 活動訊號會失敗。

-   [HIVE-18189**](https://issues.apache.org/jira/browse/HIVE-18189)：cbo 停用時，無法依位置排序。

-   [HIVE-18258**](https://issues.apache.org/jira/browse/HIVE-18258)：向量化：具有重複資料行的 Reduce-Side GROUP BY MERGEPARTIAL 會中斷。

-   [HIVE-18269**](https://issues.apache.org/jira/browse/HIVE-18269)：LLAP：使用慢速處理管線進行快速 llap io 會導致 OOM。

-   [HIVE-18293**](https://issues.apache.org/jira/browse/HIVE-18293)：若資料夾不是由執行 HiveMetaStore 的身分識別所擁有的，Hive 就無法壓縮該資料夾內所包含的資料表。

-   [HIVE-18318**](https://issues.apache.org/jira/browse/HIVE-18318)：即使未封鎖，LLAP 記錄讀取器也應該檢查中斷。

-   [HIVE-18326**](https://issues.apache.org/jira/browse/HIVE-18326)：LLAP Tez 排程器 - 只有在工作之間有相依性時，才讓這些工作優先進行。

-   [HIVE-18327**](https://issues.apache.org/jira/browse/HIVE-18327)：移除 MiniHiveKdc 的不必要 HiveConf 相依性。

-   [HIVE-18331**](https://issues.apache.org/jira/browse/HIVE-18331)：新增在 TGT 到期時重新登入以及某些記錄/lambda。

-   [HIVE-18341**](https://issues.apache.org/jira/browse/HIVE-18341)：新增 repl 載入支援，可用於對具有相同加密金鑰的 TDE 新增「原始」命名空間。

-   [HIVE-18352**](https://issues.apache.org/jira/browse/HIVE-18352)：在進行 REPL DUMP 以便與其他工具整合時，引進了 METADATAONLY 選項。

-   [HIVE-18353**](https://issues.apache.org/jira/browse/HIVE-18353)：CompactorMR 應該呼叫 jobclient.close() 以觸發清除。

-   [HIVE-18384**](https://issues.apache.org/jira/browse/HIVE-18384)：log4j2.x 程式庫發生 ConcurrentModificationException。

-   [HIVE-18390**](https://issues.apache.org/jira/browse/HIVE-18390)：在 ColumnPruner 中查詢已分割的檢視時，發生 IndexOutOfBoundsException。

-   [HIVE-18447**](https://issues.apache.org/jira/browse/HIVE-18447)：JDBC：提供方法供 JDBC 使用者透過連接字串傳遞 Cookie 資訊。

-   [HIVE-18460**](https://issues.apache.org/jira/browse/HIVE-18460)：Compactor 不會將資料表屬性傳遞至 Orc 寫入器。

-   [HIVE-18462**](https://issues.apache.org/jira/browse/HIVE-18462)：(針對有對應聯結的查詢所格式化的解釋，會具有資料行名稱未格式化的 columnExprMap)。

-   [HIVE-18467**](https://issues.apache.org/jira/browse/HIVE-18467)：支援整個倉儲傾印/載入 + 建立/置放資料庫事件。

-   [HIVE-18488**](https://issues.apache.org/jira/browse/HIVE-18488)：LLAP ORC 讀取器缺少某些 null 檢查。

-   [HIVE-18490**](https://issues.apache.org/jira/browse/HIVE-18490)：具有 EXISTS 和 NOT EXISTS 與不相等述詞的查詢會產生錯誤的結果。

-   [HIVE-18506**](https://issues.apache.org/jira/browse/HIVE-18506)：LlapBaseInputFormat - 負數的陣列索引。

-   [HIVE-18517**](https://issues.apache.org/jira/browse/HIVE-18517)：向量化：修正 VectorMapOperator 以接受 VRBs，並檢查向量化旗標是否正確以支援 LLAP 快取)。

-   [HIVE-18523**](https://issues.apache.org/jira/browse/HIVE-18523)：修正沒有輸入時的摘要資料列。

-   [HIVE-18528**](https://issues.apache.org/jira/browse/HIVE-18528)：彙總 ObjectStore 中的統計資料會得到錯誤的結果。

-   [HIVE-18530**](https://issues.apache.org/jira/browse/HIVE-18530)：複寫應該略過 MM 資料表 (暫時)。

-   [HIVE-18548**](https://issues.apache.org/jira/browse/HIVE-18548)：修正 log4j 匯入。

-   [HIVE-18551**](https://issues.apache.org/jira/browse/HIVE-18551)：向量化：VectorMapOperator 嘗試為 Hybrid Grace 寫入太多向量資料行。

-   [HIVE-18577**](https://issues.apache.org/jira/browse/HIVE-18577)：SemanticAnalyzer.validate 有一些毫無意義的中繼存放區呼叫。

-   [HIVE-18587**](https://issues.apache.org/jira/browse/HIVE-18587)：插入 DML 事件可能會嘗試對目錄計算總和檢查碼。

-   [HIVE-18597**](https://issues.apache.org/jira/browse/HIVE-18597)：LLAP︰一律針對 org.apache.log4j 封裝 log4j2 API jar。

-   [HIVE-18613**](https://issues.apache.org/jira/browse/HIVE-18613)：擴充 JsonSerDe 以支援 BINARY 類型。

-   [HIVE-18626**](https://issues.apache.org/jira/browse/HIVE-18626)：Repl 載入 "with" 子句不會將設定傳遞給工作。

-   [HIVE-18643**](https://issues.apache.org/jira/browse/HIVE-18643)：不要針對 ACID 作業檢查已封存的資料分割。

-   [HIVE-18660**](https://issues.apache.org/jira/browse/HIVE-18660)：PCR 無法區別資料分割和虛擬資料行。

-   [HIVE-18754**](https://issues.apache.org/jira/browse/HIVE-18754)：REPL STATUS 應該支援 'with' 子句。

-   [HIVE-18788**](https://issues.apache.org/jira/browse/HIVE-18788)：清除 JDBC PreparedStatement 中的輸入。

-   [HIVE-18794**](https://issues.apache.org/jira/browse/HIVE-18794)：Repl 載入 "with" 子句不會將設定傳遞給非磁碟分割表格的工作。

-   [HIVE-18808**](https://issues.apache.org/jira/browse/HIVE-18808)：統計資料更新失敗時，讓壓縮更穩固。

-   [HIVE-18815**](https://issues.apache.org/jira/browse/HIVE-18815)：移除 HPL/SQL 中未使用的功能。

-   [HIVE-18817**](https://issues.apache.org/jira/browse/HIVE-18817)：讀取 ACID 資料表期間，發生 ArrayIndexOutOfBounds 例外狀況。

-   [HIVE-18833**](https://issues.apache.org/jira/browse/HIVE-18833)：「插入目錄中作為 orcfile」時，自動合併會失敗。

-   [HIVE-18879**](https://issues.apache.org/jira/browse/HIVE-18879)：如果 xercesImpl.jar 位於 classpath 中，則必須能夠在 UDFXPathUtil 中不允許內嵌的元素。

-   [*HIVE-18944：*](https://issues.apache.org/jira/browse/HIVE-18944)在民進黨期間，分組設置位置設置不正確。

#### <a name="kafka"></a>Kafka

此版本提供 Kafka 1.0.0 和下列 Apache 修補程式。

-   [KAFKA-4827](https://issues.apache.org/jira/browse/KAFKA-4827)：Kafka 連線：連接器名稱中的特殊字元有錯誤。

-   [KAFKA-6118](https://issues.apache.org/jira/browse/KAFKA-6118)：kafka.api.SaslScramSslEndToEndAuthorizationTest.testTwoConsumersWithDifferentSaslCredentials 發生暫時性失敗。

-   [KAFKA-6156](https://issues.apache.org/jira/browse/KAFKA-6156)：JmxReporter 無法處理 Windows 樣式的目錄路徑。

-   [KAFKA-6164](https://issues.apache.org/jira/browse/KAFKA-6164)：ClientQuotaManager 執行緒可在遇到錯誤載入記錄時防止關機。

-   [KAFKA-6167](https://issues.apache.org/jira/browse/KAFKA-6167)：資料流目錄上的時間戳記包含冒號，此字元不合法。

-   [KAFKA-6179](https://issues.apache.org/jira/browse/KAFKA-6179)：RecordQueue.clear() 不會清除 MinTimestampTracker 的維護清單。

-   [KAFKA-6185](https://issues.apache.org/jira/browse/KAFKA-6185)：選取器記憶體流失，很可能會在向下轉換時發生 OOM 的情況。

-   [KAFKA-6190](https://issues.apache.org/jira/browse/KAFKA-6190)：GlobalKTable 永遠不會在取用交易訊息時結束還原作業。

-   [KAFKA-6210](https://issues.apache.org/jira/browse/KAFKA-6210)：如果將 1.0.0 用於 inter.broker.protocol.version 或 log.message.format.version，則會發生 IllegalArgumentException。

-   [KAFKA-6214](https://issues.apache.org/jira/browse/KAFKA-6214)：搭配使用待命複本與記憶體中狀態存放區會造成資料流損毀。

-   [KAFKA-6215](https://issues.apache.org/jira/browse/KAFKA-6215)：KafkaStreamsTest 在主幹中失敗。

-   [KAFKA-6238](https://issues.apache.org/jira/browse/KAFKA-6238)：在套用目標為 1.0.0 的輪流升級時，通訊協定版本發生問題。

-   [KAFKA-6260](https://issues.apache.org/jira/browse/KAFKA-6260)：AbstractCoordinator 未清楚地處理 NULL 例外狀況。

-   [KAFKA-6261](https://issues.apache.org/jira/browse/KAFKA-6261)：如果 ack=0，要求記錄會擲回例外狀況。

-   [KAFKA-6274](https://issues.apache.org/jira/browse/KAFKA-6274)：改善 KTable 來源狀態存放區所自動產生的名稱。

#### <a name="mahout"></a>Mahout

在 HDP 2.3.x 和 2.4.x 中，我們不會傳送特定 Apache 版本的 Mahout，而是會同步至 Apache Mahout 主幹上的特定修訂點。 此修訂點在 0.9.0 版本之後，但在 0.10.0 版本之前。 這會對 0.9.0 版本提供大量的錯誤修正和功能增強，但在完整轉換至 0.10.0 中的新 Spark 型 Mahout 之前，會提供穩定的 Mahout 功能版本。

針對 HDP 2.3.x 和 2.4.x 中的 Mahout 所選擇的修訂點，來自 Apache Mahout 的 "mahout-0.10.x" 分支，自 2014 年 12 月 19 日起，GitHub 中的修訂 0f037cb03e77c096。

在 HDP 2.5.x 和 2.6.x 中，我們已從 Mahout 移除 "commons-httpclient" 程式庫 (原因是我們將其視為可能有安全性問題的已淘汰程式庫)，並已將 Mahout 中的 Hadoop-Client 升級到 2.7.3 版，和 HDP 2.5 中所使用的版本相同。 因此：

-   先前編譯的 Mahout 作業必須在 HDP 2.5 或 2.6 環境中重新編譯。

-   某些 Mahout 作業有一點可能會發生與 "org.apache.commons.httpclient"、"net.java.dev.jets3t" 或類別名稱前置詞相關的 "ClassNotFoundException" 或 "could not load class" 錯誤。 如果發生這些錯誤，請考慮是否要以手動方式在 classpath 中為作業安裝所需的 jar，前提是您的環境可接受已淘汰的程式庫中有安全性問題的風險。

-   某些 Mahout 作業甚至有更小的可能性會遇到 Mahout 對 hadoop-common 程式庫的 hbase-client 程式碼呼叫會損毀 (由於二進位相容性問題)。 可惜的是，目前沒有辦法解決此問題，除非您還原為 HDP 2.4.2 版的 Mahout，但這可能會有安全性問題。 再者，這個情況應該非常罕見，不太可能發生在任何給定的 Mahout 作業套件中。

#### <a name="oozie"></a>Oozie

此版本為 Oozie 4.2.0 提供下列 Apache 修補程式。

-   [OOZIE-2571](https://issues.apache.org/jira/browse/OOZIE-2571)：新增 spark.scala.binary.version Maven 屬性，以便能夠使用 Scala 2.11。

-   [OOZIE-2606](https://issues.apache.org/jira/browse/OOZIE-2606)：設定 spark.yarn.jars 以使用 Oozie 修正 Spark 2.0。

-   [OOZIE-2658](https://issues.apache.org/jira/browse/OOZIE-2658)：--driver-class-path 會覆寫 SparkMain 中的 classpath。

-   [OOZIE-2787](https://issues.apache.org/jira/browse/OOZIE-2787)：Oozie 會散發應用程式 jar 兩次而使得 spark 作業失敗。

-   [OOZIE-2792](https://issues.apache.org/jira/browse/OOZIE-2792)：當 Hive 在 Spark 上時，Hive2 動作不會正確剖析記錄檔中的 Spark 應用程式識別碼。

-   [OOZIE-2799](https://issues.apache.org/jira/browse/OOZIE-2799)：為 hive 上的 spark sql 設定記錄位置。

-   [OOZIE-2802](https://issues.apache.org/jira/browse/OOZIE-2802)：Spark 動作在 Spark 2.1.0 上失敗，因為 sharelibs 重複。

-   [OOZIE-2923](https://issues.apache.org/jira/browse/OOZIE-2923)：改善 Spark 選項剖析。

-   [OOZIE-3109](https://issues.apache.org/jira/browse/OOZIE-3109)：SCA：跨網站指令碼：已反映。

-   [OOZIE-3139](https://issues.apache.org/jira/browse/OOZIE-3139)：Oozie 不會正確地驗證工作流程。

-   [OOZIE-3167](https://issues.apache.org/jira/browse/OOZIE-3167)：在 Oozie 4.3 分支上升級 tomcat 版本。

#### <a name="phoenix"></a>Phoenix

此版本提供 Phoenix 4.7.0 和下列 Apache 修補程式：

-   [PHOENIX-1751](https://issues.apache.org/jira/browse/PHOENIX-1751)：在 preScannerNext 中而不是 postScannerOpen 中執行彙總、排序等作業。

-   [PHOENIX-2714](https://issues.apache.org/jira/browse/PHOENIX-2714)：修正 BaseResultIterators 中的位元組估計，並公開為介面。

-   [PHOENIX-2724](https://issues.apache.org/jira/browse/PHOENIX-2724)：有大量 guideposts 的查詢速度會比沒有統計資料的查詢慢。

-   [PHOENIX-2855](https://issues.apache.org/jira/browse/PHOENIX-2855)：未針對 HBase 1.2 將因應措施增量 TimeRange 序列化。

-   [PHOENIX-3023](https://issues.apache.org/jira/browse/PHOENIX-3023)：依預設以平行方式執行限制查詢時，效能會變慢。

-   [PHOENIX-3040](https://issues.apache.org/jira/browse/PHOENIX-3040)：請勿使用 guideposts 來循序執行查詢。

-   [PHOENIX-3112](https://issues.apache.org/jira/browse/PHOENIX-3112)：未正確處理部分資料列掃描。

-   [PHOENIX-3240](https://issues.apache.org/jira/browse/PHOENIX-3240)：Pig 載入器發生 ClassCastException。

-   [PHOENIX-3452](https://issues.apache.org/jira/browse/PHOENIX-3452)：NULLS FIRST/NULL LAST 應該不會影響 GROUP BY 是否順序保留。

-   [PHOENIX-3469](https://issues.apache.org/jira/browse/PHOENIX-3469)：NULLS LAST/NULLS FIRST 的 DESC 主要金鑰排序次序錯誤。

-   [PHOENIX-3789](https://issues.apache.org/jira/browse/PHOENIX-3789)：在 postBatchMutateIndispensably 中執行跨區域索引維護呼叫。

-   [PHOENIX-3865](https://issues.apache.org/jira/browse/PHOENIX-3865)：未針對第一個資料行系列進行篩選時，IS NULL 不會傳回正確的結果。

-   [PHOENIX-4290](https://issues.apache.org/jira/browse/PHOENIX-4290)：若資料表具有固定索引，則會對 DELETE 執行完整的資料表掃描。

-   [PHOENIX-4373](https://issues.apache.org/jira/browse/PHOENIX-4373)：本機索引可變長度索引鍵在更新插入時可以有尾端 null。

-   [PHOENIX-4466](https://issues.apache.org/jira/browse/PHOENIX-4466)：java.lang.RuntimeException：回應碼 500 - 執行 spark 作業以連線到 phoenix 查詢伺服器和載入資料。

-   [PHOENIX-4489](https://issues.apache.org/jira/browse/PHOENIX-4489)：Phoenix MR 作業中發生 HBase 連線流失。

-   [PHOENIX-4525](https://issues.apache.org/jira/browse/PHOENIX-4525)：GroupBy 執行中發生整數溢位。

-   [PHOENIX-4560](https://issues.apache.org/jira/browse/PHOENIX-4560)：如果 pk 資料行上有 WHERE，ORDER BY 就無法與 GROUP BY 搭配使用。

-   [PHOENIX-4586](https://issues.apache.org/jira/browse/PHOENIX-4586)：UPSERT SELECT 不會對子查詢考量比較運算子。

-   [PHOENIX-4588](https://issues.apache.org/jira/browse/PHOENIX-4588)：如果其子系有 Determinism.PER\_INVOCATION，則也複製運算式。

#### <a name="pig"></a>Pig

此版本為 Pig 0.16.0 提供下列 Apache 修補程式。

-   [PIG-5159](https://issues.apache.org/jira/browse/PIG-5159)：修正 Pig 不會儲存 Grunt 記錄。

-   [PIG-5175](https://issues.apache.org/jira/browse/PIG-5175)：將 jruby 升級至 1.7.26。

#### <a name="ranger"></a>Ranger

此版本提供 Ranger 0.7.0 和下列 Apache 修補程式：

-   [RANGER-1805](https://issues.apache.org/jira/browse/RANGER-1805)：改進程式碼以遵循 js 中的最佳做法。

-   [RANGER-1960](https://issues.apache.org/jira/browse/RANGER-1960)：將快照集的資料表名稱列入刪除考量中。

-   [RANGER-1982](https://issues.apache.org/jira/browse/RANGER-1982)：Ranger 系統管理員和 Ranger KMS 的分析計量錯誤改進。

-   [RANGER-1984](https://issues.apache.org/jira/browse/RANGER-1984)：HBase 稽核記錄記錄可能不會顯示與訪問列關聯的所有標記。

-   [RANGER-1988](https://issues.apache.org/jira/browse/RANGER-1988)：修正不安全的隨機性。

-   [RANGER-1990](https://issues.apache.org/jira/browse/RANGER-1990)：在 Ranger 系統管理員中新增單向 SSL MySQL 支援。

-   [RANGER-2006](https://issues.apache.org/jira/browse/RANGER-2006)：修正靜態程式碼分析在 ranger usersync 中所偵測到的 ldap 同步來源問題。

-   [RANGER-2008](https://issues.apache.org/jira/browse/RANGER-2008)：多行原則條件的原則評估會失敗。

#### <a name="slider"></a>滑桿

此版本並未對 Slider 0.92.0 提供其他 Apache 修補程式。

#### <a name="spark"></a>Spark

此版本提供 Spark 2.3.0 和下列 Apache 修補程式：

-   [SPARK-13587](https://issues.apache.org/jira/browse/SPARK-13587)：在 pyspark 中支援 virtualenv。

-   [SPARK-19964](https://issues.apache.org/jira/browse/SPARK-19964)：在 SparkSubmitSuite 中避免讀取遠端存放庫。

-   [SPARK-22882](https://issues.apache.org/jira/browse/SPARK-22882)：結構化串流的 ML 測試：ml.classification。

-   [SPARK-22915](https://issues.apache.org/jira/browse/SPARK-22915)：spark.ml.feature 的串流測試，從 N 到 Z。

-   [SPARK-23020](https://issues.apache.org/jira/browse/SPARK-23020)：修正同處理序啟動器測試中的另一個競爭。

-   [SPARK-23040](https://issues.apache.org/jira/browse/SPARK-23040)：傳回隨機讀取器的可中斷迭代器。

-   [SPARK-23173](https://issues.apache.org/jira/browse/SPARK-23173)：避免在從 JSON 載入資料時建立損毀的 parquet 檔案。

-   [SPARK-23264](https://issues.apache.org/jira/browse/SPARK-23264)：修正 literals.sql.out 中的 scala.MatchError。

-   [SPARK-23288](https://issues.apache.org/jira/browse/SPARK-23288)：修正具有 parquet 接收的輸出計量。

-   [SPARK-23329](https://issues.apache.org/jira/browse/SPARK-23329)：修正三角運算函式的文件。

-   [SPARK-23406](https://issues.apache.org/jira/browse/SPARK-23406)：啟用 branch-2.3 的 stream-stream 自我聯結。

-   [SPARK-23434](https://issues.apache.org/jira/browse/SPARK-23434)：Spark 不應該對 HDFS 檔案路徑發出 \`metadata directory\` 警告。

-   [SPARK-23436](https://issues.apache.org/jira/browse/SPARK-23436)：僅當分區可以強制轉換為日期時，才推斷為日期。

-   [SPARK-23457](https://issues.apache.org/jira/browse/SPARK-23457)：先在 ParquetFileFormat 中註冊工作完成接聽程式。

-   [SPARK-23462](https://issues.apache.org/jira/browse/SPARK-23462)：改善 \`StructType\` 中的遺漏欄位錯誤訊息。

-   [SPARK-23490](https://issues.apache.org/jira/browse/SPARK-23490)：使用 CreateTable 中的現有資料表檢查 storage.locationUri。

-   [SPARK-23524](https://issues.apache.org/jira/browse/SPARK-23524)：不應檢查大型的本機隨機區塊是否有損毀。

-   [SPARK-23525](https://issues.apache.org/jira/browse/SPARK-23525)：針對外部 hive 資料表支援 ALTER TABLE CHANGE COLUMN COMMENT。

-   [SPARK-23553](https://issues.apache.org/jira/browse/SPARK-23553)：測試不應該採用 \`spark.sql.sources.default\` 的預設值。

-   [SPARK-23569](https://issues.apache.org/jira/browse/SPARK-23569)：允許 pandas\_udf 與 python3 樣式型別標註的函式搭配運作。

-   [SPARK-23570](https://issues.apache.org/jira/browse/SPARK-23570)：在 HiveExternalCatalogVersionsSuite 中新增 Spark 2.3.0。

-   [SPARK-23598](https://issues.apache.org/jira/browse/SPARK-23598)：讓 BufferedRowIterator 中的方法公開，以避免大型查詢發生執行階段錯誤。

-   [SPARK-23599](https://issues.apache.org/jira/browse/SPARK-23599)：從虛擬隨機數字新增 UUID 產生器。

-   [SPARK-23599](https://issues.apache.org/jira/browse/SPARK-23599)：在 Uuid 運算式中使用 RandomUUIDGenerator。

-   [SPARK-23601](https://issues.apache.org/jira/browse/SPARK-23601)：從版本中移除 .md5 檔案。

-   [SPARK-23608](https://issues.apache.org/jira/browse/SPARK-23608)：在 attachSparkUI 和 detachSparkUI 函式之間的 SHS 中新增同步處理，以避免 Jetty 處理常式發生並行修改問題。

-   [SPARK-23614](https://issues.apache.org/jira/browse/SPARK-23614)：修正使用快取時的不正確重複使用交換。

-   [SPARK-23623](https://issues.apache.org/jira/browse/SPARK-23623)：避免在 CachedKafkaConsumer (branch-2.3) 中同時使用快取的取用者。

-   [SPARK-23624](https://issues.apache.org/jira/browse/SPARK-23624)：修訂 Datasource V2 中方法 pushFilters 的文件。

-   [SPARK-23628](https://issues.apache.org/jira/browse/SPARK-23628)：calculateParamLength 不應傳回 1 + 運算式數目。

-   [SPARK-23630](https://issues.apache.org/jira/browse/SPARK-23630)：允許使用者的 hadoop conf 自訂生效。

-   [SPARK-23635](https://issues.apache.org/jira/browse/SPARK-23635)：Spark 執行程式的環境變數會由相同名稱的 AM 環境變數覆寫。

-   [SPARK-23637](https://issues.apache.org/jira/browse/SPARK-23637)：如果終止相同的執行程式多次，Yarn 可能會配置更多資源。

-   [SPARK-23639](https://issues.apache.org/jira/browse/SPARK-23639)：在 SparkSQL CLI 中的 init 中繼存放區用戶端之前取得權杖。

-   [SPARK-23642](https://issues.apache.org/jira/browse/SPARK-23642)：AccumulatorV2 子類別 isZero scaladoc 修正。

-   [SPARK-23644](https://issues.apache.org/jira/browse/SPARK-23644)：在 SHS 中對 REST 呼叫使用絕對路徑。

-   [SPARK-23645](https://issues.apache.org/jira/browse/SPARK-23645)：新增具有關鍵字引數的文件 RE \`pandas\_udf\`。

-   [SPARK-23649](https://issues.apache.org/jira/browse/SPARK-23649)：略過 UTF-8 中不允許的字元。

-   [SPARK-23658](https://issues.apache.org/jira/browse/SPARK-23658)：InProcessAppHandle 在 getLogger 中使用錯誤的類別。

-   [SPARK-23660](https://issues.apache.org/jira/browse/SPARK-23660)：修正應用程式快速結束時，yarn 叢集模式中的例外狀況。

-   [SPARK-23670](https://issues.apache.org/jira/browse/SPARK-23670)：修正 SparkPlanGraphWrapper 上的記憶體流失。

-   [SPARK-23671](https://issues.apache.org/jira/browse/SPARK-23671)：修正條件以啟用 SHS 執行緒集區。

-   [SPARK-23691](https://issues.apache.org/jira/browse/SPARK-23691)：盡可能在 PySpark 測試中使用 sql\_conf util。

-   [SPARK-23695](https://issues.apache.org/jira/browse/SPARK-23695)：修正 Kinesis 串流測試的錯誤訊息。

-   [SPARK-23706](https://issues.apache.org/jira/browse/SPARK-23706)：spark.conf.get(value, default=None) 不應該在 PySpark 中產生任何值。

-   [SPARK-23728](https://issues.apache.org/jira/browse/SPARK-23728)：修正 ML 測試在執行串流測試時預期會發生例外狀況的問題。

-   [SPARK-23729](https://issues.apache.org/jira/browse/SPARK-23729)：解析 glob 時遵守 URI 片段。

-   [SPARK-23759](https://issues.apache.org/jira/browse/SPARK-23759)：無法將 Spark UI 繫結至特定的主機名稱/IP。

-   [SPARK-23760](https://issues.apache.org/jira/browse/SPARK-23760)：CodegenContext.withSubExprEliminationExprs 應該會正確地儲存/還原 CSE 狀態。

-   [SPARK-23769](https://issues.apache.org/jira/browse/SPARK-23769)：移除會不必要地停用 Scalastyle 檢查的註解。

-   [SPARK-23788](https://issues.apache.org/jira/browse/SPARK-23788)：修正 StreamingQuerySuite 中的競爭。

-   [SPARK-23802](https://issues.apache.org/jira/browse/SPARK-23802)：PropagateEmptyRelation 會讓查詢計劃停留在未解決的狀態。

-   [SPARK-23806](https://issues.apache.org/jira/browse/SPARK-23806)：Broadcast.unpersist 可能會在搭配動態配置來使用時，造成嚴重的例外狀況。

-   [SPARK-23808](https://issues.apache.org/jira/browse/SPARK-23808)：在僅限測試 spark 工作階段中設定預設的 Spark 工作階段。

-   [SPARK-23809](https://issues.apache.org/jira/browse/SPARK-23809)：作用中的 SparkSession 應該由 getOrCreate 設定。

-   [SPARK-23816](https://issues.apache.org/jira/browse/SPARK-23816)：已終止的工作應該會忽略 FetchFailures。

-   [SPARK-23822](https://issues.apache.org/jira/browse/SPARK-23822)：改善 Parquet 結構描述不符的錯誤訊息。

-   [SPARK-23823](https://issues.apache.org/jira/browse/SPARK-23823)：在 transformExpression 中保留原始值。

-   [SPARK-23827](https://issues.apache.org/jira/browse/SPARK-23827)：StreamingJoinExec 應該確定輸入資料會分割成特定數目的資料分割。

-   [SPARK-23838](https://issues.apache.org/jira/browse/SPARK-23838)：在 SQL 索引標籤中，執行 SQL 查詢會顯示為「已完成」。

-   [SPARK-23881](https://issues.apache.org/jira/browse/SPARK-23881)：修正不穩定測試 JobCancellationSuite。「隨機讀取器的可中斷迭代器」。

#### <a name="sqoop"></a>Sqoop

此版本並未對 Sqoop 1.4.6 提供其他 Apache 修補程式。

#### <a name="storm"></a>Storm

此版本提供 Storm 1.1.1 和下列 Apache 修補程式：

-   [STORM-2652](https://issues.apache.org/jira/browse/STORM-2652)：JmsSpout open 方法擲回例外狀況。

-   [STORM-2841](https://issues.apache.org/jira/browse/STORM-2841)：testNoAcksIfFlushFails UT 失敗，並發生 NullPointerException。

-   [STORM-2854](https://issues.apache.org/jira/browse/STORM-2854)：公開 IEventLogger 以讓事件記錄可隨插即用。

-   [STORM-2870](https://issues.apache.org/jira/browse/STORM-2870)：FileBasedEventLogger 流失非精靈 ExecutorService，導致處理序無法完成。

-   [STORM-2960](https://issues.apache.org/jira/browse/STORM-2960)：最好要強調為 Storm 處理序設定正確作業系統帳戶的重要性。

#### <a name="tez"></a>Tez

此版本提供 Tez 0.7.0 和下列 Apache 修補程式：

-   [TEZ-1526](https://issues.apache.org/jira/browse/TEZ-1526)：大型作業針對 TezTaskID 的 LoadingCache 很慢。

#### <a name="zeppelin"></a>Zeppelin

此版本並未對 Zeppelin 0.7.3 提供其他 Apache 修補程式。

-   [ZEPPELIN-3072](https://issues.apache.org/jira/browse/ZEPPELIN-3072)：如果 notebook 太多，Zeppelin UI 會變得緩慢/沒有回應。

-   [ZEPPELIN-3129](https://issues.apache.org/jira/browse/ZEPPELIN-3129)：Zeppelin UI 不會在 IE 中登出。

-   [ZEPPELIN-903](https://issues.apache.org/jira/browse/ZEPPELIN-903)：以 Jersey2 取代 CXF。

#### <a name="zookeeper"></a>ZooKeeper

此版本提供 ZooKeeper 3.4.6 和下列 Apache 修補程式：

-   [ZOOKEEPER-1256](https://issues.apache.org/jira/browse/ZOOKEEPER-1256)：ClientPortBindTest 在 Mac OS X 上會失敗。

-   [ZOOKEEPER-1901](https://issues.apache.org/jira/browse/ZOOKEEPER-1901) \[： JDK8\]排序子項，用於在非同步測試中進行比較。

-   [ZOOKEEPER-2423](https://issues.apache.org/jira/browse/ZOOKEEPER-2423)：因為有安全性弱點 (CVE-2014-3488)，所以升級 Netty 版本。

-   [ZOOKEEPER-2693](https://issues.apache.org/jira/browse/ZOOKEEPER-2693)：針對 wchp/wchc 四字母字組 (4lw) 的 DOS 攻擊。

-   [ZOOKEEPER-2726](https://issues.apache.org/jira/browse/ZOOKEEPER-2726)：針對導入潛在競爭條件的修補程式。

### <a name="fixed-common-vulnerabilities-and-exposures"></a>修正常見弱點與漏洞

本節涵蓋這一版所解決的所有常見弱點與漏洞 (CVE)。

#### <a name="cve-2017-7676"></a>**CVE-2017-7676**

| **摘要：** Apache Ranger 原則評估會忽略 '\*' 萬用字元之後的字元 |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **嚴重性：** 關鍵                                                                           |
| **廠商：** Hortonworks                                                                          |
| **受影響的版本：** HDInsight 3.6 版本，包含 Apache Ranger 0.5.x/0.6.x/0.7.0 版     |
| **受影響的使用者：** 所使用的 Ranger 原則在 '\*' 萬用字元之後有字元的環境 – 例如 my\*test、test\*.txt |
| **影響：** 原則資源比對器會忽略 '\*' 萬用字元之後的字元，而導致非預期的行為。      |
| **修正詳細資料：** Ranger 原則資源比對器已更新為會正確處理萬用字元相符項目。           |
| **建議動作：** 升級至 HDI 3.6 (含 Apache Ranger 0.7.1+)。                                |

### <a name="cve-2017-7677"></a>**CVE-2017-7677**

| **摘要：** 在指定了外部位置時，Apache Ranger Hive 授權者應檢查有無 RWX 權限 |
|--------------------------------------------------------------------------------------------------|
| **嚴重性：** 關鍵                                                                           |
| **廠商：** Hortonworks                                                                          |
| **受影響的版本：** HDInsight 3.6 版本，包含 Apache Ranger 0.5.x/0.6.x/0.7.0 版 |
| **受影響的使用者：** 對 hive 資料表使用外部位置的環境 |
| **影響：** 在對 hive 資料表使用外部位置的環境中，Apache Ranger Hive 授權者應該檢查是否有指定用於建立資料表的外部位置 RWX 權限。 |
| **修正詳細資料：** Ranger Hive 授權者已更新為會正確地處理外部位置的權限檢查。 |
| **建議動作：** 使用者應升級至 HDI 3.6 (含 Apache Ranger 0.7.1+)。 |

#### <a name="cve-2017-9799"></a>**CVE-2017-9799**

| **摘要：** 在 Apache Storm 中，可能會以錯誤使用者身分執行程式碼 |
|--------------------------------------------------------------------------------------------------|
|**嚴重性：** 重要 |
| **廠商：** Hortonworks |
| **受影響的版本：** HDP 2.4.0、HDP-2.5.0、HDP-2.6.0 |
| **受影響的使用者：** 在安全模式中使用 Storm ，並使用 blobstore 散發拓撲型成品，或使用 blobstore 散發任何拓撲資源的使用者。 |
| **影響：** 理論上，在某些情況和 storm 的組態下，拓撲的擁有者可以誘騙監督員以不同的非根使用者身分啟動背景工作角色。 在最糟糕的情況下，這可能會導致其他使用者的安全認證受到危害。 這項弱點僅適用於已啟用安全性的 Apache Storm 安裝。 |
| **風險降低：** 升級至 HDP-2.6.2.1，因為目前沒有因應措施。  |

#### <a name="cve-2016-4970"></a>**CVE-2016-4970**

| **摘要：** Netty 4.0.x (4.0.37.Final 之前) 和 4.1.x (4.1.1.Final 之前) 中的 handler/ssl/OpenSslEngine.java 可讓遠端攻擊者造成拒絕服務 (無限迴圈) |
|--------------------------------------------------------------------------------------------------|
| **嚴重性：** 中度  |
| **廠商：** Hortonworks  |
| **受影響的版本：** HDP 2.x.x (自 2.3.x 起)  |
| **受影響的使用者：** 使用 HDFS 的所有使用者。 |
| **影響：** 影響不大，因為 Hortonworks 不會直接在 Hadoop 程式碼基底中使用 OpenSslEngine.java。     |
| **建議動作：** 升級至 HDP 2.6.3。   |

#### <a name="cve-2016-8746"></a>**CVE-2016-8746**

| **摘要：** 原則評估中有 Apache Ranger 路徑比對問題                                                                    |
|----------------------------------------------------------------------------------------------------------------------------------------|
| **嚴重性：** 一般                                                                                                                   |
| **廠商：** Hortonworks                                                                                                                |
| **受影響的版本：** 所有 HDP 2.5 版本，包含 Apache Ranger 0.6.0/0.6.1/0.6.2 版                                         |
| **受影響的使用者：** Ranger 原則管理工具的所有使用者。                                                                         |
| **影響：** 在某些情況下，當原則包含萬用字元和遞迴旗標時，Ranger 原則引擎不會正確地比對路徑。 |
| **修正詳細資料：** 已修正原則評估邏輯                                                                                          |
| **建議動作：** 使用者應升級至 HDP 2.5.4+ (含 Apache Ranger 0.6.3+) 或 HDP 2.6+ (含 Apache Ranger 0.7.0+)         |

#### <a name="cve-2016-8751"></a>**CVE-2016-8751**

| **摘要：** Apache Ranger 的預存跨網站指令碼問題  |
|--------------------------------------------------------------------------------------------------|
| **嚴重性：** 一般 |
| **廠商：** Hortonworks |
| **受影響的版本：** 所有 HDP 2.3/2.4/2.5 版本，包含 Apache Ranger 0.5.x/0.6.0/0.6.1/0.6.2 版  |
| **受影響的使用者：** Ranger 原則管理工具的所有使用者。 |
| **影響：** 在輸入自訂原則條件時，Apache Ranger 很容易受到預存跨網站指令碼的攻擊。 管理使用者可以在一般使用者登入和存取原則時，儲存某些任意的 javascript 程式碼執行。 |
| **修正詳細資料：** 已新增邏輯來處理使用者輸入。  |
| **建議動作：** 使用者應升級至 HDP 2.5.4+ (含 Apache Ranger 0.6.3+) 或 HDP 2.6+ (含 Apache Ranger 0.7.0+)  |

### <a name="fixed-issues-for-support"></a>支援的已修正問題

已修正的問題代表先前透過 Hortonworks 支援所記錄，但現在已在目前版本中解決的選定問題。 這些問題可能已回報到先前版本的＜已知問題＞區段；這表示客戶已報告過這些問題，或 Hortonworks 品質工程小組已識別這些問題。

**不正確的結果**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                                                                                                                                                                | **摘要**                                                                                                            |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| BUG-100019             | [YARN-8145](https://issues.apache.org/jira/browse/YARN-8145)                                                                                                                                                                                                                   | yarn rmadmin -getGroups 不會傳回使用者的已更新群組                                                         |
| BUG-100058             | [PHOENIX-2645](https://issues.apache.org/jira/browse/PHOENIX-2645)                                                                                                                                                                                                             | 萬用字元不符合新行字元                                                                    |
| BUG-100266             | [PHOENIX-3521](https://issues.apache.org/jira/browse/PHOENIX-3521)、 [PHOENIX-4190](https://issues.apache.org/jira/browse/PHOENIX-4190)                                                                                                                                         | 本機索引的結果錯誤                                                                                       |
| BUG-88774              | [HIVE-17617](https://issues.apache.org/jira/browse/HIVE-17617)、 [HIVE-18413](https://issues.apache.org/jira/browse/HIVE-18413)、 [HIVE-18523](https://issues.apache.org/jira/browse/HIVE-18523)                                                                                 | query36 失敗，資料列計數不符                                                                                    |
| BUG-89765              | [HIVE-17702](https://issues.apache.org/jira/browse/HIVE-17702)                                                                                                                                                                                                                 | ORC 中的十進位讀取器有不正確的 isRepeating 處理                                                                |
| BUG-92293              | [哈達普-15042](https://issues.apache.org/jira/browse/HADOOP-15042)                                                                                                                                                                                                             | Azure PageBlobInputStream.skip() 可在 numberOfPagesRemaining 為 0 時傳回負值                            |
| BUG-92345              | [ATLAS-2285](https://issues.apache.org/jira/browse/ATLAS-2285)                                                                                                                                                                                                                 | UI：已使用日期屬性重新命名已儲存的搜尋。                                                                         |
| BUG-92563              | [HIVE-17495](https://issues.apache.org/jira/browse/HIVE-17495)、 [HIVE-18528](https://issues.apache.org/jira/browse/HIVE-18528)                                                                                                                                                 | 彙總 ObjectStore 中的統計資料會得到錯誤的結果                                                                        |
| BUG-92957              | [HIVE-11266](https://issues.apache.org/jira/browse/HIVE-11266)                                                                                                                                                                                                                 | count(\*) 會根據外部資料表的資料表統計資料，產生錯誤的結果                                                   |
| BUG-93097              | [RANGER-1944](https://issues.apache.org/jira/browse/RANGER-1944)                                                                                                                                                                                                               | 系統管理員稽核的動作篩選條件沒有作用                                                                           |
| BUG-93335              | [HIVE-12315](https://issues.apache.org/jira/browse/HIVE-12315)                                                                                                                                                                                                                 | vectorization\_short\_regress.q 的雙精度浮點數計算有錯誤結果的問題                                      |
| BUG-93415              | [HIVE 18258](https://issues.apache.org/jira/browse/HIVE-18258)、 [HIVE 18310](https://issues.apache.org/jira/browse/HIVE-18310)                                                                                                                                                 | 向量化：具有重複資料行的 Reduce-Side GROUP BY MERGEPARTIAL 會中斷                                      |
| BUG-93939              | [ATLAS-2294](https://issues.apache.org/jira/browse/ATLAS-2294)                                                                                                                                                                                                                 | 在建立類型時新增了額外的參數 "description"                                                               |
| BUG-94007              | [PHOENIX 1751](https://issues.apache.org/jira/browse/PHOENIX-1751)、 [PHOENIX 3112](https://issues.apache.org/jira/browse/PHOENIX-3112)                                                                                                                                         | Phoenix 查詢會傳回 Null 值，因為 HBase 部分資料列                                                          |
| BUG-94266              | [HIVE-12505](https://issues.apache.org/jira/browse/HIVE-12505)                                                                                                                                                                                                                 | 在相同加密區域以無訊息方式插入覆寫時，無法移除某些現有檔案                                   |
| BUG-94414              | [HIVE-15680](https://issues.apache.org/jira/browse/HIVE-15680)                                                                                                                                                                                                                 | 當 hive.optimize.index.filter=true 且查詢參考了相同的 ORC 資料表兩次時，會產生不正確的結果                 |
| BUG-95048              | [HIVE-18490](https://issues.apache.org/jira/browse/HIVE-18490)                                                                                                                                                                                                                 | 具有 EXISTS 和 NOT EXISTS 與不相等述詞的查詢會產生錯誤的結果                                      |
| BUG-95053              | [費尼克斯-3865](https://issues.apache.org/jira/browse/PHOENIX-3865)                                                                                                                                                                                                             | 未針對第一個資料行系列進行篩選時，IS NULL 不會傳回正確的結果                                  |
| BUG-95476              | [RANGER-1966](https://issues.apache.org/jira/browse/RANGER-1966)                                                                                                                                                                                                               | 原則引擎初始化不會在某些情況下建立內容擴充程式                                           |
| BUG-95566              | [SPARK-23281](https://issues.apache.org/jira/browse/SPARK-23281)                                                                                                                                                                                                               | 複合 order by 子句同時參考原始資料行和別名時，查詢會以不正確的順序產生結果 |
| BUG-95907              | [PHOENIX 3451](https://issues.apache.org/jira/browse/PHOENIX-3451)、 [PHOENIX 3452](https://issues.apache.org/jira/browse/PHOENIX-3452)、 [PHOENIX 3469](https://issues.apache.org/jira/browse/PHOENIX-3469)、 [PHOENIX 4560](https://issues.apache.org/jira/browse/PHOENIX-4560) | 修正查詢具有彙總時 ORDER BY ASC 的問題                                                             |
| BUG-96389              | [PHOENIX-4586](https://issues.apache.org/jira/browse/PHOENIX-4586)                                                                                                                                                                                                             | UPSERT SELECT 不會對子查詢考量比較運算子。                                             |
| BUG-96602              | [HIVE-18660](https://issues.apache.org/jira/browse/HIVE-18660)                                                                                                                                                                                                                 | PCR 無法區別資料分割和虛擬資料行                                                          |
| BUG-97686              | [ATLAS-2468](https://issues.apache.org/jira/browse/ATLAS-2468)                                                                                                                                                                                                                 | \[基本搜尋\] NEQ 與數值類型搭配使用時 OR 案例的問題                                               |
| BUG-97708              | [HIVE-18817](https://issues.apache.org/jira/browse/HIVE-18817)                                                                                                                                                                                                                 | 讀取 ACID 資料表期間，發生 ArrayIndexOutOfBounds 例外狀況。                                                             |
| BUG-97864              | [HIVE-18833](https://issues.apache.org/jira/browse/HIVE-18833)                                                                                                                                                                                                                 | 「插入目錄中作為 orcfile」時，自動合併會失敗                                                               |
| BUG-97889              | [RANGER-2008](https://issues.apache.org/jira/browse/RANGER-2008)                                                                                                                                                                                                               | 多行原則條件的原則評估會失敗。                                                          |
| BUG-98655              | [RANGER-2066](https://issues.apache.org/jira/browse/RANGER-2066)                                                                                                                                                                                                               | HBase 列系列訪問由列系列中的標記列授權                                       |
| BUG-99883              | [HIVE-19073](https://issues.apache.org/jira/browse/HIVE-19073)、 [HIVE-19145](https://issues.apache.org/jira/browse/HIVE-19145)                                                                                                                                                 | StatsOptimizer 可能會弄亂常數資料行                                                                             |

**其他**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                        | **摘要**                                                                                                                                |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| BUG-100267             | [HBASE-17170](https://issues.apache.org/jira/browse/HBASE-17170)                                                                       | 因為類別載入器的差異，HBase 也會嘗試 DoNotRetryIOException。                                                          |
| BUG-92367              | [YARN-7558](https://issues.apache.org/jira/browse/YARN-7558)                                                                           | 如果啟用 UI 驗證，"yarn logs" 命令將無法取得執行中容器的記錄。                                              |
| BUG-93159              | [OOZIE-3139](https://issues.apache.org/jira/browse/OOZIE-3139)                                                                         | Oozie 不會正確地驗證工作流程                                                                                                       |
| BUG-93936              | [ATLAS-2289](https://issues.apache.org/jira/browse/ATLAS-2289)                                                                         | 內嵌的 kafka/zookeeper 伺服器會啟動/停止要移出 KafkaNotification 實作的程式碼                                        |
| BUG-93942              | [ATLAS-2312](https://issues.apache.org/jira/browse/ATLAS-2312)                                                                         | 使用 ThreadLocal DateFormat 物件以避免從多個執行緒同時使用                                                         |
| BUG-93946              | [ATLAS-2319](https://issues.apache.org/jira/browse/ATLAS-2319)                                                                         | UI：在單層式和樹狀結構中刪除標記清單內有 25 個以上位置的標記時，必須先重新整理才能從清單中移除該標記。 |
| BUG-94618              | [YARN 5037](https://issues.apache.org/jira/browse/YARN-5037)、 [YARN 7274](https://issues.apache.org/jira/browse/YARN-7274)             | 能夠在分葉佇列層級停用彈性                                                                                          |
| BUG-94901              | [HBASE-19285](https://issues.apache.org/jira/browse/HBASE-19285)                                                                       | 新增每一資料表的延遲長條圖                                                                                                           |
| BUG-95259              | [HADOOP 15185](https://issues.apache.org/jira/browse/HADOOP-15185)、 [HADOOP 15186](https://issues.apache.org/jira/browse/HADOOP-15186) | 更新 adls 連接器以使用 ADLS SDK 的目前版本                                                                               |
| BUG-95619              | [HIVE-18551](https://issues.apache.org/jira/browse/HIVE-18551)                                                                         | 向量化：VectorMapOperator 嘗試為 Hybrid Grace 寫入太多向量資料行                                                   |
| BUG-97223              | [SPARK-23434](https://issues.apache.org/jira/browse/SPARK-23434)                                                                       | Spark 不應該對 HDFS 檔案路徑發出 \`metadata directory\` 警告                                                                          |

**效能**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                                                                                                                                                                                                                                                                                                                                                              | **摘要**                                                                                                                         |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| BUG-83282              | [HBASE-13376](https://issues.apache.org/jira/browse/HBASE-13376)、 [HBASE-14473](https://issues.apache.org/jira/browse/HBASE-14473)、 [HBASE-15210](https://issues.apache.org/jira/browse/HBASE-15210)、 [HBASE-15515](https://issues.apache.org/jira/browse/HBASE-15515)、 [HBASE-16570](https://issues.apache.org/jira/browse/HBASE-16570)、 [HBASE-16810](https://issues.apache.org/jira/browse/HBASE-16810)、 [HBASE-18164](https://issues.apache.org/jira/browse/HBASE-18164) | 在平衡器中快速計算位置                                                                                               |
| BUG-91300              | [HBASE-17387](https://issues.apache.org/jira/browse/HBASE-17387)                                                                                                                                                                                                                                                                                                                                                                                                             | 減少 RegionActionResult 中針對 multi() 的例外狀況報告額外負荷                                                           |
| BUG-91804              | [TEZ-1526](https://issues.apache.org/jira/browse/TEZ-1526)                                                                                                                                                                                                                                                                                                                                                                                                                   | 大型作業針對 TezTaskID 的 LoadingCache 很慢                                                                                      |
| BUG-92760              | [ACCUMULO-4578](https://issues.apache.org/jira/browse/ACCUMULO-4578)                                                                                                                                                                                                                                                                                                                                                                                                         | 取消壓縮 FATE 作業不會釋放命名空間鎖定                                                                    |
| BUG-93577              | [RANGER-1938](https://issues.apache.org/jira/browse/RANGER-1938)                                                                                                                                                                                                                                                                                                                                                                                                             | 稽核設定的 Solr 不會有效地使用 DocValues                                                                              |
| BUG-93910              | [HIVE-18293](https://issues.apache.org/jira/browse/HIVE-18293)                                                                                                                                                                                                                                                                                                                                                                                                               | 若資料夾不是由執行 HiveMetaStore 的身分識別所擁有的，Hive 就無法壓縮該資料夾內所包含的資料表                     |
| BUG-94345              | [HIVE-18429](https://issues.apache.org/jira/browse/HIVE-18429)                                                                                                                                                                                                                                                                                                                                                                                                               | 壓縮應該處理未產生任何輸出時的案例                                                                          |
| BUG-94381              | [HADOOP-13227](https://issues.apache.org/jira/browse/HADOOP-13227)、 [HDFS-13054](https://issues.apache.org/jira/browse/HDFS-13054)                                                                                                                                                                                                                                                                                                                                           | 處理 RequestHedgingProxyProvider RetryAction 順序：FAIL &lt; RETRY &lt; FAILOVER\_AND\_RETRY。                                  |
| BUG-94432              | [HIVE-18353](https://issues.apache.org/jira/browse/HIVE-18353)                                                                                                                                                                                                                                                                                                                                                                                                               | CompactorMR 應該呼叫 jobclient.close() 以觸發清除                                                                        |
| BUG-94869              | [PHOENIX 4290](https://issues.apache.org/jira/browse/PHOENIX-4290)、 [PHOENIX 4373](https://issues.apache.org/jira/browse/PHOENIX-4373)                                                                                                                                                                                                                                                                                                                                       | 所要求的資料列不在本機索引 salt 處理的 phoenix 資料表 Get on HRegion 範圍內。                                               |
| BUG-94928              | [HDFS-11078](https://issues.apache.org/jira/browse/HDFS-11078)                                                                                                                                                                                                                                                                                                                                                                                                               | 修正 LazyPersistFileScrubber 中的 NPE                                                                                                  |
| BUG-94964              | [HIVE 18269](https://issues.apache.org/jira/browse/HIVE-18269)、 [HIVE 18318](https://issues.apache.org/jira/browse/HIVE-18318)、 [HIVE 18326](https://issues.apache.org/jira/browse/HIVE-18326)                                                                                                                                                                                                                                                                               | 多個 LLAP 修正                                                                                                                 |
| BUG-95669              | [HIVE-18577](https://issues.apache.org/jira/browse/HIVE-18577)、 [HIVE-18643](https://issues.apache.org/jira/browse/HIVE-18643)                                                                                                                                                                                                                                                                                                                                               | 在 ACID 資料分割資料表上執行更新/刪除查詢時，HS2 會將每個資料分割全都讀取一遍。                                               |
| BUG-96390              | [HDFS-10453](https://issues.apache.org/jira/browse/HDFS-10453)                                                                                                                                                                                                                                                                                                                                                                                                               | 因為大型叢集內相同檔案的複寫與刪除之間發生競爭，ReplicationMonitor 執行緒可能會停滯很長的時間。 |
| BUG-96625              | [HIVE-16110](https://issues.apache.org/jira/browse/HIVE-16110)                                                                                                                                                                                                                                                                                                                                                                                                               | "Vectorization: Support 2 Value CASE WHEN instead of fall back to VectorUDFAdaptor" 的還原                                       |
| BUG-97109              | [HIVE-16757](https://issues.apache.org/jira/browse/HIVE-16757)                                                                                                                                                                                                                                                                                                                                                                                                               | 使用已淘汰的 getRows() 而不是新的 estimateRowCount(RelMetadataQuery...) 會有嚴重的效能影響                      |
| BUG-97110              | [費尼克斯-3789](https://issues.apache.org/jira/browse/PHOENIX-3789)                                                                                                                                                                                                                                                                                                                                                                                                           | 在 postBatchMutateIndispensably 中執行跨區域索引維護呼叫                                                        |
| BUG-98833              | [YARN-6797](https://issues.apache.org/jira/browse/YARN-6797)                                                                                                                                                                                                                                                                                                                                                                                                                 | TimelineWriter 不會完全取用 POST 回應                                                                             |
| BUG-98931              | [ATLAS-2491](https://issues.apache.org/jira/browse/ATLAS-2491)                                                                                                                                                                                                                                                                                                                                                                                                               | 更新 Hive 掛勾以使用 Atlas v2 通知                                                                                      |

**可能遺失資料**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                  | **摘要**                                                       |
|------------------------|------------------------------------------------------------------|-------------------------------------------------------------------|
| BUG-95613              | [HBASE-18808](https://issues.apache.org/jira/browse/HBASE-18808) | BackupLogCleaner\#getDeletableFiles() 中的設定檢查無效 |
| BUG-97051              | [HIVE-17403](https://issues.apache.org/jira/browse/HIVE-17403)   | 非受控和交易式資料表的串連失敗         |
| BUG-97787              | [HIVE-18460](https://issues.apache.org/jira/browse/HIVE-18460)   | Compactor 不會將資料表屬性傳遞至 Orc 寫入器         |
| BUG-97788              | [HIVE-18613](https://issues.apache.org/jira/browse/HIVE-18613)   | 擴充 JsonSerDe 以支援 BINARY 類型                           |

**查詢失敗**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                        | **摘要**                                                                                            |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| BUG-100180             | [CALCITE-2232](https://issues.apache.org/jira/browse/CALCITE-2232)                                                                     | 調整彙總索引時 AggregatePullUpConstantsRule 上發生判斷提示錯誤                      |
| BUG-100422             | [HIVE-19085](https://issues.apache.org/jira/browse/HIVE-19085)                                                                         | FastHiveDecimal abs(0) 將正負號設定為 +ve                                                                |
| BUG-100834             | [PHOENIX-4658](https://issues.apache.org/jira/browse/PHOENIX-4658)                                                                     | IllegalStateException：無法在 ReversedKeyValueHeap 上呼叫 requestSeek                            |
| BUG-102078             | [HIVE-17978](https://issues.apache.org/jira/browse/HIVE-17978)                                                                         | TPCDS 查詢 58 和 83 會在向量化產生例外狀況。                                          |
| BUG-92483              | [HIVE-17900](https://issues.apache.org/jira/browse/HIVE-17900)                                                                         | 在由 Compactor 觸發的資料行上分析統計資料，會產生資料分割資料行 &gt; 1 個的錯誤格式 SQL   |
| BUG-93135              | [HIVE-15874](https://issues.apache.org/jira/browse/HIVE-15874)、 [HIVE-18189](https://issues.apache.org/jira/browse/HIVE-18189)         | 將 hive.groupby.orderby.position.alias 設為 true 時，Hive 查詢會傳回錯誤結果                |
| BUG-93136              | [HIVE-18189](https://issues.apache.org/jira/browse/HIVE-18189)                                                                         | cbo 停用時，無法依位置排序                                                   |
| BUG-93595              | [HIVE-12378](https://issues.apache.org/jira/browse/HIVE-12378)、 [HIVE-15883](https://issues.apache.org/jira/browse/HIVE-15883)         | Hive 插入中的 HBase 對應資料表在使用小數點和二進位資料行時會失敗                                  |
| BUG-94007              | [PHOENIX 1751](https://issues.apache.org/jira/browse/PHOENIX-1751)、 [PHOENIX 3112](https://issues.apache.org/jira/browse/PHOENIX-3112) | Phoenix 查詢會傳回 Null 值，因為 HBase 部分資料列                                          |
| BUG-94144              | [HIVE-17063](https://issues.apache.org/jira/browse/HIVE-17063)                                                                         | 將覆蓋分區插入外部表失敗，當首先放置分區時                        |
| BUG-94280              | [HIVE-12785](https://issues.apache.org/jira/browse/HIVE-12785)                                                                         | 檢視具有等位型別，且用於 \`cast\` 結構的 UDF 會中斷                                          |
| BUG-94505              | [費尼克斯-4525](https://issues.apache.org/jira/browse/PHOENIX-4525)                                                                     | GroupBy 執行中發生整數溢位                                                                  |
| BUG-95618              | [HIVE-18506](https://issues.apache.org/jira/browse/HIVE-18506)                                                                         | LlapBaseInputFormat - 負數的陣列索引                                                             |
| BUG-95644              | [HIVE-9152](https://issues.apache.org/jira/browse/HIVE-9152)                                                                           | CombineHiveInputFormat：Hive 查詢在 Tez 中會失敗，並發生 java.lang.IllegalArgumentException 例外狀況 |
| BUG-96762              | [費尼克斯-4588](https://issues.apache.org/jira/browse/PHOENIX-4588)                                                                     | 如果其子系有 Determinism.PER\_INVOCATION，則也複製運算式                                |
| BUG-97145              | [HIVE-12245](https://issues.apache.org/jira/browse/HIVE-12245)、 [HIVE-17829](https://issues.apache.org/jira/browse/HIVE-17829)         | HBase 支援的資料表可支援資料行註解                                                      |
| BUG-97741              | [HIVE-18944](https://issues.apache.org/jira/browse/HIVE-18944)                                                                         | 在 DPP 期間未正確設定群組集合位置                                                  |
| BUG-98082              | [HIVE-18597](https://issues.apache.org/jira/browse/HIVE-18597)                                                                         | LLAP︰一律針對 org.apache.log4j 封裝 log4j2 API jar                                           |
| BUG-99849              | N/A                                                                                                                                    | 從嘗試使用預設資料庫的檔案精靈建立新資料表                                    |

**安全性**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                                                                                            | **摘要**                                                                                                           |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| BUG-100436             | [RANGER-2060](https://issues.apache.org/jira/browse/RANGER-2060)                                                                                                                                           | Knox proxy 與 knox sso 搭配不適用於 ranger                                                                    |
| BUG-101038             | [SPARK-24062](https://issues.apache.org/jira/browse/SPARK-24062)                                                                                                                                           | Zeppelin %Spark 解譯器在 HiveThriftServer 中的 "Connection refused" 錯誤、"A secret key must be specified..." 錯誤 |
| BUG-101359             | [ACCUMULO-4056](https://issues.apache.org/jira/browse/ACCUMULO-4056)                                                                                                                                       | 發行時將 commons-collection 的版本更新為 3.2.2                                                           |
| BUG-54240              | [HIVE-18879](https://issues.apache.org/jira/browse/HIVE-18879)                                                                                                                                             | 如果 xercesImpl.jar 位於 classpath 中，則必須能夠在 UDFXPathUtil 中不允許內嵌的元素                                |
| BUG-79059              | [OOZIE-3109](https://issues.apache.org/jira/browse/OOZIE-3109)                                                                                                                                             | 逸出 log-streaming 的 HTML 特定字元                                                                       |
| BUG-90041              | [OOZIE-2723](https://issues.apache.org/jira/browse/OOZIE-2723)                                                                                                                                             | JSON.org 授權現在為 CatX                                                                                          |
| BUG-93754              | [RANGER-1943](https://issues.apache.org/jira/browse/RANGER-1943)                                                                                                                                           | 當集合是空的或 null 時，會略過 Ranger Solr 授權                                                 |
| BUG-93804              | [HIVE-17419](https://issues.apache.org/jira/browse/HIVE-17419)                                                                                                                                             | ANALYZE TABLE...COMPUTE STATISTICS FOR COLUMNS 命令會顯示已遮罩資料表的計算統計資料                         |
| BUG-94276              | [澤佩林-3129](https://issues.apache.org/jira/browse/ZEPPELIN-3129)                                                                                                                                       | Zeppelin UI 不會在 IE 中登出                                                                                    |
| BUG-95349              | [ZOOKEEPER-1256](https://issues.apache.org/jira/browse/ZOOKEEPER-1256)、 [ZOOKEEPER-1901](https://issues.apache.org/jira/browse/ZOOKEEPER-1901)                                                             | 升級 netty                                                                                                         |
| BUG-95483              | N/A                                                                                                                                                                                                        | CVE-2017-15713 的修正                                                                                                |
| BUG-95646              | [OOZIE-3167](https://issues.apache.org/jira/browse/OOZIE-3167)                                                                                                                                             | 在 Oozie 4.3 分支上升級 tomcat 版本                                                                            |
| BUG-95823              | N/A                                                                                                                                                                                                        | Knox：升級 Beanutils                                                                                               |
| BUG-95908              | [RANGER-1960](https://issues.apache.org/jira/browse/RANGER-1960)                                                                                                                                           | HBase 驗證不會為了刪除快照集而將資料表命名空間納入考量                                     |
| BUG-96191              | [FALCON-2322](https://issues.apache.org/jira/browse/FALCON-2322)、 [FALCON-2323](https://issues.apache.org/jira/browse/FALCON-2323)                                                                         | 升級 Jackson 與 Spring 版本以避免安全性弱點                                                 |
| BUG-96502              | [RANGER-1990](https://issues.apache.org/jira/browse/RANGER-1990)                                                                                                                                           | 在 Ranger 系統管理員中新增單向 SSL MySQL 支援                                                                         |
| BUG-96712              | [FLUME-3194](https://issues.apache.org/jira/browse/FLUME-3194)                                                                                                                                             | 將 derby 升級至最新 (1.14.1.0) 版本                                                                        |
| BUG-96713              | [FLUME-2678](https://issues.apache.org/jira/browse/FLUME-2678)                                                                                                                                             | 將 xalan 升級至 2.7.2 以處理 CVE-2014-0107 弱點                                                    |
| BUG-96714              | [FLUME-2050](https://issues.apache.org/jira/browse/FLUME-2050)                                                                                                                                             | 升級至 log4j2 (在 GA 時)                                                                                           |
| BUG-96737              | N/A                                                                                                                                                                                                        | 使用 java io filesystem 方法來存取本機檔案                                                                  |
| BUG-96925              | N/A                                                                                                                                                                                                        | 在 Hadoop 中將 Tomcat 從 6.0.48 升級至 6.0.53                                                                        |
| BUG-96977              | [FLUME-3132](https://issues.apache.org/jira/browse/FLUME-3132)                                                                                                                                             | 升級 tomcat jasper 程式庫相依性                                                                            |
| BUG-97022              | [HADOOP-14799](https://issues.apache.org/jira/browse/HADOOP-14799)、 [HADOOP-14903](https://issues.apache.org/jira/browse/HADOOP-14903)、 [HADOOP-15265](https://issues.apache.org/jira/browse/HADOOP-15265) | 使用 4.39 以上版本升級 Nimbus-JOSE-JWT 程式庫                                                             |
| BUG-97101              | [蘭格-1988](https://issues.apache.org/jira/browse/RANGER-1988)                                                                                                                                           | 修正不安全的隨機性                                                                                               |
| BUG-97178              | [ATLAS-2467](https://issues.apache.org/jira/browse/ATLAS-2467)                                                                                                                                             | Spring 和 nimbus-jose-jwt 的相依性升級                                                                     |
| BUG-97180              | N/A                                                                                                                                                                                                        | 升級 Nimbus-jose-jwt                                                                                               |
| BUG-98038              | [HIVE-18788](https://issues.apache.org/jira/browse/HIVE-18788)                                                                                                                                             | 清除 JDBC PreparedStatement 中的輸入                                                                             |
| BUG-98353              | [HADOOP-13707](https://issues.apache.org/jira/browse/HADOOP-13707)                                                                                                                                         | "If kerberos is enabled while HTTP SPNEGO is not configured, some links cannot be accessed" 的還原                 |
| BUG-98372              | [HBASE-13848](https://issues.apache.org/jira/browse/HBASE-13848)                                                                                                                                           | 透過認證提供者 API 存取 InfoServer SSL 密碼                                                        |
| BUG-98385              | [ATLAS-2500](https://issues.apache.org/jira/browse/ATLAS-2500)                                                                                                                                             | 在 Atlas 回應中新增其他標頭。                                                                             |
| BUG-98564              | [HADOOP-14651](https://issues.apache.org/jira/browse/HADOOP-14651)                                                                                                                                         | 將 okhttp 版本更新為 2.7.5                                                                                        |
| BUG-99440              | [RANGER-2045](https://issues.apache.org/jira/browse/RANGER-2045)                                                                                                                                           | 沒有明確允許原則的 Hive 資料表資料行可使用 'desc table' 命令來列出                                 |
| BUG-99803              | N/A                                                                                                                                                                                                        | Oozie 應該停用 HBase 動態類別載入                                                                      |

**穩定性**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | **摘要**                                                                                                                                    |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------|
| BUG-100040             | [ATLAS-2536](https://issues.apache.org/jira/browse/ATLAS-2536)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Atlas Hive 掛勾中的 NPE                                                                                                                         |
| BUG-100057             | [HIVE-19251](https://issues.apache.org/jira/browse/HIVE-19251)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 具有 LIMIT 的 ObjectStore.getNextNotification 應使用較少記憶體                                                                              |
| BUG-100072             | [HIVE-19130](https://issues.apache.org/jira/browse/HIVE-19130)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | REPL LOAD 套用了卸除資料分割事件時，會擲回 NPE。                                                                                     |
| BUG-100073             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 太多從 hiveserver 到資料節點的 close\_wait 連線                                                                                   |
| BUG-100319             | [HIVE-19248](https://issues.apache.org/jira/browse/HIVE-19248)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 如果檔案複製失敗，REPL LOAD 不會擲回錯誤。                                                                                              |
| BUG-100352             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | CLONE - RM 清除邏輯掃描 /registry znode 太頻繁                                                                                  |
| BUG-100427             | [HIVE-19249](https://issues.apache.org/jira/browse/HIVE-19249)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 複寫：WITH 子句不會在所有情況下將組態正確地傳遞至工作                                                       |
| BUG-100430             | [HIVE-14483](https://issues.apache.org/jira/browse/HIVE-14483)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | java.lang.ArrayIndexOutOfBoundsException org.apache.orc.impl.TreeReaderFactory\$BytesColumnVectorUtil.commonReadByteArrays                     |
| BUG-100432             | [HIVE-19219](https://issues.apache.org/jira/browse/HIVE-19219)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 如果清除所要求的事件，累加 REPL DUMP 應該擲回錯誤。                                                                   |
| BUG-100448             | [SPARK-23637](https://issues.apache.org/jira/browse/SPARK-23637)、 [SPARK-23802](https://issues.apache.org/jira/browse/SPARK-23802)、 [SPARK-23809](https://issues.apache.org/jira/browse/SPARK-23809)、 [SPARK-23816](https://issues.apache.org/jira/browse/SPARK-23816)、 [SPARK-23822](https://issues.apache.org/jira/browse/SPARK-23822)、 [SPARK-23823](https://issues.apache.org/jira/browse/SPARK-23823)、 [SPARK-23838](https://issues.apache.org/jira/browse/SPARK-23838)、 [SPARK-23881](https://issues.apache.org/jira/browse/SPARK-23881)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 將 Spark2 更新為 2.3.0+ (4/11)                                                                                                                 |
| BUG-100740             | [HIVE-16107](https://issues.apache.org/jira/browse/HIVE-16107)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | JDBC：HttpClient 應該在 NoHttpResponseException 上再試一次                                                                         |
| BUG-100810             | [HIVE-19054](https://issues.apache.org/jira/browse/HIVE-19054)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Hive 函式複寫失敗                                                                                                               |
| BUG-100937             | [MAPREDUCE-6889](https://issues.apache.org/jira/browse/MAPREDUCE-6889)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 新增 Job\#close API 以關閉 MR 用戶端服務。                                                                                             |
| BUG-101065             | [ATLAS-2587](https://issues.apache.org/jira/browse/ATLAS-2587)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 在 HA 中設定 /apache\_atlas/active\_server\_info znode 的讀取 ACL 以讓 Knox proxy 讀取。                                                       |
| BUG-101093             | [STORM-2993](https://issues.apache.org/jira/browse/STORM-2993)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Storm HDFS bolt 在使用時間輪替原則時擲回 ClosedChannelException                                                                |
| BUG-101181             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | PhoenixStorageHandler 不會在述詞中正確處理 AND                                                                                |
| BUG-101266             | [PHOENIX-4635](https://issues.apache.org/jira/browse/PHOENIX-4635)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | org.apache.phoenix.hive.mapreduce.PhoenixInputFormat 中發生 HBase 連線流失                                                                  |
| BUG-101458             | [HIVE-11464](https://issues.apache.org/jira/browse/HIVE-11464)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 如果有多個輸出，則會遺漏歷程資訊                                                                                             |
| BUG-101485             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | hive 中繼存放區 thrift api 緩慢，且會造成用戶端逾時                                                                                   |
| BUG-101628             | [HIVE-19331](https://issues.apache.org/jira/browse/HIVE-19331)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Hive 增量複寫到雲端失敗。                                                                                                  |
| BUG-102048             | [HIVE-19381](https://issues.apache.org/jira/browse/HIVE-19381)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | FunctionTask 的 Hive 函式複寫到雲端失敗                                                                                     |
| BUG-102064             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | ReplCopyTask 中的 Hive 複寫 \[內部部署至內部部署\] 測試失敗                                                                           |
| BUG-102137             | [HIVE-19423](https://issues.apache.org/jira/browse/HIVE-19423)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ReplCopyTask 中的 Hive 複寫 \[內部部署至雲端\] 測試失敗                                                                            |
| BUG-102305             | [HIVE-19430](https://issues.apache.org/jira/browse/HIVE-19430)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | HS2 和 hive 中繼存放區 OOM 傾印                                                                                                               |
| BUG-102361             | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 在複寫到目標 hive 叢集 (內部部署 - s3) 的單一插入中有多個插入結果                                                     |
| BUG-87624              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 啟用 storm 事件記錄會導致背景工作角色持續停止                                                                                |
| BUG-88929              | [HBASE-15615](https://issues.apache.org/jira/browse/HBASE-15615)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 當 RegionServerCallable 需要重試時，睡眠時間會錯誤                                                                                          |
| BUG-89628              | [HIVE-17613](https://issues.apache.org/jira/browse/HIVE-17613)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 針對簡短的同一執行緒配置移除物件集區                                                                                         |
| BUG-89813              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | SCA：程式碼正確性：未同步處理的方法會覆寫已同步處理的方法                                                                  |
| BUG-90437              | [澤佩林-3072](https://issues.apache.org/jira/browse/ZEPPELIN-3072)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 如果 notebook 太多，Zeppelin UI 會變得緩慢/沒有回應                                                                          |
| BUG-90640              | [HBASE-19065](https://issues.apache.org/jira/browse/HBASE-19065)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | HRegion\#bulkLoadHFiles() 應該等候並行 Region\#flush() 完成                                                                 |
| BUG-91202              | [HIVE-17013](https://issues.apache.org/jira/browse/HIVE-17013)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 根據對檢視的選取來刪除具有子查詢的要求                                                                                     |
| BUG-91350              | [KNOX-1108](https://issues.apache.org/jira/browse/KNOX-1108)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | NiFiHaDispatch 未容錯移轉                                                                                                                |
| BUG-92054              | [HIVE-13120](https://issues.apache.org/jira/browse/HIVE-13120)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 產生 ORC 分割時傳播 doAs                                                                                                      |
| BUG-92373              | [FALCON-2314](https://issues.apache.org/jira/browse/FALCON-2314)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 將 TestNG 版本直接改成 6.13.1 以避免 BeanShell 相依性                                                                                    |
| BUG-92381              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | testContainerLogsWithNewAPI 和 testContainerLogsWithOldAPI UT 失敗                                                                           |
| BUG-92389              | [STORM-2841](https://issues.apache.org/jira/browse/STORM-2841)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | testNoAcksIfFlushFails UT 失敗，並發生 NullPointerException                                                                                      |
| BUG-92586              | [SPARK-17920](https://issues.apache.org/jira/browse/SPARK-17920)、 [SPARK-20694](https://issues.apache.org/jira/browse/SPARK-20694)、 [SPARK-21642](https://issues.apache.org/jira/browse/SPARK-21642)、 [SPARK-22162](https://issues.apache.org/jira/browse/SPARK-22162)、 [SPARK-22289](https://issues.apache.org/jira/browse/SPARK-22289)、 [SPARK-22373](https://issues.apache.org/jira/browse/SPARK-22373)、 [SPARK-22495](https://issues.apache.org/jira/browse/SPARK-22495)、 [SPARK-22574](https://issues.apache.org/jira/browse/SPARK-22574)、 [SPARK-22591](https://issues.apache.org/jira/browse/SPARK-22591)、 [SPARK-22595](https://issues.apache.org/jira/browse/SPARK-22595)、 [SPARK-22601](https://issues.apache.org/jira/browse/SPARK-22601)、 [SPARK-22603](https://issues.apache.org/jira/browse/SPARK-22603)、 [SPARK-22607](https://issues.apache.org/jira/browse/SPARK-22607)、 [SPARK-22635](https://issues.apache.org/jira/browse/SPARK-22635)、 [SPARK-22637](https://issues.apache.org/jira/browse/SPARK-22637)、 [SPARK-22653](https://issues.apache.org/jira/browse/SPARK-22653)、 [SPARK-22654](https://issues.apache.org/jira/browse/SPARK-22654)、 [SPARK-22686](https://issues.apache.org/jira/browse/SPARK-22686)、 [SPARK-22688](https://issues.apache.org/jira/browse/SPARK-22688)、 [SPARK-22817](https://issues.apache.org/jira/browse/SPARK-22817)、 [SPARK-22862](https://issues.apache.org/jira/browse/SPARK-22862)、 [SPARK-22889](https://issues.apache.org/jira/browse/SPARK-22889)、 [SPARK-22972](https://issues.apache.org/jira/browse/SPARK-22972)、 [SPARK-22975](https://issues.apache.org/jira/browse/SPARK-22975)、 [SPARK-22982](https://issues.apache.org/jira/browse/SPARK-22982)、 [SPARK-22983](https://issues.apache.org/jira/browse/SPARK-22983)、 [SPARK-22984](https://issues.apache.org/jira/browse/SPARK-22984)、 [SPARK-23001](https://issues.apache.org/jira/browse/SPARK-23001)、 [SPARK-23038](https://issues.apache.org/jira/browse/SPARK-23038)、 [SPARK-23095](https://issues.apache.org/jira/browse/SPARK-23095) | 將 Spark2 最新版本更新為 2.2.1 (1 月 16 日)                                                                                                    |
| BUG-92680              | [ATLAS-2288](https://issues.apache.org/jira/browse/ATLAS-2288)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 透過 Hive 建立 hbase 資料表時，會在執行 import-hive 指令碼時發生 NoClassDefFoundError 例外狀況                                           |
| BUG-92760              | [ACCUMULO-4578](https://issues.apache.org/jira/browse/ACCUMULO-4578)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 取消壓縮 FATE 作業不會釋放命名空間鎖定                                                                               |
| BUG-92797              | [HDFS-10267](https://issues.apache.org/jira/browse/HDFS-10267)、 [HDFS-8496](https://issues.apache.org/jira/browse/HDFS-8496)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 減少某些使用案例的 datanode 鎖定爭用                                                                                    |
| BUG-92813              | [FLUME-2973](https://issues.apache.org/jira/browse/FLUME-2973)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Hdfs 接收中發生死結                                                                                                                          |
| BUG-92957              | [HIVE-11266](https://issues.apache.org/jira/browse/HIVE-11266)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | count(\*) 會根據外部資料表的資料表統計資料，產生錯誤的結果                                                                           |
| BUG-93018              | [ATLAS-2310](https://issues.apache.org/jira/browse/ATLAS-2310)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 在 HA 中，被動節點會使用錯誤的 URL 編碼將要求重新導向                                                                          |
| BUG-93116              | [RANGER-1957](https://issues.apache.org/jira/browse/RANGER-1957)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 啟用增量同步處理時，Ranger Usersync 不會定期同步處理使用者或群組。                                                  |
| BUG-93361              | [HIVE-12360](https://issues.apache.org/jira/browse/HIVE-12360)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 在具有述詞下推的未壓縮 ORC 中會進行錯誤的搜尋                                                                                           |
| BUG-93426              | [CALCITE-2086](https://issues.apache.org/jira/browse/CALCITE-2086)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 由於大型的授權標頭，某些情況下會出現 HTTP/413                                                                           |
| BUG-93429              | [費尼克斯-3240](https://issues.apache.org/jira/browse/PHOENIX-3240)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Pig 載入器發生 ClassCastException                                                                                                             |
| BUG-93485              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 無法取得資料表 mytestorg.apache.hadoop.hive.ql.metadata.InvalidTableException：在 LLAP 中的資料行上執行分析資料表時找不到資料表 |
| BUG-93512              | [PHOENIX-4466](https://issues.apache.org/jira/browse/PHOENIX-4466)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | java.lang.RuntimeException：回應碼 500 - 執行 spark 作業以連線到 phoenix 查詢伺服器和載入資料                         |
| BUG-93550              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Zeppelin %spark.r 不適用於 spark1，因為 scala 版本不相符                                                                      |
| BUG-93910              | [HIVE-18293](https://issues.apache.org/jira/browse/HIVE-18293)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 若資料夾不是由執行 HiveMetaStore 的身分識別所擁有的，Hive 就無法壓縮該資料夾內所包含的資料表                                |
| BUG-93926              | [ZEPPELIN-3114](https://issues.apache.org/jira/browse/ZEPPELIN-3114)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 在 1d 壓力測試後&gt;，筆記本和口譯員不會保存在 zepelin 中                                                       |
| BUG-93932              | [ATLAS-2320](https://issues.apache.org/jira/browse/ATLAS-2320)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 查詢的分類 "\*" 會擲回 500 內部伺服器例外狀況。                                                                           |
| BUG-93948              | [YARN-7697](https://issues.apache.org/jira/browse/YARN-7697)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | NM 在使用 OOM 時會當機，因為 log-aggregation (part\#1) 中發生流失                                                                                 |
| BUG-93965              | [ATLAS-2229](https://issues.apache.org/jira/browse/ATLAS-2229)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | DSL 搜尋：orderby 非字串屬性會擲回例外狀況                                                                                     |
| BUG-93986              | [YARN-7697](https://issues.apache.org/jira/browse/YARN-7697)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | NM 在使用 OOM 時會當機，因為 log-aggregation (part\#2) 中發生流失                                                                                 |
| BUG-94030              | [ATLAS-2332](https://issues.apache.org/jira/browse/ATLAS-2332)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 使用具有巢狀集合資料類型的屬性無法建立類型                                                                       |
| BUG-94080              | [YARN-3742](https://issues.apache.org/jira/browse/YARN-3742)、 [YARN-6061](https://issues.apache.org/jira/browse/YARN-6061)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 這兩個 RM 都在安全叢集中待命                                                                                                       |
| BUG-94081              | [HIVE-18384](https://issues.apache.org/jira/browse/HIVE-18384)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | log4j2.x 程式庫發生 ConcurrentModificationException                                                                                            |
| BUG-94168              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 服務登錄處於錯誤狀態 ERROR 時 Yarn RM 會當機                                                                                |
| BUG-94330              | [HADOOP-13190](https://issues.apache.org/jira/browse/HADOOP-13190)、 [HADOOP-14104](https://issues.apache.org/jira/browse/HADOOP-14104)、 [HADOOP-14814](https://issues.apache.org/jira/browse/HADOOP-14814)、 [HDFS-10489](https://issues.apache.org/jira/browse/HDFS-10489)、 [HDFS-11689](https://issues.apache.org/jira/browse/HDFS-11689)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | HDFS 應支援多個 KMS Uris                                                                                                      |
| BUG-94345              | [HIVE-18429](https://issues.apache.org/jira/browse/HIVE-18429)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 壓縮應該處理未產生任何輸出時的案例                                                                                     |
| BUG-94372              | [ATLAS-2229](https://issues.apache.org/jira/browse/ATLAS-2229)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | DSL 查詢：hive\_table name = \["t1","t2"\] 會擲回無效的 DSL 查詢例外狀況                                                                |
| BUG-94381              | [HADOOP-13227](https://issues.apache.org/jira/browse/HADOOP-13227)、 [HDFS-13054](https://issues.apache.org/jira/browse/HDFS-13054)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 處理 RequestHedgingProxyProvider RetryAction 順序：FAIL &lt; RETRY &lt; FAILOVER\_AND\_RETRY。                                             |
| BUG-94432              | [HIVE-18353](https://issues.apache.org/jira/browse/HIVE-18353)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | CompactorMR 應該呼叫 jobclient.close() 以觸發清除                                                                                   |
| BUG-94575              | [SPARK-22587](https://issues.apache.org/jira/browse/SPARK-22587)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 如果 fs.defaultFS 和應用程式 jar 是不同的 url，Spark 作業會失敗                                                                          |
| BUG-94791              | [SPARK-22793](https://issues.apache.org/jira/browse/SPARK-22793)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Spark Thrift 伺服器中發生記憶體流失                                                                                                             |
| BUG-94928              | [HDFS-11078](https://issues.apache.org/jira/browse/HDFS-11078)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 修正 LazyPersistFileScrubber 中的 NPE                                                                                                             |
| BUG-95013              | [HIVE-18488](https://issues.apache.org/jira/browse/HIVE-18488)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | LLAP ORC 讀取器缺少某些 null 檢查                                                                                                  |
| BUG-95077              | [HIVE-14205](https://issues.apache.org/jira/browse/HIVE-14205)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Hive 不支援等位型別與 AVRO 檔案格式的搭配                                                                                          |
| BUG-95200              | [HDFS-13061](https://issues.apache.org/jira/browse/HDFS-13061)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | SaslDataTransferClient\#checkTrustAndSend 不應該信任部分信任的通道                                                         |
| BUG-95201              | [HDFS-13060](https://issues.apache.org/jira/browse/HDFS-13060)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 針對 TrustedChannelResolver 新增 BlacklistBasedTrustedChannelResolver                                                                       |
| BUG-95284              | [HBASE-19395](https://issues.apache.org/jira/browse/HBASE-19395)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | \[branch-1\] TestEndToEndSplitTransaction.testMasterOpsWhileSplitting 會失敗，並有 NPE                                                           |
| BUG-95301              | [HIVE-18517](https://issues.apache.org/jira/browse/HIVE-18517)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 向量化：修正 VectorMapOperator 以接受 VRBs，並檢查向量化旗標是否正確以支援 LLAP 快取                                |
| BUG-95542              | [HBASE-16135](https://issues.apache.org/jira/browse/HBASE-16135)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 可能永遠不會刪除已移除同儕節點的 rs 下的 PeerClusterZnode                                                                                 |
| BUG-95595              | [HIVE-15563](https://issues.apache.org/jira/browse/HIVE-15563)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 忽略 SQLOperation.runQuery 中不合法的作業狀態轉換例外狀況，以公開實際的例外狀況。                                         |
| BUG-95596              | [YARN-4126](https://issues.apache.org/jira/browse/YARN-4126)、 [YARN-5750](https://issues.apache.org/jira/browse/YARN-5750)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | TestClientRMService 失敗                                                                                                                      |
| BUG-96019              | [HIVE-18548](https://issues.apache.org/jira/browse/HIVE-18548)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 修正 log4j 匯入                                                                                                                               |
| BUG-96196              | [HDFS-13120](https://issues.apache.org/jira/browse/HDFS-13120)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 快照集差異可能會在 concat 之後損毀                                                                                                  |
| BUG-96289              | [HDFS-11701](https://issues.apache.org/jira/browse/HDFS-11701)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 從未解析的主機進行 NPE 會導致永久的 DFSInputStream 失敗                                                                              |
| BUG-96291              | [STORM-2652](https://issues.apache.org/jira/browse/STORM-2652)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | JmsSpout open 方法擲回例外狀況                                                                                                       |
| BUG-96363              | [HIVE-18959](https://issues.apache.org/jira/browse/HIVE-18959)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 避免在 LLAP 內建立額外的執行緒集區                                                                                               |
| BUG-96390              | [HDFS-10453](https://issues.apache.org/jira/browse/HDFS-10453)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 因為大型叢集內相同檔案的複寫與刪除之間發生競爭，ReplicationMonitor 執行緒可能會停滯很長的時間。            |
| BUG-96454              | [YARN-4593](https://issues.apache.org/jira/browse/YARN-4593)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | AbstractService.getConfig() 中發生死結                                                                                                        |
| BUG-96704              | [FALCON-2322](https://issues.apache.org/jira/browse/FALCON-2322)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | submitAndSchedule 摘要時發生 ClassCastException                                                                                                |
| BUG-96720              | [SLIDER-1262](https://issues.apache.org/jira/browse/SLIDER-1262)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 在 Kerberized 環境中 Slider functests 會失敗                                                                                         |
| BUG-96931              | [SPARK-23053](https://issues.apache.org/jira/browse/SPARK-23053)、 [SPARK-23186](https://issues.apache.org/jira/browse/SPARK-23186)、 [SPARK-23230](https://issues.apache.org/jira/browse/SPARK-23230)、 [SPARK-23358](https://issues.apache.org/jira/browse/SPARK-23358)、 [SPARK-23376](https://issues.apache.org/jira/browse/SPARK-23376)、 [SPARK-23391](https://issues.apache.org/jira/browse/SPARK-23391)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 將 Spark2 更新為最新 (2 月 19 日)                                                                                                             |
| BUG-97067              | [HIVE-10697](https://issues.apache.org/jira/browse/HIVE-10697)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | ObjectInspectorConvertors\#UnionConvertor 會進行錯誤的轉換                                                                             |
| BUG-97244              | [KNOX-1083](https://issues.apache.org/jira/browse/KNOX-1083)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | HttpClient 預設逾時值應該是合理的值                                                                                          |
| BUG-97459              | [ZEPPELIN-3271](https://issues.apache.org/jira/browse/ZEPPELIN-3271)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 可供停用排程器的選項                                                                                                                 |
| BUG-97511              | [KNOX-1197](https://issues.apache.org/jira/browse/KNOX-1197)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 身份驗證=服務中的匿名時未添加匿名身份驗證篩選器                                                                      |
| BUG-97601              | [HIVE-17479](https://issues.apache.org/jira/browse/HIVE-17479)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 更新/刪除查詢的暫存目錄不會清除                                                                            |
| BUG-97605              | [HIVE-18858](https://issues.apache.org/jira/browse/HIVE-18858)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 提交 MR 作業時，不會解析作業設定中的系統屬性                                                                     |
| BUG-97674              | [OOZIE-3186](https://issues.apache.org/jira/browse/OOZIE-3186)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Oozie 無法使用以 jceks://file/... 連結的設定                                                                             |
| BUG-97743              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 部署 storm 拓撲時發生 java.lang.NoClassDefFoundError 例外狀況                                                                        |
| BUG-97756              | [PHOENIX-4576](https://issues.apache.org/jira/browse/PHOENIX-4576)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 修正主要分支中的 LocalIndexSplitMergeIT 測試失敗                                                                                      |
| BUG-97771              | [HDFS-11711](https://issues.apache.org/jira/browse/HDFS-11711)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | DN 不應刪除針對「開啟太多檔案」例外狀況的封鎖                                                                              |
| BUG-97869              | [KNOX-1190](https://issues.apache.org/jira/browse/KNOX-1190)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Google OIDC 的 Knox SSO 支援已中斷。                                                                                                    |
| BUG-97879              | [PHOENIX-4489](https://issues.apache.org/jira/browse/PHOENIX-4489)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Phoenix MR 作業中發生 HBase 連線流失                                                                                                       |
| BUG-98392              | [RANGER-2007](https://issues.apache.org/jira/browse/RANGER-2007)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | ranger-tagsync 的 Kerberos 票證無法更新                                                                                                |
| BUG-98484              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Hive 增量複寫到雲端無法運作                                                                                              |
| BUG-98533              | [HBASE-19934](https://issues.apache.org/jira/browse/HBASE-19934)、 [HBASE-20008](https://issues.apache.org/jira/browse/HBASE-20008)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 由於空指標異常，HBase 快照還原失敗                                                                                |
| BUG-98555              | [PHOENIX-4662](https://issues.apache.org/jira/browse/PHOENIX-4662)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 在重新傳送快取時，TableResultIterator.java 中會發生 NullPointerException                                                                               |
| BUG-98579              | [HBASE-13716](https://issues.apache.org/jira/browse/HBASE-13716)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 停止使用 Hadoop 的 FSConstants                                                                                                                |
| BUG-98705              | [KNOX-1230](https://issues.apache.org/jira/browse/KNOX-1230)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 若對 Knox 發出許多並行要求，將會導致 URL 弄亂                                                                                           |
| BUG-98983              | [KNOX-1108](https://issues.apache.org/jira/browse/KNOX-1108)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | NiFiHaDispatch 未容錯移轉                                                                                                                |
| BUG-99107              | [HIVE-19054](https://issues.apache.org/jira/browse/HIVE-19054)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 函式複寫應該使用 "hive.repl.replica.functions.root.dir" 作為根                                                                  |
| BUG-99145              | [RANGER-2035](https://issues.apache.org/jira/browse/RANGER-2035)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 存取具有空白 implClass 和 Oracle 後端的 servicedefs 時發生錯誤                                                                          |
| BUG-99160              | [SLIDER-1259](https://issues.apache.org/jira/browse/SLIDER-1259)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 滑塊在多家庭環境中不起作用                                                                                               |
| BUG-99239              | [ATLAS-2462](https://issues.apache.org/jira/browse/ATLAS-2462)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 若命令中未提供任何資料表，則所有資料表的 Sqoop 匯入會擲回 NPE                                                                        |
| BUG-99301              | [ATLAS-2530](https://issues.apache.org/jira/browse/ATLAS-2530)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | hive\_process 和 hive\_column\_lineage 的名稱屬性開頭有新行字元                                                    |
| BUG-99453              | [HIVE-19065](https://issues.apache.org/jira/browse/HIVE-19065)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 中繼存放區用戶端相容性檢查應該包含 syncMetaStoreClient                                                                        |
| BUG-99521              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 將迭代器重新具現化時，不會重新建立 HashJoin 的 ServerCache                                                                  |
| BUG-99590              | [PHOENIX-3518](https://issues.apache.org/jira/browse/PHOENIX-3518)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | RenewLeaseTask 中發生記憶體流失                                                                                                                  |
| BUG-99618              | [SPARK-23599](https://issues.apache.org/jira/browse/SPARK-23599)、 [SPARK-23806](https://issues.apache.org/jira/browse/SPARK-23806)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 將 Spark2 更新為 2.3.0+ (3/28)                                                                                                                 |
| BUG-99672              | [ATLAS-2524](https://issues.apache.org/jira/browse/ATLAS-2524)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | 具有 V2 通知的 Hive 掛勾 - 以不正確的方式處理 'alter view as' 作業                                                              |
| BUG-99809              | [HBASE-20375](https://issues.apache.org/jira/browse/HBASE-20375)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | 在 hbase-spark 模組中移除 getCurrentUserCredentials 的使用                                                                                  |

**支援能力**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                  | **摘要**                                                                                   |
|------------------------|------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| BUG-87343              | [HIVE-18031](https://issues.apache.org/jira/browse/HIVE-18031)   | 針對 Alter Database 作業支援複寫。                                             |
| BUG-91293              | [RANGER-2060](https://issues.apache.org/jira/browse/RANGER-2060) | Knox proxy 與 knox sso 搭配不適用於 ranger                                            |
| BUG-93116              | [RANGER-1957](https://issues.apache.org/jira/browse/RANGER-1957) | 啟用增量同步處理時，Ranger Usersync 不會定期同步處理使用者或群組。 |
| BUG-93577              | [RANGER-1938](https://issues.apache.org/jira/browse/RANGER-1938) | 稽核設定的 Solr 不會有效地使用 DocValues                                        |
| BUG-96082              | [RANGER-1982](https://issues.apache.org/jira/browse/RANGER-1982) | Ranger 系統管理員和 Ranger Kms 的分析計量錯誤改進                         |
| BUG-96479              | [HDFS-12781](https://issues.apache.org/jira/browse/HDFS-12781)   | Datanode 關閉之後，[在 Namenode UI Datanode] 索引標籤會擲回警告訊息。                 |
| BUG-97864              | [HIVE-18833](https://issues.apache.org/jira/browse/HIVE-18833)   | 「插入目錄中作為 orcfile」時，自動合併會失敗                                      |
| BUG-98814              | [HDFS-13314](https://issues.apache.org/jira/browse/HDFS-13314)   | NameNode 應該在偵測到 FsImage 損毀時選擇性結束                              |

**升級**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                | **摘要**                                                                 |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| BUG-100134             | [SPARK-22919](https://issues.apache.org/jira/browse/SPARK-22919)                                                               | "Bump Apache httpclient versions" 的還原                                 |
| BUG-95823              | N/A                                                                                                                            | Knox：升級 Beanutils                                                     |
| BUG-96751              | [KNOX-1076](https://issues.apache.org/jira/browse/KNOX-1076)                                                                   | 將 nimbus-jose-jwt 更新為 4.41.2                                            |
| BUG-97864              | [HIVE-18833](https://issues.apache.org/jira/browse/HIVE-18833)                                                                 | 「插入目錄中作為 orcfile」時，自動合併會失敗                    |
| BUG-99056              | [HADOOP-13556](https://issues.apache.org/jira/browse/HADOOP-13556)                                                             | 變更 Configuration.getPropsWithPrefix 以使用 getProps 而不是迭代器 |
| BUG-99378              | [ATLAS-2461](https://issues.apache.org/jira/browse/ATLAS-2461)、 [ATLAS-2554](https://issues.apache.org/jira/browse/ATLAS-2554) | 用來在 Titan 圖表 DB 中匯出 Atlas 資料的移轉公用程式                    |

**可用性**

| **Hortonworks 錯誤識別碼** | **Apache JIRA**                                                                                                                                                                                                                                                                | **摘要**                                                                                                                                                  |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| BUG-100045             | [HIVE-19056](https://issues.apache.org/jira/browse/HIVE-19056)                                                                                                                                                                                                                 | 當 ORC 檔案有 0 個資料列時，FixAcidKeyIndex 中會發生 IllegalArgumentException                                                                                         |
| BUG-100139             | [KNOX-1243](https://issues.apache.org/jira/browse/KNOX-1243)                                                                                                                                                                                                                   | 將 KnoxToken 服務中所設定的必要 DN 標準化                                                                                          |
| BUG-100570             | [ATLAS-2557](https://issues.apache.org/jira/browse/ATLAS-2557)                                                                                                                                                                                                                 | 修復了在 UGI 的組設置錯誤或未為空時，允許查找 hadoop ldap 組                                                          |
| BUG-100646             | [ATLAS-2102](https://issues.apache.org/jira/browse/ATLAS-2102)                                                                                                                                                                                                                 | Atlas UI 增強功能：搜尋結果頁面                                                                                                                   |
| BUG-100737             | [HIVE-19049](https://issues.apache.org/jira/browse/HIVE-19049)                                                                                                                                                                                                                 | 對 Druid 新增改變資料表新增資料行的支援                                                                                                            |
| BUG-100750             | [KNOX-1246](https://issues.apache.org/jira/browse/KNOX-1246)                                                                                                                                                                                                                   | 更新 Knox 中的服務組態以對 Ranger 支援最新的組態。                                                                                   |
| BUG-100965             | [ATLAS-2581](https://issues.apache.org/jira/browse/ATLAS-2581)                                                                                                                                                                                                                 | 具有 V2 Hive 掛勾通知的迴歸：將資料表移動到不同的資料庫                                                                            |
| BUG-84413              | [ATLAS-1964](https://issues.apache.org/jira/browse/ATLAS-1964)                                                                                                                                                                                                                 | UI：支援在搜尋資料表中排序資料行                                                                                                                |
| BUG-90570              | [HDFS-11384](https://issues.apache.org/jira/browse/HDFS-11384)、 [HDFS-12347](https://issues.apache.org/jira/browse/HDFS-12347)                                                                                                                                                 | 新增選項供平衡器分散 getBlocks 呼叫，以避免 NameNode 的 rpc.CallQueueLength 突然增加                                                            |
| BUG-90584              | [HBASE-19052](https://issues.apache.org/jira/browse/HBASE-19052)                                                                                                                                                                                                               | FixedFileTrailer 應該會辨識 branch-1.x 中的 CellComparatorImpl 類別                                                                                     |
| BUG-90979              | [KNOX-1224](https://issues.apache.org/jira/browse/KNOX-1224)                                                                                                                                                                                                                   | 用來在 HA 中支援 Atlas 的 Knox Proxy HADispatcher。                                                                                                              |
| BUG-91293              | [RANGER-2060](https://issues.apache.org/jira/browse/RANGER-2060)                                                                                                                                                                                                               | Knox proxy 與 knox sso 搭配不適用於 ranger                                                                                                           |
| BUG-92236              | [ATLAS-2281](https://issues.apache.org/jira/browse/ATLAS-2281)                                                                                                                                                                                                                 | 使用 null/非 null 篩選條件儲存標記/類型屬性篩選條件查詢。                                                                                         |
| BUG-92238              | [ATLAS-2282](https://issues.apache.org/jira/browse/ATLAS-2282)                                                                                                                                                                                                                 | 只有在最愛搜尋超過 25 過時，才會在建立後進行重新整理時出現儲存的最愛搜尋。                                                          |
| BUG-92333              | [ATLAS-2286](https://issues.apache.org/jira/browse/ATLAS-2286)                                                                                                                                                                                                                 | 預先建置的類型 'kafka\_topic' 不應將 'topic' 屬性宣告為唯一的                                                                                 |
| BUG-92678              | [ATLAS-2276](https://issues.apache.org/jira/browse/ATLAS-2276)                                                                                                                                                                                                                 | hdfs\_path 類型實體的路徑值會從 hive-bridge 設成小寫。                                                                                 |
| BUG-93097              | [RANGER-1944](https://issues.apache.org/jira/browse/RANGER-1944)                                                                                                                                                                                                               | 系統管理員稽核的動作篩選條件沒有作用                                                                                                                 |
| BUG-93135              | [HIVE-15874](https://issues.apache.org/jira/browse/HIVE-15874)、 [HIVE-18189](https://issues.apache.org/jira/browse/HIVE-18189)                                                                                                                                                 | 將 hive.groupby.orderby.position.alias 設為 true 時，Hive 查詢會傳回錯誤結果                                                                      |
| BUG-93136              | [HIVE-18189](https://issues.apache.org/jira/browse/HIVE-18189)                                                                                                                                                                                                                 | 禁用 cbo 時，按位置排序不起作用                                                                                                         |
| BUG-93387              | [HIVE-17600](https://issues.apache.org/jira/browse/HIVE-17600)                                                                                                                                                                                                                 | 讓 OrcFile 的 "enforceBufferSize" 變成可由使用者設定。                                                                                                            |
| BUG-93495              | [RANGER-1937](https://issues.apache.org/jira/browse/RANGER-1937)                                                                                                                                                                                                               | Ranger tagsync 應該處理 ENTITY\_CREATE 通知，以支援 Atlas 匯入功能                                                                   |
| BUG-93512              | [PHOENIX-4466](https://issues.apache.org/jira/browse/PHOENIX-4466)                                                                                                                                                                                                             | java.lang.RuntimeException：回應碼 500 - 執行 spark 作業以連線到 phoenix 查詢伺服器和載入資料                                       |
| BUG-93801              | [HBASE-19393](https://issues.apache.org/jira/browse/HBASE-19393)                                                                                                                                                                                                               | 使用 SSL 存取 HBase UI 時，出現 HTTP 413 FULL 標頭。                                                                                                       |
| BUG-93804              | [HIVE-17419](https://issues.apache.org/jira/browse/HIVE-17419)                                                                                                                                                                                                                 | ANALYZE TABLE...COMPUTE STATISTICS FOR COLUMNS 命令會顯示已遮罩資料表的計算統計資料                                                                |
| BUG-93932              | [ATLAS-2320](https://issues.apache.org/jira/browse/ATLAS-2320)                                                                                                                                                                                                                 | 查詢的分類 "\*" 會擲回 500 內部伺服器例外狀況。                                                                                         |
| BUG-93933              | [ATLAS-2286](https://issues.apache.org/jira/browse/ATLAS-2286)                                                                                                                                                                                                                 | 預先建置的類型 'kafka\_topic' 不應將 'topic' 屬性宣告為唯一的                                                                                 |
| BUG-93938              | [ATLAS-2283](https://issues.apache.org/jira/browse/ATLAS-2283)、 [ATLAS-2295](https://issues.apache.org/jira/browse/ATLAS-2295)                                                                                                                                                 | 分類的 UI 更新                                                                                                                               |
| BUG-93941              | [ATLAS-2296](https://issues.apache.org/jira/browse/ATLAS-2296)、 [ATLAS-2307](https://issues.apache.org/jira/browse/ATLAS-2307)                                                                                                                                                 | 增強基本搜尋以選擇性地排除子類型實體和子分類類型                                                                |
| BUG-93944              | [ATLAS-2318](https://issues.apache.org/jira/browse/ATLAS-2318)                                                                                                                                                                                                                 | UI：對子標記按兩次，就會選取父標記                                                                                                    |
| BUG-93946              | [ATLAS-2319](https://issues.apache.org/jira/browse/ATLAS-2319)                                                                                                                                                                                                                 | UI：在單層式和樹狀結構中刪除標記清單內有 25 個以上位置的標記時，必須先重新整理才能從清單中移除該標記。                   |
| BUG-93977              | [HIVE-16232](https://issues.apache.org/jira/browse/HIVE-16232)                                                                                                                                                                                                                 | 對 QuotedIdentifier 中的資料行支援統計資料計算                                                                                                     |
| BUG-94030              | [ATLAS-2332](https://issues.apache.org/jira/browse/ATLAS-2332)                                                                                                                                                                                                                 | 使用具有巢狀集合資料類型的屬性無法建立類型                                                                                     |
| BUG-94099              | [ATLAS-2352](https://issues.apache.org/jira/browse/ATLAS-2352)                                                                                                                                                                                                                 | Atlas 伺服器應該提供組態以指定 Kerberos DelegationToken 的有效性                                                                   |
| BUG-94280              | [HIVE-12785](https://issues.apache.org/jira/browse/HIVE-12785)                                                                                                                                                                                                                 | 檢視具有等位型別，且用於 \`cast\` 結構的 UDF 會中斷                                                                                                |
| BUG-94332              | [SQOOP-2930](https://issues.apache.org/jira/browse/SQOOP-2930)                                                                                                                                                                                                                 | Sqoop 作業執行未覆寫已儲存的作業一般屬性                                                                                               |
| BUG-94428              | N/A                                                                                                                                                                                                                                                                            | 資料平面分析工具代理程式 REST API Knox 支援                                                                                                               |
| BUG-94514              | [ATLAS-2339](https://issues.apache.org/jira/browse/ATLAS-2339)                                                                                                                                                                                                                 | UI：在基本搜尋結果檢視的 "columns" 中進行修改也會影響 DSL。                                                                                |
| BUG-94515              | [ATLAS-2169](https://issues.apache.org/jira/browse/ATLAS-2169)                                                                                                                                                                                                                 | 設定了實刪除時，刪除要求會失敗                                                                                                          |
| BUG-94518              | [ATLAS-2329](https://issues.apache.org/jira/browse/ATLAS-2329)                                                                                                                                                                                                                 | 如果使用者對不正確的另一個標記按一下，就會出現 Atlas UI 多重停留                                                                             |
| BUG-94519              | [ATLAS-2272](https://issues.apache.org/jira/browse/ATLAS-2272)                                                                                                                                                                                                                 | 使用儲存搜尋 API 儲存所拖曳資料行的狀態。                                                                                                     |
| BUG-94627              | [HIVE-17731](https://issues.apache.org/jira/browse/HIVE-17731)                                                                                                                                                                                                                 | 在 HIVE-11985 中新增外部使用者的回溯相容性選項                                                                                                |
| BUG-94786              | [HIVE-6091](https://issues.apache.org/jira/browse/HIVE-6091)                                                                                                                                                                                                                   | 針對連線建立/關閉所建立的 pipeout 檔案是空的                                                                                                  |
| BUG-94793              | [HIVE-14013](https://issues.apache.org/jira/browse/HIVE-14013)                                                                                                                                                                                                                 | 描述資料表未正確顯示 unicode                                                                                                                 |
| BUG-94900              | [OOZIE-2606](https://issues.apache.org/jira/browse/OOZIE-2606)、 [OOZIE-2658](https://issues.apache.org/jira/browse/OOZIE-2658)、 [OOZIE-2787](https://issues.apache.org/jira/browse/OOZIE-2787)、 [OOZIE-2802](https://issues.apache.org/jira/browse/OOZIE-2802)                 | 設定 spark.yarn.jars 以使用 Oozie 修正 Spark 2.0                                                                                                              |
| BUG-94901              | [HBASE-19285](https://issues.apache.org/jira/browse/HBASE-19285)                                                                                                                                                                                                               | 新增每一資料表的延遲長條圖                                                                                                                             |
| BUG-94908              | [ATLAS-1921](https://issues.apache.org/jira/browse/ATLAS-1921)                                                                                                                                                                                                                 | UI：使用實體和特徵屬性的搜尋：UI 不會執行範圍檢查，且會允許針對整數和浮點數資料類型提供超出界限的值。  |
| BUG-95086              | [RANGER-1953](https://issues.apache.org/jira/browse/RANGER-1953)                                                                                                                                                                                                               | 改進使用者群組頁面清單                                                                                                                       |
| BUG-95193              | [SLIDER-1252](https://issues.apache.org/jira/browse/SLIDER-1252)                                                                                                                                                                                                               | 使用 python 2.7.5-58 時，Slider 代理程式會失敗，並發生 SSL 驗證錯誤                                                                                           |
| BUG-95314              | [YARN-7699](https://issues.apache.org/jira/browse/YARN-7699)                                                                                                                                                                                                                   | queueUsagePercentage 將會作為 getApp REST api 呼叫的 INF                                                                                               |
| BUG-95315              | [HBASE-13947](https://issues.apache.org/jira/browse/HBASE-13947)、 [HBASE-14517](https://issues.apache.org/jira/browse/HBASE-14517)、 [HBASE-17931](https://issues.apache.org/jira/browse/HBASE-17931)                                                                           | 將系統資料表指派給具有最高版本的伺服器                                                                                                         |
| BUG-95392              | [ATLAS-2421](https://issues.apache.org/jira/browse/ATLAS-2421)                                                                                                                                                                                                                 | 支援 V2 資料結構的通知更新                                                                                                           |
| BUG-95476              | [RANGER-1966](https://issues.apache.org/jira/browse/RANGER-1966)                                                                                                                                                                                                               | 原則引擎初始化不會在某些情況下建立內容擴充程式                                                                                 |
| BUG-95512              | [HIVE-18467](https://issues.apache.org/jira/browse/HIVE-18467)                                                                                                                                                                                                                 | 支援整個倉儲傾印/載入 + 建立/置放資料庫事件                                                                                            |
| BUG-95593              | N/A                                                                                                                                                                                                                                                                            | 擴充 Oozie DB 公用程式以支援 Spark2 sharelib 建立                                                                                                    |
| BUG-95595              | [HIVE-15563](https://issues.apache.org/jira/browse/HIVE-15563)                                                                                                                                                                                                                 | 忽略 SQLOperation.runQuery 中不合法的作業狀態轉換例外狀況，以公開實際的例外狀況。                                                       |
| BUG-95685              | [ATLAS-2422](https://issues.apache.org/jira/browse/ATLAS-2422)                                                                                                                                                                                                                 | 匯出：支援以類型為基礎的匯出                                                                                                                            |
| BUG-95798              | [PHOENIX-2714](https://issues.apache.org/jira/browse/PHOENIX-2714)、 [PHOENIX-2724](https://issues.apache.org/jira/browse/PHOENIX-2724)、 [PHOENIX-3023](https://issues.apache.org/jira/browse/PHOENIX-3023)、 [PHOENIX-3040](https://issues.apache.org/jira/browse/PHOENIX-3040) | 請勿使用 guideposts 來循序執行查詢                                                                                                          |
| BUG-95969              | [HIVE-16828](https://issues.apache.org/jira/browse/HIVE-16828)、 [HIVE-17063](https://issues.apache.org/jira/browse/HIVE-17063)、 [HIVE-18390](https://issues.apache.org/jira/browse/HIVE-18390)                                                                                 | 分割的檢視會失敗，並出現 FAILED：IndexOutOfBoundsException 索引：1，大小：1                                                                              |
| BUG-96019              | [HIVE-18548](https://issues.apache.org/jira/browse/HIVE-18548)                                                                                                                                                                                                                 | 修正 log4j 匯入                                                                                                                                             |
| BUG-96288              | [HBASE 14123](https://issues.apache.org/jira/browse/HBASE-14123)、 [HBASE 14135](https://issues.apache.org/jira/browse/HBASE-14135)、 [HBASE 17850](https://issues.apache.org/jira/browse/HBASE-17850)                                                                           | 後埠 HBase 備份/恢復 2.0                                                                                                                            |
| BUG-96313              | [KNOX-1119](https://issues.apache.org/jira/browse/KNOX-1119)                                                                                                                                                                                                                   | Pac4J OAuth/OpenID 主體必須是可設定的                                                                                                        |
| BUG-96365              | [ATLAS-2442](https://issues.apache.org/jira/browse/ATLAS-2442)                                                                                                                                                                                                                 | 具有實體資源唯讀權限的使用者無法執行基本搜尋                                                                              |
| BUG-96479              | [HDFS-12781](https://issues.apache.org/jira/browse/HDFS-12781)                                                                                                                                                                                                                 | Datanode 關閉之後，[在 Namenode UI Datanode] 索引標籤會擲回警告訊息。                                                                                |
| BUG-96502              | [RANGER-1990](https://issues.apache.org/jira/browse/RANGER-1990)                                                                                                                                                                                                               | 在 Ranger 系統管理員中新增單向 SSL MySQL 支援                                                                                                                |
| BUG-96718              | [ATLAS-2439](https://issues.apache.org/jira/browse/ATLAS-2439)                                                                                                                                                                                                                 | 更新 Sqoop 掛勾以使用 V2 通知                                                                                                                    |
| BUG-96748              | [HIVE-18587](https://issues.apache.org/jira/browse/HIVE-18587)                                                                                                                                                                                                                 | 插入 DML 事件可能會嘗試對目錄計算總和檢查碼                                                                                          |
| BUG-96821              | [HBASE-18212](https://issues.apache.org/jira/browse/HBASE-18212)                                                                                                                                                                                                               | 在具有本機檔案系統 HBase 記錄警告訊息的獨立模式中：無法在 org.apache.hadoop.fs.FSDataInputStream 類別中叫用 'unbuffer' 方法 |
| BUG-96847              | [HIVE-18754](https://issues.apache.org/jira/browse/HIVE-18754)                                                                                                                                                                                                                 | REPL STATUS 應該支援 'with' 子句                                                                                                                     |
| BUG-96873              | [ATLAS-2443](https://issues.apache.org/jira/browse/ATLAS-2443)                                                                                                                                                                                                                 | 在外寄 DELETE 訊息中擷取所需的實體屬性                                                                                               |
| BUG-96880              | [SPARK-23230](https://issues.apache.org/jira/browse/SPARK-23230)                                                                                                                                                                                                               | 當 hive.default.fileformat 是其他種類的檔案類型時，建立 textfile 資料表會造成 serde 錯誤                                                         |
| BUG-96911              | [OOZIE-2571](https://issues.apache.org/jira/browse/OOZIE-2571)、 [OOZIE-2792](https://issues.apache.org/jira/browse/OOZIE-2792)、 [OOZIE-2799](https://issues.apache.org/jira/browse/OOZIE-2799)、 [OOZIE-2923](https://issues.apache.org/jira/browse/OOZIE-2923)                 | 改善 Spark 選項剖析                                                                                                                                |
| BUG-97100              | [RANGER-1984](https://issues.apache.org/jira/browse/RANGER-1984)                                                                                                                                                                                                               | HBase 稽核記錄記錄可能不會顯示與訪問列關聯的所有標記                                                                                |
| BUG-97110              | [費尼克斯-3789](https://issues.apache.org/jira/browse/PHOENIX-3789)                                                                                                                                                                                                             | 在 postBatchMutateIndispensably 中執行跨區域索引維護呼叫                                                                                 |
| BUG-97145              | [HIVE-12245](https://issues.apache.org/jira/browse/HIVE-12245)、 [HIVE-17829](https://issues.apache.org/jira/browse/HIVE-17829)                                                                                                                                                 | HBase 支援的資料表可支援資料行註解                                                                                                            |
| BUG-97409              | [HADOOP-15255](https://issues.apache.org/jira/browse/HADOOP-15255)                                                                                                                                                                                                             | 可對 LdapGroupsMapping 中的群組名稱支援大小寫轉換                                                                                     |
| BUG-97535              | [HIVE-18710](https://issues.apache.org/jira/browse/HIVE-18710)                                                                                                                                                                                                                 | 在 Hive 2.X 中將 inheritPerms 延伸至 ACID                                                                                                                      |
| BUG-97742              | [OOZIE-1624](https://issues.apache.org/jira/browse/OOZIE-1624)                                                                                                                                                                                                                 | sharelib JAR 的排除模式                                                                                                                          |
| BUG-97744              | [PHOENIX-3994](https://issues.apache.org/jira/browse/PHOENIX-3994)                                                                                                                                                                                                             | 索引 RPC 優先順序仍需依賴 hbase-site.xml 中的控制器中心屬性                                                                        |
| BUG-97787              | [HIVE-18460](https://issues.apache.org/jira/browse/HIVE-18460)                                                                                                                                                                                                                 | Compactor 不會將資料表屬性傳遞至 Orc 寫入器                                                                                                    |
| BUG-97788              | [HIVE-18613](https://issues.apache.org/jira/browse/HIVE-18613)                                                                                                                                                                                                                 | 擴充 JsonSerDe 以支援 BINARY 類型                                                                                                                      |
| BUG-97899              | [HIVE-18808](https://issues.apache.org/jira/browse/HIVE-18808)                                                                                                                                                                                                                 | 統計資料更新失敗時，讓壓縮更穩固                                                                                                          |
| BUG-98038              | [HIVE-18788](https://issues.apache.org/jira/browse/HIVE-18788)                                                                                                                                                                                                                 | 清除 JDBC PreparedStatement 中的輸入                                                                                                                    |
| BUG-98383              | [HIVE-18907](https://issues.apache.org/jira/browse/HIVE-18907)                                                                                                                                                                                                                 | 建立公用程式以修正 HIVE-18817 中的 acid 金鑰索引問題                                                                                                   |
| BUG-98388              | [RANGER-1828](https://issues.apache.org/jira/browse/RANGER-1828)                                                                                                                                                                                                               | 良好的程式碼撰寫慣例 - 在 ranger 中新增其他標頭                                                                                                        |
| BUG-98392              | [RANGER-2007](https://issues.apache.org/jira/browse/RANGER-2007)                                                                                                                                                                                                               | ranger-tagsync 的 Kerberos 票證無法更新                                                                                                              |
| BUG-98533              | [HBASE-19934](https://issues.apache.org/jira/browse/HBASE-19934)、 [HBASE-20008](https://issues.apache.org/jira/browse/HBASE-20008)                                                                                                                                             | 由於空指標異常，HBase 快照還原失敗                                                                                              |
| BUG-98552              | [HBASE 18083](https://issues.apache.org/jira/browse/HBASE-18083)、 [HBASE 18084](https://issues.apache.org/jira/browse/HBASE-18084)                                                                                                                                             | 在 HFileCleaner 中讓大型/小型檔案清除執行緒數目變成可供設定的狀態                                                                                       |
| BUG-98705              | [KNOX-1230](https://issues.apache.org/jira/browse/KNOX-1230)                                                                                                                                                                                                                   | 若對 Knox 發出許多並行要求，將會導致 URL 弄亂                                                                                                         |
| BUG-98711              | N/A                                                                                                                                                                                                                                                                            | 不修改 service.xml，NiFi 分派就不能使用雙向 SSL                                                                                        |
| BUG-98880              | [OOZIE-3199](https://issues.apache.org/jira/browse/OOZIE-3199)                                                                                                                                                                                                                 | 讓系統屬性限制可供進行設定                                                                                                                 |
| BUG-98931              | [ATLAS-2491](https://issues.apache.org/jira/browse/ATLAS-2491)                                                                                                                                                                                                                 | 更新 Hive 掛勾以使用 Atlas v2 通知                                                                                                               |
| BUG-98983              | [KNOX-1108](https://issues.apache.org/jira/browse/KNOX-1108)                                                                                                                                                                                                                   | NiFiHaDispatch 未容錯移轉                                                                                                                              |
| BUG-99088              | [ATLAS-2511](https://issues.apache.org/jira/browse/ATLAS-2511)                                                                                                                                                                                                                 | 提供選項以供選擇性地將資料庫/資料表從 Hive 匯入到 Atlas                                                                                 |
| BUG-99154              | [OOZIE-2844](https://issues.apache.org/jira/browse/OOZIE-2844)、 [OOZIE-2845](https://issues.apache.org/jira/browse/OOZIE-2845)、 [OOZIE-2858](https://issues.apache.org/jira/browse/OOZIE-2858)、 [OOZIE-2885](https://issues.apache.org/jira/browse/OOZIE-2885)                 | Spark 查詢失敗，並發生 "java.io.FileNotFoundException: hive-site.xml (Permission denied)" 例外狀況                                                         |
| BUG-99239              | [ATLAS-2462](https://issues.apache.org/jira/browse/ATLAS-2462)                                                                                                                                                                                                                 | 若命令中未提供任何資料表，則所有資料表的 Sqoop 匯入會擲回 NPE                                                                                      |
| BUG-99636              | [KNOX-1238](https://issues.apache.org/jira/browse/KNOX-1238)                                                                                                                                                                                                                   | 修正閘道的自訂 Truststore 設定                                                                                                                   |
| BUG-99650              | [KNOX-1223](https://issues.apache.org/jira/browse/KNOX-1223)                                                                                                                                                                                                                   | Zeppelin 的 Knox proxy 不會如預期般重新導向 /api/ticket                                                                                               |
| BUG-99804              | [OOZIE-2858](https://issues.apache.org/jira/browse/OOZIE-2858)                                                                                                                                                                                                                 | HiveMain、ShellMain 和 SparkMain 不應在本機覆寫屬性和設定檔                                                                   |
| BUG-99805              | [OOZIE-2885](https://issues.apache.org/jira/browse/OOZIE-2885)                                                                                                                                                                                                                 | 執行 Spark 動作應該不需要在 classpath 上有 Hive                                                                                                  |
| BUG-99806              | [OOZIE-2845](https://issues.apache.org/jira/browse/OOZIE-2845)                                                                                                                                                                                                                 | 取代會在 HiveConf 中設定變數的反映型程式碼                                                                                                |
| BUG-99807              | [OOZIE-2844](https://issues.apache.org/jira/browse/OOZIE-2844)                                                                                                                                                                                                                 | 在 log4j.properties 遺失或無法讀取時增加 Oozie 動作的穩定性                                                                         |
| RMP-9995               | [AMBARI-22222](https://issues.apache.org/jira/browse/AMBARI-22222)                                                                                                                                                                                                             | 將 druid 改為使用 /var/druid 目錄，而不是本機磁碟上的 /apps/druid                                                                                |

### <a name="behavioral-changes"></a>行為變更

|**Apache 元件**|**Apache JIRA**|**摘要**|**詳細資料**|
|--|--|--|--|
|**Spark 2.3** |**不適用** |**Apache Spark 版本資訊中所述的變更** |- 有一個"棄用"文檔和"行為改變"指南，https://spark.apache.org/releases/spark-release-2-3-0.html#deprecations<br /><br />- 對於 SQL 部件，還有另一個詳細的"遷移"指南（從 2.2 到 2.3），https://spark.apache.org/docs/latest/sql-programming-guide.html#upgrading-from-spark-sql-22-to-23|
|Spark |[**HIVE-12505**](https://issues.apache.org/jira/browse/HIVE-12505) |Spark 作業已順利完成，但是有 HDFS 磁碟配額已滿錯誤 |**案例：** 在已對執行命令的使用者所擁有的 [資源回收筒] 資料夾設定配額時，執行 **insert overwrite**。<br /><br />**先前的行為：** 即使無法將資料移至資源回收筒，作業仍會成功。 結果可能會錯誤地包含一些先前出現在資料表中的資料。<br /><br />**新的行為：** 移至 [資源回收筒] 資料夾若失敗，就會永久刪除檔案。|
|**Kafka 1.0**|**不適用**|**Apache Spark 版本資訊中所述的變更** |https://kafka.apache.org/10/documentation.html#upgrade_100_notable|
|**Hive/ Ranger** | |INSERT OVERWRITE 需要其他 ranger hive 原則 |**案例：****INSERT OVERWRITE** 需要其他 ranger hive 原則<br /><br />**先前的行為：** Hive **INSERT OVERWRITE** 查詢會如往常般成功。<br /><br />**新的行為：** Hive **INSERT OVERWRITE** 查詢會在升級至 HDP-2.6.x 之後意外失敗，並出現錯誤：<br /><br />編譯陳述式時發生錯誤：FAILED：HiveAccessControlException 權限遭拒：使用者 jdoe 沒有 /tmp/\*(state=42000,code=40000) 的 WRITE 權限<br /><br />截至 HDP-2.6.0，Hive **INSERT OVERWRITE** 查詢需要 Ranger URI 原則才能允許寫入作業，即使使用者已透過 HDFS 原則獲得寫入權限也是一樣。<br /><br />**因應措施/期望的客戶動作：**<br /><br />1. 在 Hive 存儲庫下創建新策略。<br />2. 在看到資料庫的下拉下，選擇 URI。<br />3. 更新路徑（示例：/tmp/*）<br />4. 添加使用者和組並保存。<br />5. 重試插入查詢。|
|**HDFS**|**不適用** |HDFS 應支援多個 KMS Uris |**先前的行為：** 使用 dfs.encryption.key.provider.uri 屬性來設定 KMS 提供者路徑。<br /><br />**新的行為：** dfs.encryption.key.provider.uri 現已淘汰，改為使用 hadoop.security.key.provider.path 來設定 KMS 提供者路徑。|
|**Zeppelin**|[**澤佩林-3271**](https://issues.apache.org/jira/browse/ZEPPELIN-3271)|可供停用排程器的選項 |**受影響的元件：** Zeppelin-Server<br /><br />**先前的行為：** 在舊版 Zeppelin 中，沒有選項可停用排程器。<br /><br />**新的行為：** 根據預設，使用者不會再看到排程器，因為其已依預設停用。<br /><br />**因應措施/期望的客戶動作：** 如果您想要啟用排程器，您必須從 Ambari 在 Zeppelin 設定中於自訂 zeppelin 網站之下新增值為 true 的 azeppelin.notebook.cron.enable。|

### <a name="known-issues"></a>已知問題

- **HDInsight 與 ADLS Gen 2 的整合** - 搭配使用者目錄及權限使用 Azure Data Lake Storage Gen 2 的 HDInsight ESP 叢集上有兩個問題：
   
  1. 使用者的主目錄不會建立在前端節點 1 上。 為因應此情況，請手動建立目錄，並將擁有權變更為個別使用者的 UPN。
   
  2. /hdp 目錄上的權限目前未設定為 751。 這必須設定為 
     ```bash
     chmod 751 /hdp 
     chmod –R 755 /hdp/apps
     ```

- **Spark 2.3**

  -   \[[*SPARK-23523* ](https://issues.apache.org/jira/browse/SPARK-23523) \] \[ \] SQL 錯誤的結果由規則優化中繼資料僅查詢引起

  -   \[[*SPARK-23406*](https://issues.apache.org/jira/browse/SPARK-23406)\]流自聯接中的 Bug

  -   當 Azure 資料湖存儲 （Gen2） 是群集的預設存儲時，Spark 示例筆記本不可用。

- **企業安全包**

  - Spark 節儉伺服器不接受來自 ODBC 用戶端的連接。
    因應措施步驟：
    1. 在建立叢集之後等候 15 分鐘左右。
    2. 檢查 ranger UI 中是否有 hivesampletable_policy。
    3. 重新啟動 Spark 服務。
       STS 連線現在應可正常運作。

- **Ranger 服務檢查失敗的因應措施**

  -   [RANGER-1607](https://issues.apache.org/jira/browse/RANGER-1607)：從先前的 HDP 版本升級至 HDP 2.6.2 時，Ranger 服務檢查失敗的因應措施。

      > [!NOTE]  
      > 只有在 Ranger 已啟用 SSL 時。 
     
  嘗試透過 Ambari 從先前的 HDP 版本升級至 HDP-2.6.1 時，就會發生此問題。 Ambari 會使用 curl 呼叫來對 Ambari 中的 Ranger 服務進行服務檢查。 如果 Ambari 使用的 JDK 版本是 JDK-1.7，curl 呼叫會失敗並出現下列錯誤：
    
  `curl: (35) error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure`
    
  這項錯誤的原因是用在 Ranger 的 tomcat 版本是 Tomcat-7.0.7\*。 使用 JDK-1.7 會與 Tomcat-7.0.7\* 中提供的預設編碼器衝突。
    
  您可以透過兩種方式解決這個問題：
    
  -   將 Ambari 中使用的 JDK 從 JDK-1.7 更新至 JDK-1.8 (請參閱《Ambari 參考指南》中的[變更 JDK 版本](https://docs.hortonworks.com/HDPDocuments/Ambari-2.2.0.0/bk_ambari_reference_guide/content/ch_changing_the_jdk_version_on_an_existing_cluster.html))。
    
  -   如果您想要繼續支援 JDK-1.7 環境：
    
      1.  在 Ambari Ranger 設定中的 ranger-admin-site 區段內，使用下列值新增 ranger.tomcat.ciphers 屬性：
            
          SSL\_RSA\_WITH\_RC4\_128\_MD5, SSL\_RSA\_WITH\_RC4\_128\_SHA, TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA, SSL\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA
        
      2.  如果環境是針對 Ranger-KMS 進行設定的，則在 Ambari Ranger 設定中的 theranger-kms-site 區段內，使用下列值新增 ranger.tomcat.ciphers 屬性：
            
          SSL\_RSA\_WITH\_RC4\_128\_MD5, SSL\_RSA\_WITH\_RC4\_128\_SHA, TLS\_RSA\_WITH\_AES\_128\_CBC\_SHA, SSL\_RSA\_WITH\_3DES\_EDE\_CBC\_SHA
    
  >[!NOTE]  
  >所記下的值是可供運作的範例，可能無法代表您的環境。 請確定您在設定這些屬性時，所使用的方式符合您環境的設定方式。   

- **RangerUI：逸出在原則表單中輸入的原則條件文字**
    
  **受影響的元件：** Ranger
    
  **問題描述**
    
  如果使用者想要創建具有自訂策略條件的策略，並且運算式或文本包含特殊字元，則策略強制不起作用。 特殊字元會先轉換為 ASCII，然後才將原則儲存到資料庫。
    
  **特殊字元："**  &  &lt; &gt; \` '
    
  例如，條件 tags.attributes\['type'\]='abc' 會在儲存原則之後轉換成下列文字。
    
  tags.attds\[&\#x27;dsds&\#x27;\]=&\#x27;cssdfs&\#x27;
    
  您可以在編輯模式中開啟原則，以看到有這些字元的原則條件。
    
  **解決 方案**
    
  - **選項\#1：透過 Ranger Rest API 建立/更新原則**
        
      REST URL：http://&lt;host&gt;:6080/service/plugins/policies
        
      **建立具有原則條件的原則：**
        
      下列範例會將具有標記的原則建立為 \`tags-test\`，並將其指派給 \`public\` 群組 (原則條件為 astags.attr\['type'\]=='abc')，方法是選取所有hive 元件權限，像是選取、更新、建立、卸除、改變、編製索引、鎖定、所有。
        
      **例子：**
        
      ```bash
        curl -H "Content-Type: application/json" -X POST http://localhost:6080/service/plugins/policies -u admin:admin -d '{"policyType":"0","name":"P100","isEnabled":true,"isAuditEnabled":true,"description":"","resources":{"tag":{"values":["tags-test"],"isRecursive":"","isExcludes":false}},"policyItems":[{"groups":["public"],"conditions":[{"type":"accessed-after-expiry","values":[]},{"type":"tag-expression","values":["tags.attr['type']=='abc'"]}],"accesses":[{"type":"hive:select","isAllowed":true},{"type":"hive:update","isAllowed":true},{"type":"hive:create","isAllowed":true},{"type":"hive:drop","isAllowed":true},{"type":"hive:alter","isAllowed":true},{"type":"hive:index","isAllowed":true},{"type":"hive:lock","isAllowed":true},{"type":"hive:all","isAllowed":true}]}],"denyPolicyItems":[],"allowExceptions":[],"denyExceptions":[],"service":"tagdev"}'
      ```
        
      **更新具有原則條件的現有原則：**
        
      下列範例會將具有標記的原則更新為 \`tags-test\`，並將其指派給 \`public\` 群組 (原則條件為 astags.attr\['type'\]=='abc')，方法是選取所有hive 元件權限，像是選取、更新、建立、卸除、改變、編製索引、鎖定、所有。
        
      REST URL：http://&lt;host-name&gt;:6080/service/plugins/policies/&lt;policy-id&gt;
        
      **例子：**
        
      ```bash
        curl -H "Content-Type: application/json" -X PUT http://localhost:6080/service/plugins/policies/18 -u admin:admin -d '{"id":18,"guid":"ea78a5ed-07a5-447a-978d-e636b0490a54","isEnabled":true,"createdBy":"Admin","updatedBy":"Admin","createTime":1490802077000,"updateTime":1490802077000,"version":1,"service":"tagdev","name":"P0101","policyType":0,"description":"","resourceSignature":"e5fdb911a25aa7f77af5a9546938d9ed","isAuditEnabled":true,"resources":{"tag":{"values":["tags"],"isExcludes":false,"isRecursive":false}},"policyItems":[{"accesses":[{"type":"hive:select","isAllowed":true},{"type":"hive:update","isAllowed":true},{"type":"hive:create","isAllowed":true},{"type":"hive:drop","isAllowed":true},{"type":"hive:alter","isAllowed":true},{"type":"hive:index","isAllowed":true},{"type":"hive:lock","isAllowed":true},{"type":"hive:all","isAllowed":true}],"users":[],"groups":["public"],"conditions":[{"type":"ip-range","values":["tags.attributes['type']=abc"]}],"delegateAdmin":false}],"denyPolicyItems":[],"allowExceptions":[],"denyExceptions":[],"dataMaskPolicyItems":[],"rowFilterPolicyItems":[]}'
      ```
        
  - **選項\#2：套用 Javascript 變更**
        
      JS 檔案的更新步驟：
        
      1.  在 /usr/hdp/current/ranger-admin 底下找出 PermissionList.js 檔案
        
      2.  找出 renderPolicyCondtion 函式的定義 (行號：404)。
        
      3.  從該函式移除下面這行，也就是 在顯示函式底下 (行號：434)
            
          val = \_.escape(val);//Line No:460
            
          在移除上述程式碼行之後，Ranger UI 便可讓您建立具有原則條件的原則 (可包含特殊字元)，且相同原則的原則評估將會成功。

**HDInsight 與 ADLS 第 2 代集成：使用者目錄和 ESP 群集的許可權問題**
    1.  使用者的主目錄不會建立在前端節點 1 上。 為因應此情況，請手動建立這些目錄，並將擁有權變更為個別使用者的 UPN。
    2.  /hdp 上的權限目前未設定為 751。 這必須設定為 a.  chmod 751 /hdp b.  chmod –R 755 /hdp/apps

### <a name="deprecation"></a>淘汰

-   **OMS 入口網站：** 我們已從 HDInsight 資源頁面中移除指向 OMS 入口網站的連結。 Azure 監視器日誌最初使用其自己的門戶稱為 OMS 門戶來管理其配置並分析收集的資料。 這個入口網站中的所有功能都已移至 Azure 入口網站，並將繼續進行開發。 HDInsight 已淘汰對於 OMS 入口網站的支援。 客戶將使用 HDInsight Azure 監視器日誌集成在 Azure 門戶中。

-   **Spark 2.3**

    -   <https://spark.apache.org/releases/spark-release-2-3-0.html#deprecations>

### <a name="upgrading"></a>升級中

這些功能全都可在 HDInsight 3.6 中使用。 若要取得最新版本的 Spark、Kafka 和 R Server (機器學習服務)，請在[建立 HDInsight 3.6 叢集](https://docs.microsoft.com/azure/hdinsight/hdinsight-hadoop-provision-linux-clusters)時選擇 Spark、Kafka、ML 服務版本。 若要取得 ADLS 的支援，您可以選擇 ADLS 儲存體類型選項。 現有群集不會自動升級到這些版本。

在 2018 年 6 月之後建立的所有新叢集，會自動取得所有開放原始碼專案超過 1000 個以上的錯誤修正。 請遵循[這個](https://docs.microsoft.com/azure/hdinsight/hdinsight-upgrade-cluster)指南，來取得關於升級至較新 HDInsight 版本的最佳做法。
